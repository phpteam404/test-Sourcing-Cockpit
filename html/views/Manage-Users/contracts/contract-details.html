<div class="animated fadeIn">
    <div class="card-group col-lg-12 p0 contract-details">
        <div class="row">
            <div class="col-lg-8 pl0 large-widget">
                <div class="card col-lg-12 p0 left-card-details">
                    <h5 class="contractcard" title="{{contractInfo.contract_name}}">{{contractInfo.contract_name}}
                        <small
                            ng-if="contractInfo.parent_contract_id!='U2FsdGVkX19UaGVAMTIzNFkR8dxfIo31jqYSIUCU2+8=' && contractInfo.ieaaei == 'itako' &&  user1.iroori != 'itako'">
                            <a ui-sref="app.contract.view2({name:contractInfo.parent_contract_name,id:(contractInfo.parent_contract_id | encode),type:'review'})"
                                n-t='{"valid":"true","m_t":"Contract","a_n":"view","a_d":"Contract($${{contractInfo.parent_contract_name}})"}'>
                                [{{'contract.view_parent_contract' | translate}}] </a>
                        </small>
                    </h5>

                    <div class="contract-detalis-view">
                        <div class="card-block border-left-none contract-idblock">
                            <div class="h4 m-b-0">{{'contract.Id' | translate}}</div>
                            <span class="widget-span">{{contractInfo.contract_unique_id |translate}}</span>
                        </div>
                        <div class="card-block contract-owner">
                            <div class="h4 m-b-0">{{'contract.responsible' | translate}}</div>
                            <span class="widget-span ellipse-text"
                                title="{{contractInfo.responsible_user_name | checkEmpty}}">{{contractInfo.responsible_user_name
                                | checkEmpty}}</span>
                            <span class="widget-span error-message" style="display: flex;"
                                ng-if="contractInfo.data_owner_error==1">!
                                {{'contract.valid_owner' | translate}}</span>
                        </div>
                        <div class="card-block contract-delegate">
                            <div class="h4 m-b-0">{{'contract.delegates' | translate}}</div>
                            <span class="widget-span  ellipse-text"
                                title="{{contractInfo.delegate_user_name | checkEmpty}}">{{contractInfo.delegate_user_name
                                | checkEmpty}}</span>
                            <span class="widget-span error-message" style="display: flex;"
                                ng-if="contractInfo.data_delegate_error==1">!
                                {{'contract.valid_delegate' | translate}}</span>
                        </div>

                        <div class="card-block contract-lastcompleted">
                            <div class="h4 m-b-0">{{'contract.contracts_value' | translate}}</div>
                            <span class="widget-span">{{contractInfo.Projected_value | currency :
                                contractInfo.currency_name+' ':0 |checkEmpty}}</span>
                        </div>
                        <div class="card-block contract-status">
                            <div class="h4 m-b-0">{{'contract.status' | translate}}</div>
                            <span class="widget-span red"
                                ng-if="contractInfo.contract_active_status=='Closed'">{{contractInfo.contract_active_status
                                | capitalize}}</span>
                            <span class="widget-span green" ng-if="contractInfo.contract_active_status=='Active'">{{
                                contractInfo.contract_active_status| capitalize}}</span>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-lg-4 icons-widget pr0">
                <div class="card-group contract-card-group">
                    <div class="card contract-main-card"
                        ng-if="(user1.user_type!='external') && validation_status!=2 || (validation_status ==2 && contractInfo.validation_contributor) || (contractInfo.contract_user_access=='ca')">
                        <div class="card-block" ng-click="goToContractLogs()">
                            <div class="h2 text-xs-center">
                                <i class="icon-template-manage"></i>
                            </div>
                            <small class="text-center font-weight-bold">{{'contract.log' | translate}}</small>
                        </div>
                    </div>
                    <div class="card contract-main-card" ng-class="{'hand-symbol':validation_status==2}"
                        ng-if="(validation_status==2 && !contractInfo.validation_contributor) && contractInfo.contract_user_access!='ca'">
                        <div class="card-block">
                            <div class="h2 text-xs-center finalize">
                                <i class="icon-template-manage finalize-disable"></i>
                            </div>
                            <small class="text-center font-weight-bold finalize-disable">{{'contract.log' |
                                translate}}</small>
                        </div>
                    </div>


                    <div class="contract-card-group-list">
                        <div class="text-center">
                            <h5 class="contract-card-group-list-heading">
                                <label ng-if="reviewWorkflowInfo.is_workflow==0 && contractInfo.can_review=='1'">{{'calender.review' |
                                    translate}}</label>
                                <label style="color: #5bb166;" ng-if="reviewWorkflowInfo.is_workflow==1"> {{'calender.workflow' | translate}}
                                </label>
                                <span ng-if="contractInfo.can_review=='1'"
                                    title="{{reviewWorkflowInfo.acitvity_name}}">&nbsp;-&nbsp;{{reviewWorkflowInfo.acitvity_name
                                    | checkEmpty}}</span>
                            </h5>
                        </div>

                        <div style="display:flex;" class="contract-group-icons">
                            <div class="card dashboard-block"
                                ng-if="(contractInfo.can_review=='1') && (contractInfo.id_contract_review) &&
                             (isWorkflow=='0') && (contractInfo.contract_status != 'new' && contractInfo.contract_status != 'review finalized' && contractInfo.contract_status != 'pending review')">
                                <div class="card-block" ng-click="goToContractReview(contractInfo)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-action-items"></i>
                                    </div>
                                    <small class="text-center font-weight-bold"
                                        ng-if="!contractInfo.validation_contributor">{{'contract.execute' |
                                        translate}}</small>
                                    <small class="text-center font-weight-bold"
                                        ng-if="contractInfo.validation_contributor">{{'contract.validate'|translate}}</small>
                                </div>
                            </div>

                            

                            <div class="card dashboard-block"
                                ng-if="(contractInfo.id_contract_review) && (isWorkflow=='1')
                             && (contractInfo.contract_status != 'new' && contractInfo.contract_status != 'workflow finalized' && contractInfo.contract_status != 'pending workflow')">
                                <div class="card-block" ng-click="goToContractReview(contractInfo)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-action-items"></i>
                                    </div>
                                    <small class="text-center font-weight-bold"
                                        ng-if="!contractInfo.validation_contributor">{{'workflows.execute' |
                                        translate}}</small>
                                    <small class="text-center font-weight-bold"
                                        ng-if="contractInfo.validation_contributor">{{'contract.validate'|translate}}</small>
                                </div>
                            </div>
                            
                            <!-- For log icon disable condition close-->
                            <div class="card dashboard-block"
                                ng-if="(contractInfo.id_contract_review) && (contractInfo.can_review=='1')  && (validation_status!=2 || contractInfo.contract_user_access=='ca' || contractInfo.validation_contributor)">
                                <div class="card-block" ng-click="goToDashboard(contractInfo)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-dashboard5"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.dashboard' |
                                        translate}}</small>
                                </div>
                            </div>
                            <!-- For dashboard icon disable condition open-->
                            <div class="card dashboard-block" ng-class="{'hand-symbol':validation_status==2}"
                                ng-if="(validation_status==2 && !contractInfo.validation_contributor) && contractInfo.contract_user_access!='ca'">
                                <div class="card-block">
                                    <div class="h2 text-xs-center finalize">
                                        <i class="icon-dashboard5 finalize"></i>
                                    </div>
                                    <small class="text-center font-weight-bold finalize">{{'contract.dashboard' |
                                        translate}}</small>
                                </div>
                            </div>

                            <div class="card active emptyTask" ng-if="contractInfo.can_review=='0' && (contractInfo.contract_user_access == 'ca' || contractInfo.contract_user_access == 'bo' || contractInfo.contract_user_access == 'bd' || contractInfo.contract_user_access=='bm')">
                            </div>

                            <!-- For dashboard icon disable condition close-->
                            <div class="card active dashboard-block"
                                ng-if="contractInfo.can_review == '1' && (contractInfo.contract_user_access == 'ca' || contractInfo.contract_user_access == 'bo' || contractInfo.contract_user_access == 'bd' || contractInfo.contract_user_access =='bm' ) &&
                        (isWorkflow=='0') && (contractInfo.contract_status == 'new' || contractInfo.contract_status == 'review finalized' || contractInfo.contract_status == 'pending review') && (contractInfo.review_scheduled == 1)">
                                <div class="card-block" ng-click="initializeReview(false)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-touchpoints"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.initiate' |
                                        translate}}</small>
                                </div>
                            </div>
                            <div class="card active dashboard-block"
                                ng-if="contractInfo.can_review == '1' && (contractInfo.contract_user_access == 'ca' || contractInfo.contract_user_access == 'bo' || contractInfo.contract_user_access == 'bd' || contractInfo.contract_user_access=='bm' ) && (isWorkflow=='1') && (contractInfo.contract_status == 'new' || contractInfo.contract_status == 'workflow finalized' || contractInfo.contract_status == 'pending workflow') && (contractInfo.review_scheduled == 1)">
                                <div class="card-block" ng-click="initializeReview(false)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-touchpoints"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.initiate' |
                                        translate}}</small>
                                </div>
                            </div>
                            <div class="card dashboard-block"
                                ng-if="contractInfo.can_review == '1' && (contractInfo.contract_user_access == 'ca' || contractInfo.contract_user_access == 'bo' || contractInfo.contract_user_access == 'bd' || contractInfo.contract_user_access=='bm') && (isWorkflow=='0') &&(contractInfo.contract_status == 'new' || contractInfo.contract_status == 'review finalized' || contractInfo.contract_status == 'pending review') && (contractInfo.review_scheduled == 0)">
                                <div class="card-block" ng-click="initializeReview(true)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-touchpoints"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.adhoc_review' |
                                        translate}}</small>
                                </div>
                            </div>
                            <div class="card dashboard-block"
                                ng-if="contractInfo.can_review == '1' && (contractInfo.contract_user_access == 'ca' || contractInfo.contract_user_access == 'bo' || contractInfo.contract_user_access == 'bd' || contractInfo.contract_user_access=='bm') &&
                        (isWorkflow=='1') &&(contractInfo.contract_status == 'new' || contractInfo.contract_status == 'workflow finalized' || contractInfo.contract_status == 'pending workflow') && (contractInfo.review_scheduled == 0)">
                                <div class="card-block" ng-click="initializeReview(true)">
                                    <div class="h2 text-xs-center">
                                        <i class="icon-touchpoints"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.adhoc_workflow' |
                                        translate}}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 p0">
        <div class="row">
            <div class="col-sm-8 col-lg-8 pl0 info-tabs-div custom-scroll-tabs-contract" ng-init="reCalcScroll()">
                <scrollable-tabset api="scrlTabsApi" tooltip-left-placement="top"
                    drop-down-header-template-url="menuHeaderTemplate" drop-down-header-class="menuHeader">
                    <uib-tabset>
                        <uib-tab ng-repeat="tab in tabs track by $index" active="tab.active" class="{{tab.class}}">
                            <uib-tab-heading>
                                {{tab.heading | checkEmpty}}
                            </uib-tab-heading>
                            <div class="tabContent">
                                <div ng-include src="tab.content"></div>
                            </div>
                        </uib-tab>


                    </uib-tabset>

                </scrollable-tabset>


            </div>
            <div class="col-sm-4 col-lg-4 pr0">
                <!-- Accordion starts-->
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders"
                        template-url="group-template0.html" ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                            <span class="f12" tooltip-placement="left" ng-if="reviewWorkflowInfo.is_workflow==0"
                                uib-tooltip-html="htmlTooltip" tooltip-class="customClass" style="min-width: 11.3px;">
                                <i class="fa fa-info-circle f12 gray"
                                    ng-if="reviewWorkflowInfo.recurrenc && reviewWorkflowInfo.recurrence_till"></i>
                            </span>
                            <span class="f12" tooltip-placement="left" ng-if="reviewWorkflowInfo.is_workflow==1"
                                tooltip-class="customClass" style="min-width: 11.3px;">
                                <i class="fa fa-info-circle f12 gray"
                                    uib-tooltip=" Execute By :- {{reviewWorkflowInfo.recurrence_till | date}}"
                                    ng-if="reviewWorkflowInfo.recurrence_till"></i>
                            </span>

                            <span ng-if="reviewWorkflowInfo.is_workflow==0" class="orange hand-symbol"
                                style="padding-left: 7px;"> {{'calender.review' | translate}} </span>
                            <span ng-if="reviewWorkflowInfo.is_workflow==1" class="green hand-symbol"
                                style="padding-left: 7px;"> {{'calender.workflow' | translate}} </span>
                            <span class="hand-symbol" style="font-weight: normal;width: 100%;
                                        white-space: nowrap;
                                        text-overflow: ellipsis;
                                        display: inline-block;
                                        padding:2px 5px 2px 0px;
                                        overflow: hidden;"
                                title="{{reviewWorkflowInfo.acitvity_name}}">&nbsp;-&nbsp;{{reviewWorkflowInfo.acitvity_name
                                | checkEmpty}}</span>
                            <div class="score-with-status mr-5" ng-if="reviewWorkflowInfo.review_click==1">
                                <span class="f12">{{reviewWorkflowInfo.contract_progress == null ?
                                    "0%":reviewWorkflowInfo.contract_progress}}</span>
                                <div class="status-widget font-weight-bold" style="line-height: 6px;">
                                    <span ng-if="reviewWorkflowInfo.score == 'Amber'" class="amber-active"></span>
                                    <span ng-if="reviewWorkflowInfo.score == 'Red'" class="red-active"></span>
                                    <span ng-if="reviewWorkflowInfo.score == 'Green'" class="green-active"></span>
                                    <span ng-if="!reviewWorkflowInfo.score" class=""></span>
                                    <span ng-if="reviewWorkflowInfo.score == 'N/A'"
                                        class="">{{reviewWorkflowInfo.score}}</span>
                                </div>
                            </div>

                            <!-- <div ng-if="row.review_click !=0"> -->
                            <span style="width:20px;min-width: 20px;"
                                ng-if="reviewWorkflowInfo.validation_status=='' && row.review_click ==1"
                                class="mr-5"></span>
                            <span ng-if="reviewWorkflowInfo.validation_status==4 && row.review_click !=0"
                                class="exclamatory-circle mr-5" style="margin-top: 4px;"> <i
                                    class="fa fa-exclamation-circle" uib-tooltip="{{'contract.validation_preparation' | translate}}"
                                    tooltip-placement="left" style="font-size: 20px;"></i></span>
                            <span ng-if="reviewWorkflowInfo.validation_status==2 && row.review_click !=0"
                                class="refresh-icon mr-5" style="margin-top: 3px;"><i class="fa fa-refresh"
                                    style="font-size: 12px;" uib-tooltip="{{'normal.validation_ongoing' | translate}}"
                                    tooltip-placement="left"></i></span>
                            <span ng-if="reviewWorkflowInfo.validation_status==1 && row.review_click !=0" class="mr-5"
                                style="margin-top:4px;"><i class="tss-validation" 
                                    style="font-size: 17px;line-height: 20px;" uib-tooltip="{{'contract.validation_preparation' | translate}}"
                                    tooltip-placement="left"></i></span>
                            <span ng-if="reviewWorkflowInfo.validation_status==3 && row.review_click !=0"
                                class="green mr-5" style="margin-top: 4px;"><i class="fa fa-check-circle"
                                    style="font-size: 20px;" uib-tooltip="{{'normal.validation_finalized' | translate}}"
                                    tooltip-placement="left"></i></span>
                            <span style="width: 30px;margin-right: 3px !important;min-width: 21px;">
                                <i class="glyphicon" ng-if="reviewWorkflowInfo.review_data.length>0"
                                    ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            </span>
                            <!-- </div> -->

                            <span uib-dropdown on-toggle="toggled(open5);" class="c-dropdown  pull-right"
                                style="width:40px;min-width: 32px; display: flex;">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px"
                                    ng-if="contractInfo.contract_user_access !='co' && user.access!='ro'">
                                    <span class="fa fa-ellipsis-v gray"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown"
                                    style="min-width:11rem;">
                                    <li ng-if="contractInfo.is_review_exists_incalendar==0">
                                        <a href="javascript:;" style="border-bottom:1px solid #ccc; padding: 10px;"
                                            ng-click="$event.stopPropagation();addTaskInCalendar('add_review_calendar_title',true,contractInfo)">{{'contract.add_Review_calender'| translate}}</a>
                                    </li>
                                    <li ng-if="contractInfo.is_review_exists_incalendar==1">
                                        <a href="javascript:;" style="border-bottom:1px solid #ccc; padding: 10px;"
                                            class="f14 gray hand-symbol">{{'contract.add_Review_calender'| translate}}</a>
                                    </li>
                                    <li>
                                        <a href="javascript:;" style="border-bottom: 0px !important;padding: 10px;"
                                            ng-click="$event.stopPropagation();addTaskInCalendar('add_workflow_calendar_title',false,contractInfo)">{{'contract.task_calender'| translate}}</a>
                                    </li>
                                </ul>
                            </span>
                        </uib-accordion-heading>
                        <div class="card-block" style="padding-left: 30px;padding-top: 7px;padding-bottom: 0px;"
                            ng-if="reviewWorkflowInfo.review_data.length>0">
                            <div class="partners-content review-content"
                                ng-repeat="row in reviewWorkflowInfo.review_data">
                                <div class=" d-flex align-items-center clearfix f14"
                                    ng-click="row.review_click !=0 && shiftToNewDetails(row)">
                                    <div class="col-md-2 pr-0 pl0">

                                        <span class="f14 orange" ng-class="{'hand-symbol':(row.review_click ==0 && row.is_workflow==0),
                                        'pointer':(row.review_click !=0 && row.is_workflow!=0)}"
                                            ng-if="row.is_workflow==0">{{'calender.review' | translate}}</span>
                                        <span class="f14 green" ng-class="{'hand-symbol':(contractInfo.review_click ==0 && row.is_workflow==0),
                                        'pointer':(row.review_click !=0 && row.is_workflow!=0)}"
                                            ng-if="row.is_workflow==1">{{'calender.workflow' | translate}}</span>
                                    </div>
                                    <div class="col-md-10 pr0 d-flex align-items-center">
                                        <a class="f14 ellipis" href="javascript:;" style="width: calc(100% - 60px);
                                            white-space: nowrap;
                                            text-overflow: ellipsis;
                                            display: inline-block;" title="{{row.acitvity_name}}"
                                            ng-class="{'hand-symbol':(row.review_click ==0 && row.is_workflow==0),
                                                    'pointer':(row.review_click !=0 && row.is_workflow!=0)}">{{row.acitvity_name | checkEmpty}}</a>
                                        <div class="score-with-status" style="margin-right: 5px;"
                                            ng-if="row.review_click ==1">
                                            <span class="f12">{{row.contract_progress == null ?
                                                "0%":row.contract_progress}}</span>
                                            <div class="status-widget font-weight-bold" style="line-height: 6px;">
                                                <span ng-if="row.score == 'Amber'" class="amber-active"></span>
                                                <span ng-if="row.score == 'Red'" class="red-active"></span>
                                                <span ng-if="row.score == 'Green'" class="green-active"></span>
                                                <span ng-if="!row.score" class=""></span>
                                                <span ng-if="row.score == 'N/A'" class="">{{row.score}}</span>
                                            </div>
                                        </div>

                                        <div ng-if="row.review_click !=0">
                                            <span style="width:20px;" ng-if="row.validation_status==''"></span>
                                            <span style="width:20px;display: flex;margin-top: 4px;"
                                                ng-if="row.validation_status==4" class="exclamatory-circle"> <i
                                                    class="fa fa-exclamation-circle"
                                                    uib-tooltip="{{'contract.validation_preparation' | translate}}"
                                                    tooltip-placement="left" 
                                                    style="font-size: 20px;"></i></span>
                                            <span style="margin-top: 4px;" ng-if="row.validation_status==2"
                                                class="refresh-icon"><i class="fa fa-refresh" style="font-size: 12px;"
                                                    uib-tooltip="{{'normal.validation_ongoing' | translate}}"
                                                    tooltip-placement="left"></i></span>
                                            <span
                                                style="width:20px;display: flex;align-items: center;justify-content: center;margin-top: 5px;"
                                                ng-if="row.validation_status==1"><i class="tss-validation"
                                                    style="font-size: 17px; line-height: 9px;"
                                                    uib-tooltip="{{'contract.validation_preparation' | translate}}"
                                                    tooltip-placement="left"></i></span>
                                            <span style="width:20px;display: flex;margin-top: 4px;"
                                                ng-if="row.validation_status==3" class="green"><i
                                                    class="fa fa-check-circle" style="font-size: 20px;"
                                                    uib-tooltip="{{'normal.validation_finalized' | translate}}"
                                                    tooltip-placement="left"></i></span>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" ng-if="user.access != 'eu'"
                    close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stored Modules"
                        template-url="group-template5.html" ng-init="open5=false;" is-open="open5">
                        <uib-accordion-heading ng-click="open5= !open5">
                            <i class="glyphicon fa fa-database"></i> {{'contract.stored_modules'| translate}}
                            <span uib-dropdown on-toggle="toggled(open5);" class="c-dropdown width-20 pull-right"
                                ng-if="contractInfo.contract_user_access !='co'&&  user.access!='ro'">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown">
                                    <li>
                                        <a href="javascript:;" style="border-bottom: 0px !important;padding: 10px;"
                                            ng-click="$event.stopPropagation();manageStoredModules()">{{'contract.add_contributor'| translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 33px !important;"
                                ng-if="!(user.access=='ca' || user.access=='bo' || user.access=='bd' ||user.access=='bm')"
                                ng-class="{'fa fa-chevron-up  pull-right': open5,'fa fa-chevron-down  pull-right': !open5}"></i>
                            <i class="glyphicon" style="margin-right: 3px !important;position: absolute;right: 31px;"
                                ng-if="(user.access=='ca' || user.access=='bo' || user.access=='bd' ||user.access=='bm')"
                                ng-class="{'fa fa-chevron-up  pull-right': open5,'fa fa-chevron-down  pull-right': !open5}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block" style="height: inherit !important;">
                            <div class="clearfix text-center after-line" ng-if="storedModulesList.review.length>0">
                                <span>{{'contract.review_modules'| translate}}</span>
                            </div>
                            <div class="clearfix partners-content col-md-12 alternate-div-bag"
                                ng-repeat="row in storedModulesList.review" style="padding: 0px 0px 10px;">
                                <p ng-if="storedModulesList.review.length>0" class="mb-0">
                                    <a ng-click="showStoredModuleQuestions(row,'review')" href="javascript:;"
                                        title="{{row.module_name}}" class="ellipis attachment-fileHead ng-binding"
                                        style="cursor: pointer;" text-line>
                                        <i class="fa fa-database f14 display-inline-block pt4 valign-t"
                                            style="margin-right: 3px;"></i> {{row.module_name}} </a>
                                <p style="display: block;font-size: 10px; margin-left: 20px;" class="mr-h mb-0">
                                    <span class="font-italic gray" style="display: block;">
                                        <span style="color:black" class="">{{'contract.last_review_by' |
                                            translate}}</span> {{row.updated_by}}</span>
                                    <span class="font-italic gray" style="display: block;">
                                        <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                                        {{row.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                </p>
                                </p>
                            </div>
                            <div class="clearfix"></div>
                            <div class="clearfix text-center after-line" ng-if="storedModulesList.workflow.length>0">
                                <span>{{'contract.task_modules'| translate}}</span>
                            </div>
                            <div class="clearfix partners-content col-md-12 alternate-div-bag"
                                ng-repeat="row in storedModulesList.workflow" style="padding: 0px;">
                                <p ng-if="storedModulesList.workflow.length>0" class="mb-0">
                                    <a ng-click="showStoredModuleQuestions(row,'task')" href="javascript:;"
                                        title="{{row.calander_workflow_name}}"
                                        class="ellipis attachment-fileHead ng-binding" style="cursor: pointer;"
                                        text-line>
                                        <i ng-if="row.is_copied_from_project=='0'"
                                            class="fa fa-database f14 display-inline-block pt4 valign-t"
                                            style="margin-right: 3px;"></i>
                                        <i ng-if="row.is_copied_from_project=='1'" class="fa fa-link link-new"></i>
                                        {{row.calander_workflow_name}} </a>
                                <p style="display: block;font-size: 10px; margin-left: 20px;" class="mr-h mb-0">
                                    <span class="font-italic gray" style="display: block;">
                                        <span style="color:black" class="">{{'contract.last_workflow_by' |
                                            translate}}</span> {{row.updated_by}}</span>
                                    <span class="font-italic gray" style="display: block;">
                                        <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                                        {{row.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                </p>
                                </p>
                            </div>
                            <div ng-if="storedModulesList.review.length==0 && storedModulesList.workflow.length==0"
                                class="text-xs-center">
                                <span class="f12">{{'contract.no_stored_module' | translate}}</span>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime"
                    ng-if="(!(user.access=='eu'))">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders"
                        template-url="group-template.html" ng-init="open1=false;" is-open="open1"
                        is-disabled="(user.access=='eu')">
                        <uib-accordion-heading ng-click="open1= !open1">
                            <i class="glyphicon fa fa-paperclip"></i> {{'attachment.contract_attachments' | translate}}
                            <span uib-dropdown on-toggle="toggled(open1);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm"
                                    ng-disabled="user.user_type=='external'|| user1.user_type=='external'"
                                    ng-click="$event.stopPropagation();" style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"
                                        ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm')"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown"
                                    ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm') && user.access!='ro'">

                                    <li>
                                        <a href="#" style="padding: 10px;"
                                            ng-click="$event.stopPropagation();updateContractDetails(data,4)">{{'general.manage'
                                            | translate}}</a>
                                    </li>
                                    <li>
                                        <a href="#" style="padding: 10px;" ng-if="contractInfo.contract_build_id"
                                            ng-click="$event.stopPropagation();viewVersions()">{{'normal.versions'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 3px !important;"
                                ng-class="{'fa fa-chevron-up  pull-right': open1,'fa fa-chevron-down  pull-right': !open1}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block attach-delete">
                            <div class="attachment-widget" ng-repeat="a in contractInfo.unique_attachment.all_records"
                                style="padding-bottom: 0px;">
                                <p ng-if="contractInfo.unique_attachment.all_records.length>0" class="f12">
                                <div class="my-cont-list">
                                    <div>
                                        <a class="ellipis attachment-fileHead f12" href="javascript:;" title="Download"
                                            ng-click="getDownloadAttachmentUrl(a)" ng-if="a.document_type==0">
                                            <i class="fa fa-download"
                                                style="vertical-align: middle;padding-right: 6px;"></i>{{a.document_name}}</a>

                                        <a class="ellipis attachment-fileHead f12"
                                            ng-click="redirectUrl(a.document_source)" href="javascript:;"
                                            title="{{a.document_source}}" ng-if="a.document_type==1">
                                            <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>

                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h" ng-if="a.module_type=='contract_builder'">
                                                <span ng-if="a.build_status=='final'" style="color: #6bb143;font-weight: bold;text-decoration: underline;">{{'normal.final' |translate}} v{{a.version_number}}</span>
                                                <span ng-if="a.build_status=='in_progress'" style="color: #6bb143;font-weight: bold;text-decoration: underline;">{{'normal.in_progress' | translate}} v{{a.version_number}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">({{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'toLocalDate' | checkEmpty}})</span>
                                            </span>
    

                                        <span style="display: block;font-size: 11px;" class="pl-1 mr-h" ng-if="a.module_type!='contract_builder'">
                                            <span class="font-italic gray">
                                                <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                {{a.uploaded_user | checkEmpty}}</span>
                                            <span class="font-italic gray">
                                                <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                {{a.uploaded_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                        </span>
                                    </div>

                                    <div>

                                        <a href="#" class="gray" style="width:30px;"
                                            ng-if="contractInfo.contract_user_access  != 'co' && user.access !='ro'">
                                            <i ng-if="a.show_icon==true" class="icon tss-file-search search-contract"
                                                style="position: relative; top:0px"
                                                uib-tooltip="{{'Activate Contract Intelligence' | translate}}"
                                                ng-click="createDocumentUploadPdf(a)">
                                            </i>
                                        </a>


                                        <a href="#" class="gray" style="width:30px;"
                                            ng-if="contractInfo.contract_user_access  != 'co' && user.access !='ro'">
                                            <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'"
                                                class="pull-right icon-trash   icon" style="position: relative; top:0px"
                                                title="{{'general.delete' | translate}}"
                                                ng-click="deleteAttachment(a.id_document,a.document_name)">
                                            </i>
                                        </a>

                                        <span style="width:30px;"
                                            ng-if="contractInfo.contract_user_access  != 'co' && user.access!='ro'">
                                            <span class="tss-lock icon"
                                                style="color: red;cursor:pointer; font-size: 20px;"
                                                ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                            <span class="tss-unlock icon"
                                                style="color: green;cursor:pointer; font-size: 20px;"
                                                ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                                        </span>


                                    </div>


                                </div>

                                </p>
                            </div>
                            <p ng-if="contractInfo.unique_attachment.all_records.length<=0"
                                class="text-sm-center f12 m-0">{{'contract.no_attachment_found' | translate}}</p>
                            <!-- </uib-tab> -->
                            <!-- <uib-tab index="1" heading="Contract links">
                                    <div class="attachment-widget" ng-repeat="a in contractInfo.unique_attachment.links"
                                        style="padding-bottom: 0px;">
                                        <p ng-if="contractInfo.attachment.links.length>0">
                                            <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}">
                                                <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>
                                            <a href="#" class="gray">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'date' | checkEmpty}}</span>
                                            </span>
                                        </p>
                                    </div>
                                    <p ng-if="contractInfo.attachment.links.length<=0" class="text-sm-center">{{'links.no_links'
                                        | translate}}</p>
                                </uib-tab> -->
                            <!-- </uib-tabset> -->
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders"
                        template-url="group-template1.html" ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                            <i class="glyphicon fa fa-user"></i> {{'contract.contract_parterns' | translate}}
                            <span uib-dropdown on-toggle="toggled(open);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"
                                        ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || 
                                            contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm') && user.access!='ro'"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown"
                                    ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm')">

                                    <li>
                                        <a href="javascript:;" style="padding: 10px;"
                                            ng-click="$event.stopPropagation();updateContractDetails(data,5)">{{'general.update'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 3px !important;"
                                ng-if="!(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            <i class="glyphicon" style="margin-right: 3px !important;"
                                ng-if="(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                        </uib-accordion-heading>
                        <div class="card-block" style="padding-left: 30px;padding-top: 5px;">
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable1 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_contract_sponsor" class="f12">
                                    <span class="f12">{{contractParters.internal_contract_sponsor}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_contract_sponsor">---</p>
                                <p ng-if="contractParters.provider_contract_sponsor" class="f12">
                                    <span class="f12">{{contractParters.provider_contract_sponsor}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_contract_sponsor">---</p>
                            </div>
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable2 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_partner_relationship_manager" class="f12">
                                    <span class="f12">{{contractParters.internal_partner_relationship_manager}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_partner_relationship_manager">---</p>
                                <p ng-if="contractParters.provider_partner_relationship_manager" class="f12">
                                    <span class="f12">{{contractParters.provider_partner_relationship_manager}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_partner_relationship_manager">---</p>
                            </div>
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable3 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_contract_responsible" class="f12">
                                    <span class="f12">{{contractParters.internal_contract_responsible}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_contract_responsible">---</p>
                                <p ng-if="contractParters.provider_contract_responsible" class="f12">
                                    <span class="f12">{{contractParters.provider_contract_responsible}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_contract_responsible">---</p>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime"
                    ng-if="!(user.access=='eu') && (contractInfo.contract_user_access=='ro' || contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm')">
                    <div uib-accordion-group class="panel-default" heading="Spend Management"
                        template-url="group-template2.html" ng-init="open2=false;" is-open="open2"
                        is-disabled="(user.access=='eu')">
                        <uib-accordion-heading ng-click="open2= !open2;getChartData();">
                            <i class="glyphicon fa fa-eur"></i> {{'contract.value_management' | translate}}
                            <span uib-dropdown on-toggle="toggled(open2);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"
                                        ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm') && user.access!='ro'"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown">
                                    <li>
                                        <a href="javascript:;" style="border-bottom: 0px !important;padding: 10px;"
                                            ng-click="$event.stopPropagation();updateContractDetails(data,3)">{{'general.edit'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 3px !important;"
                                ng-class="{'fa fa-chevron-up  pull-right': open2,'fa fa-chevron-down  pull-right': !open2}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block"
                            style="height: inherit !important;padding-left: 14px !important;padding-top: 5px;">
                            <div class="partners-content col-md-12 alternate-div-bag">
                                <h4 class="f14">{{'contract.val_info' | translate}}</h4>
                                <div class="clearfix">
                                    <div class="col-md-8 pr-0 pl0"><span class="f12">{{'contract.po_number' |
                                            translate}}</span></div>
                                    <div class="col-md-4 pr5"><span class="f12">: {{spendMgmt.po_number}}</span></div>
                                </div>
                                <div class="clearfix">
                                    <div class="col-md-8 pr-0 pl0">
                                        <span class="f12">{{'contract.project_contract_value' | translate}}
                                            <span class="orange f11"
                                                ng-if="spendMgmt.contract_value_period=='total'">({{'contract.total' |
                                                translate}})</span>
                                            <span class="orange f11"
                                                ng-if="spendMgmt.contract_value_period=='year'">({{'contract.yearly' |
                                                translate}})</span>
                                        </span>
                                    </div>
                                    <div class="col-md-4 pr5">:
                                        <span class="f10">{{contractInfo.currency_name}}</span>
                                        <span class="f12 pull-right">
                                            {{spendMgmt.contract_value | currency :' ':0 | checkEmpty}}
                                        </span>
                                    </div>
                                </div>
                                <div class="clearfix">
                                    <div class="col-md-8 pr-0 pl0"><span class="f12">{{'contract.add_recurr_fees'
                                            | translate}}
                                            <span class="orange f11"
                                                ng-if="spendMgmt.additional_recurring_fees_period=='quarter'">({{'contract.quarter'
                                                | translate}})</span>
                                            <span class="orange f11"
                                                ng-if="spendMgmt.additional_recurring_fees_period=='month'">({{'contract.monthly'
                                                | translate}})</span>
                                            <span class="orange f11"
                                                ng-if="spendMgmt.additional_recurring_fees_period=='year'">({{'contract.yearly'
                                                | translate}})</span>
                                        </span>
                                    </div>
                                    <div class="col-md-4 pr5">:
                                        <span class="f10">{{contractInfo.currency_name}}</span>
                                        <span class="f12 pull-right">
                                            {{spendMgmt.additional_recurring_fees | currency :' ':0 | checkEmpty}}
                                        </span>
                                    </div>
                                </div>
                                <div class="clearfix">
                                    <div class="col-md-8 pr-0 pl0"><span class="f12">{{'contract.add_one_fees'
                                            | translate}}</span></div>
                                    <div class="col-md-4 pr5">:
                                        <span class="f10">{{contractInfo.currency_name}}</span>
                                        <span class="f12 pull-right">
                                            {{spendMgmt.additonal_one_off_fees | currency :' ':0 | checkEmpty}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="partners-content col-md-12 alternate-div-bag">
                                <div style="display: flex;">
                                    <div class="value_management p-0">
                                        <h4 class="f14" style="margin-bottom: 5px;">{{'contract.inv_act' | translate}}
                                        </h4>
                                    </div>
                                    <div class="value_management_status pr-0">
                                        <h5 class="mr-5 f14 value_mangt_stas" ng-if="spendLines.length>0">
                                            {{'contract.status'|translate}}</h5>
                                        <div style="position: absolute;right: 0px;top:-3px;">
                                            <button class="btn btn-sm btn-primary pull-right" type="button"
                                                ng-click="addSpendLines()"
                                                title="{{'general.add' | translate}} {{'contract.actual_spend' | translate}}"
                                                ng-if="user.user_type !='external'  && contractInfo.contract_user_access!='ro'">
                                                <i class="icon-plus-circle"></i>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                                <div class="clearfix hover-icon-cls" data-ng-repeat="choice in spendLines">
                                    <div class="col-12 pl0 pr-0" style="display: flex;">
                                        <div class="value_management">
                                            <label class="f12"
                                                style="text-overflow: ellipsis;overflow: hidden;width: 100%;white-space: nowrap;margin-bottom: 0px !important;"
                                                title="{{choice.spend_description}}">{{choice.spend_description}}
                                                <span class="orange f11"
                                                    ng-if="choice.spent_period=='quarter'">({{'contract.quarter' |
                                                    translate}})</span>
                                                <span class="orange f11"
                                                    ng-if="choice.spent_period=='month'">({{'contract.monthly' |
                                                    translate}})</span>
                                                <span class="orange f11"
                                                    ng-if="choice.spent_period=='year'">({{'contract.yearly' |
                                                    translate}})</span>
                                            </label>
                                        </div>

                                        <div class="value_mangt_stas">
                                            <span ng-if="choice.invoice_status == 0"
                                                style="color: #c0535a;font-size: 12px;">{{'contract.contract_dispute'|translate}}</span>
                                            <span ng-if="choice.invoice_status == 1"
                                                style="color: #6dbf91;font-size: 12px;">{{'contract.contract_partial'|translate}}</span>
                                            <span ng-if="choice.invoice_status == 2"
                                                style="color:#f9c18e;font-size: 12px;">{{'contract.contract_activated'|translate}}</span>
                                            <span ng-if="choice.invoice_status == 3"
                                                style="color:#ff121f;font-size: 12px;">{{'contract.contract_overdue'|translate}}</span>
                                            <span ng-if="choice.invoice_status == 4"
                                                style="color: #8e8e8e;font-size: 12px;">{{'contract.contract_draft'|translate}}</span>
                                            <span ng-if="choice.invoice_status == 5"
                                                style="color: #008d35;font-size: 12px;">{{'contract.contract_paid'|translate}}</span>

                                        </div>

                                        <div style="width:17%;display: flex;align-items: center;cursor:pointer;">
                                            <a href="#" class="fixed-width" style="position: relative;"
                                                ng-if="contractInfo.contract_user_access!='ro'"
                                                ng-click="viewSpendAttachments(choice)">
                                                <i class="icon-attachment f13 skyblue" title="Add Attachments"></i>
                                                <span class="count"
                                                    ng-if="choice.attachment_count > 0">{{choice.attachment_count}}</span>
                                            </a>
                                            <a class="pointer gray hover-show-icon pl5 fixed-width" href="javascript:;"
                                                ng-if="contractInfo.contract_user_access!='ro'"
                                                ng-click="updateSpendLines(choice)">
                                                <i class="icon-edit f11 pointer"></i>
                                            </a>
                                            <a class="pointer gray hover-show-icon pl5  fixed-width"
                                                ng-if="contractInfo.contract_user_access!='ro'" href="javascript:;"
                                                ng-click="deleteSpentLine(choice)">
                                                <i class="fa fa-trash f11 pointer" style="font-size:15px;"></i>
                                            </a>

                                        </div>
                                        <div class="col-md-4 pr5 pull-right">

                                            <span class="f10">: {{contractInfo.currency_name}}</span> <span
                                                class="f12 pull-right" style="line-height:25px;">{{choice.spent_amount
                                                |currency:' ':0 | checkEmpty}}</span>

                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="partners-content col-md-12" ng-if="open2">
                                <h4 class="f14">{{'contract.spend_graph' | translate}}</h4>
                                <div class="clearfix">
                                    <div class="col-sm-4 p0">
                                        <div ng-init="getChartData();">
                                            <fusioncharts id="mychartcontainer" chartid="mychart" width="320"
                                                height="250" type="stackedcolumn2d"
                                                dataSource="{{spendMgmtGraph.graph | json}}"></fusioncharts>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </uib-accordion>


                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders"
                        template-url="group-template1.html" ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                            <i class="tss-project-setting"></i> {{'contract.connected_projects' | translate}}
                            <span uib-dropdown on-toggle="toggled(open);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"
                                        ng-if="(projectInfo.contract_user_access=='ca' || projectInfo.contract_user_access=='bo' || projectInfo.contract_user_access=='bd' || projectInfo.contract_user_access=='bm')"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown"
                                    ng-if="(projectInfo.contract_user_access=='ca' || projectInfo.contract_user_access=='bo' || projectInfo.contract_user_access=='bd' || projectInfo.contract_user_access=='bm' ) && user.access!='ro'">
                                    <li>
                                        <a href="javascript:;" style="padding: 10px;"
                                            ng-click="$event.stopPropagation();manageConnectedContracts()">{{'general.manage'
                                            | translate}}</a>
                                    </li>
                                    <li>
                                        <a href="javascript:;" style="padding: 10px;"
                                            ng-click="$event.stopPropagation();addConnectedContracts()">{{'general.add'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 5px !important;"
                                ng-if="!(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            <i class="glyphicon" style="margin-right: 5px !important;"
                                ng-if="(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                        </uib-accordion-heading>

                        <div class="card-block connected-project-block">
                            <ul class="connected-projects-list m-0" ng-if="connectedContracts.length>0">
                                <li ng-repeat="row in connectedContracts">

                                    <span ng-if="row.is_contract_access == 1">
                                        <a href="{{app_url}}/#/all-projects/view/{{row.contract_name}}/{{row.id_contract| encode}}?type=review"
                                            class="skyblue ellipis" title="{{row.contract_name}}"
                                            ng-click="goToContractDetails(row)">{{row.contract_name}}</a>
                                    </span>
                                    <span ng-if="row.is_contract_access == 0">
                                        <a href="#" class="skyblue ellipis w150 gray hand-symbol"
                                            title="{{row.contract_name}}">{{row.contract_name}}</a>
                                    </span>
                                    <span ng-if="row.project_status == 0" class="red">{{'general.closed' | translate}}</span>
                                    <span ng-if="row.project_status == 1" class="green">{{'general.active' | translate}}</span>

                                </li>
                            </ul>
                            <div ng-if="connectedContracts.length==0" class="text-xs-center" style="padding: 10px;">
                                <span class="f12">{{'contract.no_projects_connected' | translate}}</span>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                <!-- Accordion ends -->
            </div>
        </div>
    </div>
    <div class="review-warning" ng-if="contractInfo.ideedi !='annus' && loading">
        <span ng-if="contractInfo.is_workflow =='0'">{{'discussion.top_msg' | translate}} {{'discussion.click' |
            translate}}</span>
        <span ng-if="contractInfo.is_workflow =='1'">{{'discussion.top_msg_w' | translate}} {{'discussion.click' |
            translate}}</span>
        <a style="text-decoration: underline;cursor: pointer;" ng-click="goToDesign(data)">{{'discussion.here' |
            translate}}
        </a> {{'discussion.to_view' | translate}}
    </div>

    <div class="review-warning" ng-if="validation_status==2 && loading && !contractInfo.ideedi !='annus'">
        <span ng-if="isWorkflow=='0'">{{'discussion.top_msg_r' | translate}} </span>
        <span ng-if="isWorkflow=='1'">{{'discussion.top_msg_wv' | translate}} </span>
    </div>
</div>
<script type="text/ng-template" id="group-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open1, 'fa fa-chevron-up': !open1}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="view-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'normal.internal_feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>

<script type="text/ng-template" id="view-validator-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'normal.validator_feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>

<script type="text/ng-template" id="view-external-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'normal.external_feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>



<script type="text/ng-template" id="group-template0.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}" style="display: flex;align-items: center;">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template1.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template2.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen();" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="create-edit-service-catalogue1.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{title |translate}} {{'user.breadcrumb.service_catalogue_item' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block service-catalogue-card-block">
            <form novalidate name="catologueForm" ng-submit="catologueForm.$valid && addServiceCatalogue(catologue)">
                <h6 class="form-group">
                    <label class="f16">{{'normal.catalogue_item_descreption' | translate}} :</label>
                </h6>

                <div class="custom-row">
                    <!-- custom row div open-->
                    <div class="form-group col-sm-6">
                        <label>{{'normal.catalogue_item' | translate}} *</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.catalogue_item_name" name="catalogue_item_name" required/>
                        </div>
                        <span class="error-message" ng-if="catologueForm.catalogue_item_name.$error.required && catologueForm.$submitted">{{'general.required_field' |translate}}</span>
                    </div>

                    <div class="form-group col-sm-2 pl-0" style="width: calc(16.66667% - 36px);">
                        <label for="">&nbsp;</label>
                        <!-- <div class="input-group clearfix form-group-custom currency-code">
                            <input name="currency_name" class="form-control" ng-model="contractInfo.currency_name" ng-disabled="true">
                        </div> -->
                        
                            <input type="text" class="form-control text-center"  name="currency_name" ng-model="contractInfo.currency_name" ng-disabled="true">
                       
                    </div>

                    <div class="form-group col-sm-4 pl-0" style="width: calc(33.33333% + 36px);">
                        <label>{{'normal.unit_price' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" maxlength="30" numeric-Comma data-ng-model="catologue.unit_price" ng-change="updateTotal(catologue)" name="unit_price" />
                    </div>

                    <div class="form-group col-sm-6">
                        <label>{{'normal.unit_type' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.unit_type" name="unit_type" />

                    </div>

                    <div class="form-group col-sm-6">
                        <label>{{'normal.quantity' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" maxlength="50" only-digits data-ng-model="catologue.quantity" name="quantity" ng-change="updateTotal(catologue)" />

                    </div>

                    <div class="form-group col-sm-12">
                        <label>{{'normal.business_units' | translate}} *</label>
                        <select chosen id="add-chosen0" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_business_unit' | translate}}'" multiple ng-model="catologue.business_unit_id " name="business_unit" size="1" class="chosen-choices"
                            ng-options="item.id_business_unit as item.bu_name for item in bussinessUnit">
                            <option value="">-- {{'general.select' | translate}} --</option>
                     </select>
                    </div>

                    <div class="form-group col-sm-4">
                        <label>{{'normal.payment_peroidicty' | translate}}</label>
                        <select class="form-control" ng-model="catologue.payment_periodicity" 
                        ng-options="item.id_payment_periodicity as item.payment_periodicity_name for item in periodicity ">
                     <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                     </select>
                    </div>



                    <div class="form-group col-sm-4">
                        <label>{{'normal.perodicity_start_date' | translate}} </label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" popup-placement="bottom" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false" data-ng-model="catologue.period_start_date" name="start_date" is-open="openCal" datepicker-options="{showWeeks:false}"
                                show-button-bar="false" readonly/>
                            <span class="input-group-btn">
                            <button type="button" class="btn btn-default border" ng-click="openCal = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                        </div>

                    </div>


                    <div class="form-group col-sm-4">
                        <label>{{'normal.periodicity_end_date' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" popup-placement="bottom" uib-datepicker-popup="dd-MM-yyyy" data-ng-model="catologue.period_end_date" name="end_date" is-open="openCal1" datepicker-options="{showWeeks:false}" show-button-bar="false"
                                readonly />
                            <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                        </div>
                    </div>


                </div>
                <!-- custom row div close-->

                <div class="clearfix"></div>

                <div class="border-b">
                </div>
                <h6 class="form-group mt-1">
                    <label class="f16">{{'normal.catalogue_caluclation' | translate}} :</label>
                </h6>


                <div class="form-group col-sm-2" style="width: calc(16.66667% - 20px);">
                    <label for="">&nbsp;</label>
                    
                        <input name="currency_name" class="form-control text-center" ng-model="contractInfo.currency_name" ng-disabled="true">
                </div>

                <div class="custom-row">
                    <div class="form-group col-sm-6">
                        <label>{{'normal.caluclated_item_value' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.calculated_total_item_spend" name="periodicity" ng-disabled="true" />
                        </div>
                    </div>

                    <div class="form-group col-sm-6">
                        <label>{{'normal.add_to_chart' | translate}}</label>
                        <select class="form-control" ng-model="catologue.calculated_total_item_spend_add_to_chart" ng-change="getOpinion(catologue.calculated_total_item_spend_add_to_chart)">
                                <option value="" class="font-italic">-{{'normal.select' | translate}}-</option>
                                <option value="1">{{'general.yes' | translate}}</option>
                                <option value="0">{{'general.no' | translate}}</option>
                          </select>
                    </div>
                </div>

                <div class="custom-row justify-content-start w-100">
                    <div class="form-group col-sm-2" style="width: calc(16.66667% - 20px);">
                        <label for="">&nbsp;</label>
                        <div class="input-group clearfix form-group-custom currency-code">
                            <input name="currency_name" class="form-control" ng-model="contractInfo.currency_name" ng-disabled="true">
                        </div>
                    </div>
                    <div class="form-group col-sm-5"  style="width: calc(41.66667% + 10px);">
                        <label>{{'normal.manual_total_item_value' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.manual_total_item_spend" name="periodicity" ui-number-mask="0" ng-disabled="enablefield" />
                        </div>
                    </div>
                    <div class="form-group col-sm-5"  style="width: calc(41.66667% + 10px);">
                        <label>{{'normal.add_to_chart' | translate}}</label>
                        <select class="form-control" id="select6" name="select6" size="1" ng-model="catologue.manual_total_item_spend_add_to_chart" ng-disabled="enablefield">
                                <option value="" class="font-italic">-{{'normal.select' | translate}}-</option>
                                <option value="1">{{'general.yes' | translate}}</option>
                                <option value="0">{{'general.no' | translate}}</option>
                          </select>
                    </div>
                </div>

                <div class="border-b">
                    <div class="form-group col-sm-12 mt-1 p-0">
                        <h6><label class="f16">{{'contract.comment' | translate}}</label></h6>

                        <div class="input-group clearfix form-group-custom pl-1 pr-1">
                            <textarea type="text" class="form-control white-bg bg-white" data-ng-model="catologue.comments" name="periodicity"> </textarea>
                        </div>
                    </div>
                </div>

                <div class="clearfix"></div>
                <div class="modal-footer clearfix">
                    <button class="btn btn-sm btn-primary" type="submit">
                        <i class="fa fa-dot-circle-o"></i>&nbsp;{{bottom | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="fa fa-ban"></i> &nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </form>
        </div>
    </div>
</script>

<script type="text/ng-template" id="create-edit-service-catalogue.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'normal.select_catalogue_item' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block service-catalogue-card-block">
            <form novalidate name="catologueForm" ng-submit="catologueForm.$valid && addServiceCatalogue(catologue)">
                <h6 class="form-group">
                    <label class="f16">{{'normal.catalogue_item_characterstics' | translate}} :</label>
                </h6>

                <div class="custom-row">
                    <div class="form-group col-sm-12 " style="display: flex;align-items: end;">
                        <div class="" style="flex-grow:1">
                            <label>{{'normal.catalogue_item_name' | translate}} *</label>
                            <div class="input-group clearfix form-group-custom">
                             <select chosen id="add-chosen0" allow-single-deselect="true" 
                                     ng-model="catologue.catalogue_id" ng-disabled="editCatalogue"
                                     name="catalogue_id" size="1" class="chosen-choices"
                                     ng-options="item.id_catalogue as item.catalogue_name for item in catalogueList" 
                                     ng-change="getCataloguename(catologue.catalogue_id)">
                             <option value="">-- {{'normal.search_Catalogue' | translate}} --</option>
                        </select>
                                </div>
                            <span class="error-message" ng-if="catologueForm.catalogue_id.$error.required && catologueForm.$submitted">{{'general.required_field' |translate}}</span>
                        </div>

                        <div class="p-0" style="display: flex;align-items: center;justify-content: center;padding: 0 10px !important;">
                            <label for="">&nbsp;</label>
                            <a href="javascript:;" ng-if="catologue.catalogue_id" ng-click="goToViewCatalogue(catologue.catalogue_id)" 
                               style="font-size: 20px;top: 2px;position: relative;padding:0 0px 0 0;margin:0 !important" class="icon-eye gray mr-1" title="{{'general.preview' | translate}}"></a>
                            <a href="javascript:;" ng-if="!catologue.catalogue_id" style="font-size: 20px;top: 2px;position: relative;padding:0 0px 0 0;margin:0 !important" class="icon-eye gray mr-1" title="{{'general.preview' | translate}}"></a>

                        </div>

                        <div class=" pull-right" style="padding-left:5px !important;">
                            <a class="" ng-click="createCatalogue()" ng-if="(((user.access=='ca') && (user.user_type!='external')) || ( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_catalogue == 1)))">
                                <button type="button"  title="{{'normal.create_catalogue' | translate}}" class="btn btn-sm btn-primary btn-radius ng-scope">
                                <i class="icon-plus-circle"></i>&nbsp; {{'notification.new' | translate}}
                                
                            </button>
                            </a>
                        </div>
    
                    </div>


                    <div class="clearfix"></div>

                    <div class="form-group col-sm-12 p-0">
                    <div class="col-sm-2">
                        <label for="">{{'normal.item_currency' | translate}}</label>                        
                            <input type="text" class="form-control text-center"  name="currency_name" ng-model="baseCurrency" ng-disabled="true">
                       
                    </div>
                    <!-- <div class="col-sm-5">
                        <label>{{'normal.item_value' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.unit_type" name="unit_type" />

                    </div> -->

                    <div class="form-group col-sm-5 pl-0">
                        <label>{{'normal.item_value' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" maxlength="30" numeric-Comma data-ng-model="catologue.unit_price" ng-change="updateTotal(catologue)" name="unit_price" />
                    </div>


                    <div class="col-sm-5">
                        <label>{{'normal.quantity' | translate}}</label>
                        <input type="text" class="form-control white-bg bg-white" maxlength="50" only-digits data-ng-model="catologue.quantity" name="quantity" ng-change="updateTotal(catologue)" />
                    </div>
                </div>
                <div class="clearfix"></div>
                    <div class="form-group col-sm-4">
                        <label>{{'normal.item_periodicity' | translate}}</label>
                        <select class="form-control" ng-model="catologue.payment_periodicity" 
                        ng-options="item.id_payment_periodicity as item.payment_periodicity_name for item in periodicity ">
                     <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                     </select>
                    </div>



                    <div class="form-group col-sm-4">
                        <label>{{'normal.perodicity_start_date' | translate}} </label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" 
                               popup-placement="bottom" uib-datepicker-popup="MMM dd yyyy" 
                               date-disabled="false" data-ng-model="catologue.period_start_date" 
                                name="start_date" is-open="openCal" datepicker-options="{showWeeks:false}"
                                show-button-bar="false" readonly/>
                            <span class="input-group-btn">
                            <button type="button" class="btn btn-default border" ng-click="openCal = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                        </div>

                    </div>


                    <div class="form-group col-sm-4">
                        <label>{{'normal.periodicity_end_date' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" popup-placement="bottom" 
                                 uib-datepicker-popup="MMM dd yyyy" 
                                 data-ng-model="catologue.period_end_date" name="end_date" is-open="openCal1" 
                                 datepicker-options="{showWeeks:false}" show-button-bar="false"
                                readonly />
                            <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                        </div>
                    </div>


                </div>

                <div class="clearfix"></div>

                <div style="border-bottom: 1px solid #e4e4e4;">
                </div>
                <h6 class="form-group mt-1">
                    <label class="f16">{{'normal.catalogue_caluclation' | translate}} :</label>
                </h6>

                <div class="form-group col-sm-12 p-0">
                <!-- <div class="col-sm-3" style="width: calc(22.66667% - 20px);"> -->
                    <div class="col-sm-3">
                    <label for="">{{'normal.contract_currency' | translate}}</label>
                        <input name="currency_name" class="form-control text-center" ng-model="contractInfo.currency_name" ng-disabled="true">
                </div>

                <div class="custom-row">
                    <div class="col-sm-6">
                        <label>{{'normal.caluclated_item_value' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" 
                                   data-ng-model="catologue.calculated_total_item_spend" 
                                   name="periodicity" ng-disabled="true" />
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label>{{'normal.add_to_chart' | translate}}</label>
                        <select class="form-control" ng-model="catologue.calculated_total_item_spend_add_to_chart" ng-change="getOpinion(catologue.calculated_total_item_spend_add_to_chart)">
                                <option value="" class="font-italic">-{{'normal.select' | translate}}-</option>
                                <option value="1">{{'general.yes' | translate}}</option>
                                <option value="0">{{'general.no' | translate}}</option>
                          </select>
                    </div>
                </div>
            </div>


            <div class="form-group col-sm-12 p-0">
                <!-- <div class="col-sm-3" style="width: calc(22.66667% - 20px);"> -->
                    <div class="col-sm-3">
                    <label for="">{{'normal.contract_currency' | translate}}</label>
                        <input name="currency_name" class="form-control text-center" ng-model="contractInfo.currency_name" ng-disabled="true">
                </div>

                <div class="custom-row">
                    <div class="col-sm-6">
                        <label>{{'normal.manual_total_item_value' | translate}}</label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" data-ng-model="catologue.manual_total_item_spend" name="periodicity" ui-number-mask="0" ng-disabled="enablefield" />
                        </div>
                    </div>

                    <div class="col-sm-6">
                        <label>{{'normal.add_to_chart' | translate}}</label>
                        <select class="form-control" id="select6" name="select6" size="1" ng-model="catologue.manual_total_item_spend_add_to_chart" ng-disabled="enablefield">
                            <option value="" class="font-italic">-{{'normal.select' | translate}}-</option>
                            <option value="1">{{'general.yes' | translate}}</option>
                            <option value="0">{{'general.no' | translate}}</option>
                      </select>
                </div>
                </div>
            </div>
                

               
                    <div class="form-group col-sm-12 mt-1 p-0 pt-1" style="border-top: 1px solid #e4e4e4;">
                        <h6><label class="f16">{{'contract.comment' | translate}}</label></h6>

                        <div class="input-group clearfix form-group-custom pl-1 pr-1">
                            <textarea type="text" class="form-control white-bg bg-white" data-ng-model="catologue.comments" name="periodicity"> </textarea>
                        </div>
                    </div>
                

                <div class="clearfix"></div>
                <div class="modal-footer clearfix">
                    <button class="btn btn-sm btn-primary" type="submit">
                        <i class="fa fa-dot-circle-o"></i>&nbsp;{{bottom | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="fa fa-ban"></i> &nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </form>
        </div>
    </div>
</script>



<script type="text/ng-template" id="create-edit-contract-doc.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{'general.add' | translate}} {{'links.attachments_links' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f18"></a>
        </h6>
    </div>
    <form novalidate name="contractForm">
        <uib-tabset active="active" class="clearfix" style="padding: 10px;" ng-init="active=0;">
            <uib-tab index="0" heading="{{'links.ad_attachment' | translate}}">
                <div class="col-sm-12 m-t-3 form-group p0">
                    <attachment-files ng-model="attachments"></attachment-files>
                </div>
                <div class="p-b-1">
                    <p ng-if="contractInfo.unique_attachment.documents.length>0" ng-repeat="a in contractInfo.unique_attachment.documents">
                        <a download="{{a.document_name}}" target="_blank" href="#" ng-click="getDownloadUrl(a)" download="{{a.document_name}}">
                            <i class="icon-arrow-down-circle f16"></i> {{a.document_name}}</a>
                        <span>
                                <span class="tss-lock"  style="color: red; position:absolute; right:50px;cursor:pointer; font-size: 20px;
                                " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                        <span class="tss-unlock" style="color: green; position:absolute; right:50px;cursor:pointer; font-size: 20px;
                                " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                        </span>
                        <a href="#" class="gray">
                            <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1" style="position:relative; top:2px;" title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                </i>
                        </a>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'attachment.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user}}</span>
                        <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="contractInfo.unique_attachment.documents.length==0" class="text-sm-center">{{'attachment.no_files' | translate}}</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit" ng-click="uploadAttachment(attachments,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
            <uib-tab index="1" class="clearfix" heading="{{'links.ad_link' | translate}}">
                <div class="clearfix" style="background: #EEEDF5; padding: 10px;">
                    <ng-form name="linkForm" class="modalUniqCls">
                        <div class="col-md-5 pl-0">
                            <input type="text" class="form-control" name="title" placeholder="{{'normal.placeholder_title' | translate}}" ng-model="contractLink.title" required>
                        </div>
                        <div class="col-md-7 pl-0" style="display:-webkit-inline-box; padding-right: 5px;">
                            <input type="text" style="width:86.5%" class="form-control" ng-model="contractLink.url" required placeholder="{{'normal.placeholder_add_link_url' | translate}}">
                            <span style="/* float:left; *//* position: absolute; */">
                                <button style="padding: 0.03rem 0.5rem;" type="button" title="{{'contract.verify_link' | translate}}" ng-disabled="!linkForm.$valid" class="btn btn-success" ng-click="verifyLink(contractLink)">
                                    <span class="fa fa-plus"></span>
                            <p style="font-size:12px;margin-bottom:0px;">{{'links.ad_link' | translate}}</p>
                            </button>
                            </span>
                        </div>
                    </ng-form>
                    <div class="col-sm-12 p0 mt-1" ng-if="contractLinks.length" style="overflow-y: scroll;">
                        <div class="list-header clearfix">
                            <label class="text-capitalize f14">{{'links.attached_links' | translate}}</label>
                        </div>
                        <div class="list-table mt5 mb5" style="max-height:250px;" ng-scrollbars="">
                            <ul class="list-items files-list">
                                <li class="clearfix" ng-repeat="link in contractLinks track by $index">
                                    <div class="col-sm-11 p0">
                                        <p class="f12 text-line m-0 p-h" title="{{link.url}}">{{link.title}}
                                            <span class="pl-h skyblue">( {{link.url}} )</span></p>
                                    </div>

                                    <div class="col-sm-1 pull-right">
                                        <a href="javascript:;" class="display-inline-block p-h" title="Remove" ng-click="removeLink($index)"> <i class="icon-trash gray"></i> </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="p-b-1" style="padding-top: 25px;">
                    <p ng-if="contractInfo.unique_attachment.links.length>0" ng-repeat="a in contractInfo.unique_attachment.links" style="position:relative">
                        <a ng-click="redirectUrl(a.document_source)" href="javascript:;" class="ellipis" title="{{a.document_source}}" style="cursor: pointer;width:95%"><i class="fa fa-link f16"></i> {{a.document_name}}</a>
                        <a href="#" class="gray">
                            <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1" style="position: relative; top:2px" title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                            </i>
                        </a>
                        <span>
                            <span class="tss-lock"  style="color: red;position:absolute; right:30px;cursor:pointer;font-size:20px;
                            " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                        <span class="tss-unlock" style="color: green;position:absolute; right:30px;cursor:pointer;font-size:20px;
                            " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                        </span>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'links.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user_name}}</span>
                        <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="contractInfo.unique_attachment.links.length==0" class="text-sm-center pt20">{{'links.no_links' | translate}}</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit" ng-click="contractLinks && uploadLinks(contractLinks,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
        </uib-tabset>
    </form>
</script>
<script type="text/ng-template" id="create-edit-spend-management.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{title | translate}} {{'contract.spend_management' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" ng-submit="form.$valid && update(contractInfo)">
        <div class="form-group col-sm-12">
            <div class="form-group col-sm-6">
                <label>{{'contract.po_number' | translate}}</label>
                <input type="text" class="form-control" maxlength="50" autofocus name="po_number" ng-model="contractInfo.po_number">
                <!-- <span class="error-message" ng-if="form.po_number.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="clearfix col-sm-12"><label>{{'contract.projected_value' | translate}} *</label></div>
            <div class="clearfix">
                <div class="form-group col-sm-4">
                    <select class="form-control" name="contract_value_period" ng-model="contractInfo.contract_value_period" required>
                        <option value="">-- {{'general.select' |translate}} --</option>
                        <option value="total">{{'contract.total' | translate}}</option>
                        <option value="year">{{'contract.yearly' | translate}}</option>
                    </select>
                    <span class="error-message" ng-if="form.contract_value_period.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-8 pl-0">
                    <input type="text" class="form-control" maxlength="30" name="contract_value" ui-number-mask="0" ng-model="contractInfo.contract_value" required ui-number-mask="0">
                    <span class="error-message" ng-if="form.contract_value.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
                </div>
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="clearfix col-sm-12"><label>{{'contract.add_recurr_fees' | translate}}</label></div>
            <div class="clearfix">
                <div class="form-group col-sm-4">
                    <select class="form-control" name="additional_recurring_fees_period" ng-model="contractInfo.additional_recurring_fees_period">
                        <option value="">-- {{'general.select' |translate}} --</option>
                        <option value="month">{{'contract.monthly' | translate}}</option>
                        <option value="quarter">{{'contract.quarter' | translate}}</option>
                        <option value="year">{{'contract.yearly' | translate}}</option>
                    </select>
                    <!-- <span class="error-message" ng-if="form.additional_recurring_fees_period.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
                </div>
                <div class="form-group col-sm-8 pl-0">
                    <input type="text" class="form-control" maxlength="30" ui-number-mask="0" name="additional_recurring" ng-model="contractInfo.additional_recurring_fees" ui-number-mask="0">
                    <!-- <span class="error-message" ng-if="form.additional_recurring.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
                </div>
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="form-group col-sm-6">
                <label>{{'contract.add_one_fees' | translate}}</label>
                <input type="text" class="form-control" maxlength="30" name="additonal_one_off_fees" ui-number-mask="0" ng-model="contractInfo.additonal_one_off_fees" ui-number-mask="0">
                <!-- <span class="error-message" ng-if="form.additonal_one_off_fees.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
            <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                <i class="fa fa-ban"></i>&nbsp; {{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>


<script type="text/ng-template" id="create-edit-spend-lines.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{ 'Edit' |translate}} {{'contract.actual_spend' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>

    <div class="modal-body clearfix">
        <div class="card-block">
            <form novalidate name="form" ng-submit="update(spendInfo)">
                <div class="form-group col-sm-12">
                    <div class="form-group col-sm-6 pt-h">
                        <label> {{'reports.from' | translate}} </label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="MMM dd yyyy" date-disabled="false" 
                            data-ng-model="spendInfo.from_date" name="from_date" is-open="openCal" datepicker-options="{showWeeks:false}" show-button-bar="false"
                             readOnly
                            />
                            <span class="input-group-btn">
                        <button type="button" class="btn btn-default border" ng-click="openCal = true">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                        </div>
                    </div>
                    <div class="form-group col-sm-6 pt-h">
                        <label> {{'reports.to' | translate}} </label>
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="MMM dd yyyy" date-disabled="false" data-ng-model="spendInfo.to_date" name="to_date" is-open="openCal1" datepicker-options="{showWeeks:false}" show-button-bar="false" readOnly/>
                            <span class="input-group-btn">
                        <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                        </div>
                    </div>

                    <div class="form-group col-sm-2 pt-h">
                        <label for="">&nbsp;</label>
                        <div class="input-group clearfix form-group-custom currency-code">
                            <input class="form-control" name="currency_name" ng-model="contractInfo.currency_name" ng-disabled="true">
                        </div>
                    </div>
                    <div class="form-group col-sm-5 pt-h">
                        <label>{{'project.invoice_amount' | translate}} *</label>
                        <input type="text" class="form-control" maxlength="30" name="spent_amount" ui-number-mask="0" ng-model="spendInfo.spent_amount" required>
                        <span class="error-message" ng-if="form.spent_amount.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
                    </div>

                    <div class="form-group col-sm-5 pt-h">
                        <label>{{'contract.invoice_description' | translate}} </label>
                        <input type="text" class="form-control" name="spend_line_description " ng-model="spendInfo.spend_line_description">
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-sm-6 pt-h">
                        <label>{{'contract.invoice_status' | translate}}</label>
                        <select class="form-control" name="invoice_status" ng-model="spendInfo.invoice_status">
                            <option value="">-- {{'general.select' |translate}} --</option>
                            <option value="0">{{'contract.contract_dispute' | translate}}</option>
                            <option value="1">{{'contract.contract_partial' | translate}}</option>
                            <option value="2">{{'contract.contract_activated' | translate}}</option>
                            <option value="3">{{'contract.contract_overdue' | translate}}</option>
                            <option value="4">{{'contract.contract_draft' | translate}}</option>
                            <option value="5">{{'contract.contract_paid' | translate}}</option>
                     </select>
                    </div>

                    <div class="form-group col-sm-12 pt-h">
                        <label class="gray">{{'contract.comment' | translate}}</label>
                        <textarea type="text" name="comment" ng-model="spendInfo.comment" class="form-control"></textarea>
                        <span class="error-message" ng-if="form.comment.$error.required && form.$submitted">{{'general.required_field' | translate}}</span>
                    </div>


                    <div class="form-group col-sm-6 pt-h">
                        <label class="gray">{{'contract.evidences' | translate}}</label>
                        <a href="#" style="position: relative; top: 4px;" ng-click="addViewSpendAttachments(spendInfo1)">
                            <i class="icon-attachment f13 skyblue" title="Add Attachments"></i>
                            <span class="count" ng-if="spendInfo1.attachment_count > 0">{{spendInfo1.attachment_count}}</span>
                        </a>
                        <span class="error-message" ng-if="form.comment.$error.required && form.$submitted">{{'general.required_field' | translate}}</span>
                    </div>

                    <div class="clearfix"> </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                        <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                <i class="fa fa-ban"></i>&nbsp; {{'general.cancel' | translate}}</button>
                    </div>
            </form>
            </div>
        </div>


</script>
<script type="text/ng-template" id="add-edit-stackholders.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{'Search' | translate}} {{'contract.contributor' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="actionItemForm" ng-submit="actionItemForm.$valid && saveContributors(data)">
        <div class="modal-body clearfix">
            <uib-tabset active="active">
                <uib-tab index="0">
                    <uib-tab-heading>
                        <i class="glyphicon glyphicon-bell"></i> {{'normal.expert' | translate}}
                    </uib-tab-heading>
                    <div class="form-group col-md-12 clearfix">
                        <label for="business_unit">{{'reports.bu_unit' | translate}}</label>
                        <select id="business_unit" ng-model="data.expert.business_unit" name="business_unit" class="chosen-choices" ng-change="getContributorsByBusinessUnit(data.expert.business_unit,'expert')" ng-options="item.id_business_unit as item.bu_name for item in businessUnitList.expert">
                                <option value="">-- {{'normal.select_busines_unit' | translate}} --</option>
                        </select>
                    </div>
                    <div class="col-md-12 clearfix drp-search" style="padding-bottom: 20px;">
                        <div class="input-group" ng-init="expert.searchContracts=''">
                            <input type="text" class="form-control" placeholder="{{'normal.placeholder_contributors' | translate}}" ng-focus="showContractList1=true;" ng-model="expert.searchContracts" />
                            <span class="input-group-addon" ng-click="showContractList1=false;" style="cursor:pointer;">
                                <i class="fa fa-times" uib-tooltip="Close"></i>
                            </span>
                        </div>
                        <div class="form-group col-md-12 constribute-opt" ng-show="showContractList1">
                            <div ng-repeat="contract in expertList | filter:expert.searchContracts">
                                <div ng-click="addExpertContributer(contract)">{{contract.name}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 clearfix contributor-list" ng-if="data.expert.contributors.length>0" style="border: 1px solid #ccc;padding-top: 8px;">
                        <span class="bold f14 pt-h pb2">{{'normal.selected_Expert_contributors' | translate}} : </span>
                        <div class="clearfix selectedExpertText">
                            <ul class="pt-h">
                                <li ng-repeat="contributor in data.expert.contributors" ng-if="contributor.id_user" title="{{contributor.name}}">
                                    {{contributor.name}}
                                    <span class="fa fa-times-circle" ng-click="removeExpert($index)"></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </uib-tab>
                <uib-tab index="1">
                    <uib-tab-heading>
                        <i class="glyphicon glyphicon-bell"></i> {{'general.validator' | translate}}
                    </uib-tab-heading>
                    <div class="form-group col-md-12 clearfix">
                        <label for="business_unit1">{{'reports.bu_unit' | translate}}</label>
                        <select id="business_unit1" ng-model="data.validator.business_unit" name="business_unit1" class="chosen-choices" ng-change="getContributorsByBusinessUnit(data.validator.business_unit,'validator')" ng-options="item.id_business_unit as item.bu_name for item in businessUnitList.validator">
                                <option value="">-- {{'normal.select_busines_unit' | translate}} --</option>
                        </select>
                    </div>
                    <div class="form-group col-sm-12">
                        <label>{{'contract.contributor' | translate}}</label>
                        <select single chosen placeholder-text-single="'{{'normal.placeholder_contributors' | translate}}'" ng-change="addValidatorContributer(data.validator.searchValidatorContracts,'validator');chosen();" ng-model="data.validator.searchValidatorContracts"
                            ng-options="contract as contract.name for contract in validatorList">
                            <option value="">-- {{'normal.select_contributor' | translate}}--</option>
                        </select>
                    </div>
                    <div class="form-group col-md-12 clearfix contributor-list" ng-if="data.validator.searchValidatorContracts" style="border: 1px solid #ccc; padding-top: 8px;">
                        <span class="bold f14 pt-h pb2">{{'normal.select_validator_contributors' | translate}} : </span>
                        <ul>
                            <li ng-repeat="row in data.validator" ng-if="row.id_user==data.validator.searchValidatorContracts.id_user">
                                {{row.name}}
                                <span class="fa fa-times-circle" ng-click="removeValidator($index)"></span>
                            </li>
                        </ul>
                    </div>
                </uib-tab>
                <uib-tab index="2">
                    <uib-tab-heading>
                        <i class="glyphicon glyphicon-bell"></i> {{'normal.provider' | translate}}
                    </uib-tab-heading>
                    <div class="col-md-12 clearfix">
                        <label class="form-group col-md-12 clearfix p0">{{'normal.preselect_provider' | translate}}:
                            <select class="form-control" ng-disabled="true">
                                <option value="">{{contractModuleTopics.contract_details[0].provider_name_show}}</option>
                            </select>
                        </label>
                    </div>
                    <div class="col-md-12 clearfix drp-search" style="padding-bottom: 20px;">
                        <div class="input-group" ng-init="provider.searchProviderContracts=''">
                            <input type="text" class="form-control" placeholder="{{'normal.placeholder_contributors' | translate}}" ng-focus="showContractList2=true;" ng-model="provider.searchProviderContracts" />
                            <span class="input-group-addon" ng-click="showContractList2=false;" style="cursor:pointer;">
                                <i class="fa fa-times" uib-tooltip="Close"></i>
                            </span>
                        </div>
                        <div class="form-group col-md-12 constribute-opt" ng-show="showContractList2">
                            <div ng-repeat="contract in providerList | filter:provider.searchProviderContracts">
                                <div ng-click="addProviderContributer(contract,'provider')">{{contract.name}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 clearfix contributor-list" style="border: 1px solid #ccc; padding-top: 8px;" ng-if="data.provider.contributors.length>0">
                        <span class="bold f14 pt-h pb2">{{'normal.select_provider_contributors' | translate}} : </span>
                        <div class="selectedExpertText clearfix">
                            <ul>
                                <li ng-repeat="contributor in data.provider.contributors" ng-if="contributor.id_user" title="{{contributor.name}}">
                                    {{contributor.name}}
                                    <span class="fa fa-times-circle" ng-click="removeProvider($index)"></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary" ng-disabled="showBtn">
                <i class="fa fa-dot-circle-o"></i> {{'general.save' | translate}}</button>
            <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger"><i class="fa fa-ban"></i> &nbsp;{{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="group-template5.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title" ng-click="toggleOpen()" style="cursor:pointer;">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="manage-stored-modules.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{title | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form">

        <div class="modal-body Contract-modal calender-custom-modal manage-form-modal clearfix">
            <div class="col-sm-12 clearfix text-center after-line" ng-if="storedModulesList.review.length>0"><span>{{'calender.reviews' | translate}}</span></div>
            <div class="clearfix" ng-if="storedModulesList.review.length>0"></div>
            <div class=" clearfix switch-lbl" ng-if="storedModulesList.review.length>0">
                <label class="ng-binding f12" style="margin-top: 3px;">{{'normal.re-active' | translate}}</label>
            </div>
            <div class="clearfix form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.review">
                <div class="col-sm-4 p0"><span class="">{{module.module_name}}</span></div>
                <div class="col-sm-4 p0">
                    <p style="font-size: 10px;" class="mr-h">
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.last_review_by' | translate}}</span>
                        <span class="f12">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                        <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <div class="form-group col-sm-4 switch-view p0" ng-init="contract.auto_renewal=contract.auto_renewal1==1?1:0">
                    <div class="onoffswitch form-inline">
                        <div class="form-group">
                            <input type="checkbox" name="onoffswitch_toggle" ng-model="module.activate_in_next_review" id="{{module.id_module}}" ng-change="updateStoredModules(module)" ng-true-value="'1'" ng-false-value="'0'" class="onoffswitch-checkbox  ng-pristine ng-untouched ng-valid ng-not-empty">
                            <label class="onoffswitch-label assessment-switch" for="{{module.id_module}}">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clearfix" ng-if="storedModulesList.workflow.length>0"></div>
            <div class="clearfix text-center after-line" ng-if="storedModulesList.workflow.length>0"><span>{{'user.breadcrumb.tasks' | translate}}</span></div>
            <div class="switch-lbl" ng-if="storedModulesList.workflow.length>0">
                <label class="ng-binding f12" style="margin-top: 3px;text-align: right;">{{'contract.re_workflow_by' | translate}}</label>
            </div>
            <div class="form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.workflow">
                <div class="col-sm-4 p0"><span class="">{{module.calander_workflow_name}}</span></div>
                <div class="col-sm-4 p0">
                    <p style="font-size: 10px;" class="mr-h">
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.last_workflow_by' | translate}}</span>
                        <span class="f12">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                        <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <div class="form-group col-sm-4">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-disabled="module.date" data-ng-model="module.date" datepicker-options="{showWeeks:false}" ng-change="updateStoredModules(module)" name="review_by" is-open="openCal1"
                            show-weeks="false" show-button-bar="false" readonly/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div ng-if="storedModulesList.review.length==0 && storedModulesList.workflow.length==0" class="text-xs-center">
            <span class="text-center f12">{{'contract.no_stored_module' | translate}}</span>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.close' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="open-unanswered-questions.html">
    <div class="modal-header">
        <h6 class="modal-title">
            <span ng-if="module.is_review==1">{{module.module_name}}</span>
            <span ng-if="module.is_task==1">{{module.calander_workflow_name}}</span>
            
            <span class="progress-cls f12" ng-if="!isStored">{{'contract.module_questions.progress' | translate}} : {{module.progress}} %</span>
            <span class="completion-cls f12" ng-if="!isStored">{{'contract.completion' | translate}} : {{module.question_count}} </span>
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form">
        <div class="modal-body Contract-modal clearfix">
            <uib-accordion close-others="oneAtATime">
                <div uib-accordion-group class="panel-default mb-h" ng-repeat="topic in unAnsweredTopics" heading="Selection Process" ng-init="topic.open=false;
                        showData['topic'][topic.topic_id]['open'] =  showData['topic'][topic.topic_id]['open'] ?
                                                                    showData['topic'][topic.topic_id]['open'] : false;" is-open="showData['topic'][topic.topic_id]['open']" template-url="topic-template.html" is-disabled="true" style="border: 1px solid #ccc;">
                    <uib-accordion-heading>
                        <i class="glyphicon" ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']" ng-class="{'fa fa-minus-square-o': showData['topic'][topic.topic_id]['open'],
                                        'fa fa-plus-square-o': !showData['topic'][topic.topic_id]['open']}"></i>
                        <span class="pl14" ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']">{{topic.topic_name | capitalize}}</span>
                        <span class="pull-right mr-1" ng-if="topic.topic_score == 'N/A'">{{topic.topic_score}}</span>
                        <span class="pull-right mr-1">
                            <div class="status-widget">
                                <span ng-if="topic.topic_score == 'Red'" class="score_color red-bg"></span>
                        <span ng-if="topic.topic_score == 'Amber'" class="score_color orange-bg"></span>
                        <span ng-if="topic.topic_score == 'Green'" class="score_color green-bg"></span>
                        <span ng-if="!topic.topic_score" class="score_color "></span>
                </div>
                </span>
                </uib-accordion-heading>
                <table class="table table-custom table-striped table-hover">
                    <thead>
                        <tr></tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="row in topic.questions" ng-class="{'blue-color':row.is_blue_difference==1  ,
                            'green-color': row.is_green_diffference==1 ,
                                'toggleclass':row.is_validator==1,
                                'relation-active':row.provider_visibility==1,
                            'red-color': row.is_red_difference==1}">
                            <!-- <td style="width:63%"><a href="javascript:;" ng-click="goToReview(row,topic)">{{row.question_text}}</a></td> -->
                            <td style="align-items:center;position: relative; padding-right: 17px;">
                                <div style="display:flex; align-items:center;padding: 4px;">
                                    <div class="tw-toggle" ng-if="row.is_validator==1">
                                        <label class="toggle toggle-yes green-dot" ng-class="{'green-circle':row.is_green_diffference==1}"></label>
                                        <label class="toggle toggle-yes blue-dot" ng-class="{'blue-circle':row.is_blue_difference==1}"></label>
                                        <label class="toggle toggle-yes red-dot" ng-class="{'red-circle':row.is_red_difference==1}"></label>
                                    </div>
                                    <span class="skyblue pointer" ng-click="goToReview(row,topic)">{{row.question_text | checkEmpty}}</span>

                                </div>
                            </td>
                            <td style="width:25%" ng-if="row.question_type != 'rag' && row.question_type != 'date'">
                                {{row.question_answer | checkEmpty}}
                            </td>
                            <td style="width:25%" ng-if="row.question_type == 'date'">
                                {{row.question_answer | utcToLocal:'date' | checkEmpty}}
                            </td>
                            <td style="width:25%" ng-if="row.question_type == 'rag'">
                                <div class="radio_widget">
                                    <span ng-if="!row.question_answer">{{row.question_answer | checkEmpty}}</span>                                

                                    <a ng-if="row.question_answer == 'G'" class="f18"><i class="fa fa-check-circle green mr-h"></i></a>
                                    <a ng-if="row.question_answer == 'A'" class="f18"><i class="fa fa-exclamation-circle orange mr-h"></i></a>
                                    <a ng-if="row.question_answer == 'R'" class="f18"><i class="fa fa-times-circle red"></i></a>
                                    <a ng-if="row.question_answer == 'N/A'" class="f18"><i class="fa fa-minus-circle gray mr-h"></i></a>
                                </div>
                            </td>
                            <!-- <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback) && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback) && !(row.discussion!='')"></td> -->
                            <td style="width:6%;">
                                <span ng-if="side_by_side && row.v_question_feedback && $index%2!=0"><i class="fa fa-commenting-o pointer f12" title="{{'normal.validator_feedback' | translate}}" ng-click="previewValidatorFeedback(row)"></i>{{unAnsweredTopics.side_by_side_validation}}</span>

                                <span ng-if="side_by_side && row.question_feedback && access!='eu' && $index%2==0"><i class="fa fa-commenting-o pointer f12" title="{{'normal.internal_feedback' | translate}}" ng-click="previewfeedback(row)" ></i>{{unAnsweredTopics.side_by_side_validation}}</span>

                                <span  ng-if="side_by_side && row.external_user_question_feedback && $index%2==0"><i class="fa fa-commenting-o pointer f12" title="{{'normal.external_feedback' | translate}}" ng-click="previewExternalFeedback(row)"></i>{{unAnsweredTopics.side_by_side_validation}}
                                </span>

                                <span ng-if="!side_by_side && row.question_feedback && access!='eu'"><i class="fa fa-commenting-o pointer f12" title="{{'normal.internal_feedback' | translate}}" ng-click="previewfeedback(row)" ></i></span>

                                <span  ng-if="!side_by_side && row.external_user_question_feedback"><i class="fa fa-commenting-o pointer f12" title="{{'normal.external_feedback' | translate}}" ng-click="previewExternalFeedback(row)"></i>{{unAnsweredTopics.side_by_side_validation}}
                                </span>

                                <!-- <i class="fa fa-commenting-o pointer f12" ng-click="showfeedback(row)" ng-if="row.question_feedback"></i> -->
                            </td>
                            <!-- <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && (row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && (row.discussion!='')"></td> -->
                            <td style="width:4%">
                                <span ng-if="row.discussion!='' && row.validator!=1">
                                        <a href="javascript:;">
                                            <img style="padding-bottom: 8px; width: 13px;" ng-click="showdiscussion(row)"
                                                src="img/discussion.png"/>
                                        </a>
                                    </span>
                            </td>
                            <!-- <td style="width:4%" ng-if="(row.attachments.length>0) && (row.question_feedback =='') && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length>0) && (row.question_feedback =='') && !(row.discussion!='')"></td> -->
                            <td style="width:4%">
                                <span ng-if="row.attachments.length>0">
                                        <a href="#" style="position: relative; top: 4px;" ng-click="showAttachments(row)">
                                            <i class="icon-attachment f11 skyblue pointer" title="Attachments"></i>
                                            <span class="count-small">{{row.attachments.length}}</span>
                                </a>
                                </span>
                            </td>

                        </tr>
                    </tbody>
                    <tbody ng-if="!load && topic.questions.length == 0">
                        <tr>
                            <td colspan="6" class="text-sm-center">{{'general.no_data' | translate}}</td>
                        </tr>
                    </tbody>
                    <tbody ng-if="load">
                        <tr>
                            <td colspan="6" class="text-sm-center">{{'general.loading' | translate}}</td>
                        </tr>
                    </tbody>
                </table>
        </div>
        </uib-accordion>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="topic-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header>
                        <i class="glyphicon" ng-class="{'fa fa-minus-square-o': status.show, 'fa fa-plus-square-o': !status.show}"></i>
                        {{heading}}
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude style="padding:7px;"></div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="contract-information.html">
    <div class="card">
        <div class="card-block card-space">
            <div class="clearfix">
                <a href="javascript:;" class="edit-card" style="margin-top: 5px;margin-right: 10px;" 
                ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' 
                        || contractInfo.contract_user_access=='bd' ||contractInfo.contract_user_access=='bm' )" ng-click="updateContractDetails(data,1)"><i class="fa fa-pencil"></i>
                </a>
                <div class="col-md-12 p0" style="margin-top: 10px;">
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'bussiness.bussiness_unit' | translate}}</span>
                            <p>{{contractInfo.bu_name | checkEmpty}}</p>
                        </div>
                    </div>
                    

                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'contract.contract_name' | translate}}</span>
                            <p class="text-wdgt" style="word-break: break-word;">{{contractInfo.contract_name | checkEmpty}}</p>
                        </div>
                    </div>
                   
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'contract.provider_name' | translate}}</span>
                            <p class="text-wdgt pointer provider-link" ng-click="goToProviderDetails(contractInfo)">{{contractInfo.provider_name_show | checkEmpty}}</p>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                  
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'contract.contract_start_date' | translate}}</span>
                            <p class="text-wdgt">{{contractInfo.contract_start_date | utcToLocal:'date' | isUndefinedOrNull}}
                            </p>
                        </div>
                    </div>
                   
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'contract.contract_end_date' | translate}}</span>
                            <p class="text-wdgt">{{contractInfo.contract_end_date | utcToLocal:'date' | checkEmpty}}</p>
                        </div>
                    </div>

                    <div class="col-sm-4">
                        <div class="form-group">
                            <label class="label-control" style="margin-bottom: 0;">{{'contract.automatic_prolongation' | translate}}</label>
                            <div class="onoffswitch form-inline mt0">
                                <input type="checkbox" name="onoffswitch_toggle" ng-true-value="1" ng-false-value="0" ng-init="data.auto_renewal = (data.auto_renewal == '1') ? 1:0" ng-model="contractInfo.auto_renewal" class="onoffswitch-checkbox " id="setting2" checked disabled>
                                <label class="onoffswitch-label assessment-switch" for="setting2">
                                    <span class="onoffswitch-inner"></span>
                                    <span class="onoffswitch-switch"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="clearfix"></div> -->

                    <div class="col-sm-4">
                        <div class="form-group">
                            <span class="label-control">{{'contract.category' | translate}}</span>
                            <p>{{contractInfo.relationship_category_name | checkEmpty}}</p>
                        </div>
                    </div> 
                    
                    <div class="col-sm-4">
                        <div class="form-group">
                            <span style="display:flex; align-items:center;">
                                <span class="label-control" ng-if="isWorkflow=='0'">{{'templates.template_name' | translate}}</span>
                                <span class="label-control" ng-if="isWorkflow=='1'">{{'workflows.workflow_name' | translate}}</span>
                               
                                <span class="tss-lock"  style="color: red;cursor:pointer; font-size: 18px;line-height: 15px;margin-left: 4px;"  ng-if="contractInfo.is_template_lock==1 && isWorkflow=='0'"></span>
                                <span class="tss-unlock" style="color: green;cursor:pointer; font-size: 18px;line-height: 15px;margin-left: 4px;"  ng-if="contractInfo.is_template_lock==0 && isWorkflow=='0'"></span>
                            </span>
                            <p class="text-wdgt">{{contractInfo.template_name | checkEmpty}}</p>
                        </div>
                    </div>
                  
                </div>
                <div class="col-sm-12">
                    <div class="form-group">
                        <span class="label-control">{{'contract.contract_desc' | translate}}</span>
                        <p class="text-wdgt">
                            <span style="white-space: pre-wrap;">{{contractInfo.description | checkEmpty}}</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="contract-tags.html">
    <div class="card">
        <div class="card-block card-space">
            <div class="clearfix">
                <a href="javascript:;" style="margin-top: 5px;margin-right: 10px;" 
                    ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' 
                        || contractInfo.contract_user_access=='bd' || contractInfo.contract_user_access=='bm')" ng-click="updateContractDetails(tagsInfo,2)" class="edit-card"><i class="fa fa-pencil"></i></a>
                <div class="col-md-12 p0" style="margin-top: 10px;">
                    <div class="col-sm-12 p0">


                        
                       
                                <div class="form-group col-sm-12 tagsGrouping clearfix mb0" ng-repeat="tagDataBusiness in tagsInfo track by $index" style="margin-bottom: 0px;" ng-if="!tagDataBusiness.bu_name">
                                    <div  class="form-group col-sm-4" style="float:unset !important" ng-repeat="tag in tagDataBusiness.tag_details">
                                        <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                                <p ng-if="tag.tag_type == 'input'">
                                                    <span ng-if="tag.field_type && tag.field_type == 'currency'" title="{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}">
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{contractInfo.currency_name}}</span>
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}</span>
                                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay ==''  || tag.tagAnswerDisplay ==null)">---</span>
                                                    </span>
                                                    <span ng-if="tag.field_type && tag.field_type == 'number'" title="{{tag.tagAnswerDisplay}}">
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay}}</span>
                                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay =='' || tag.tagAnswerDisplay ==null)">---</span>
                                                    </span>
                                                    <span ng-if="tag.field_type && tag.field_type == 'text'" title="{{tag.tagAnswerDisplay}}">
                                                        {{tag.tagAnswerDisplay | checkEmpty}}
                                                    </span>
                                                </p>

                                                <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                                    <div ng-if="opt.name && opt.can_access==1" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}"  ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                                    <div ng-if="opt.name && opt.can_access==0" title="{{opt.name}}">{{opt.name | checkEmpty}}</div>            
                                                </div>
                                                <div ng-if="!tag.selectedOption && tag.selected_field">---</div>
                            
                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'dropdown' && !tag.selected_field">
                                                    <span title="{{tag.tagAnswerDisplay | checkEmpty}}"> {{tag.tagAnswerDisplay | checkEmpty}}</span>
                                                </p>

                                                
                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'date'"  title="{{tag.tagAnswerDisplay | utcToLocal:'date'}}">
                                                    {{tag.tagAnswerDisplay | utcToLocal:'date' | isUndefinedOrNullOrZero}}
                                               </p>

                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'radio'" title="{{tag.tagAnswerDisplay}}">
                                                {{tag.tagAnswerDisplay | checkEmpty}}
                                                </p>
                                       
                                                <span ng-if="tag.tag_type=='rag'">
                                                    <p ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay==''  || tag.tagAnswerDisplay==null)">---</p>
                                                    <div ng-repeat ="opt1 in tag.options" ng-if="tag.tagAnswerDisplay && opt1.tag_option_name == tag.tagAnswerDisplay">
                                                        <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                                            <span class="red-active"></span>
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                        </p>
                                                        <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                                            <span class=""></span>
                                                            <span class="amber-active"></span>
                                                            <span class=""></span>
                                                        
                                                        </p>
                                                        <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                            <span class="green-active"></span>
                                                        
                                                        </p>
                                                        <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='N/A'">
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                        </p>
                                                        <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                            <span class=""></span>
                                                        </p>
                                                    </div>
                                                </span>
                                            </div>
                                        </div>

                            

                                
                            <div class="form-group col-sm-12 clearfix mb0 p-0" ng-repeat="tagDataBusiness in tagsInfo track by $index" style="margin-bottom: 0px;" ng-if="tagDataBusiness.bu_name">
                                <uib-accordion class="card widget2 inputs-accordion" style="margin-bottom:5px !important;width: 100%;" close-others="oneAtATime">
                                    <div uib-accordion-group class="panel-default" heading="Stakeholders"
                                        template-url="group-template0.html" ng-init="open=false;" is-open="open">
                                        <uib-accordion-heading ng-click="open= !open">
                                            <span style="width: 20px;">
                                                <i class="glyphicon" 
                                                    ng-class="{'fa-solid fa-caret-down': open,'fa-solid fa-caret-right': !open}" style="color: #000;font-size: 18px;"></i>
                                            </span>
                                            <span style="z-index: 2;background-color: #fff;padding-right: 5px;">{{tagDataBusiness.bu_name}} ({{tagDataBusiness.count}})</span>
                                            <span ng-if="tagDataBusiness.status==0" style="background: #fff;z-index: 1;padding-right: 4px;">({{'general.inactive' | translate}})</span>
                                        </uib-accordion-heading>
                                        <div class="card-block" style="padding:7px 15px;">
                                            <div class="col-md-12 p-0 tagsGrouping">
                                            <div  class="form-group col-sm-4" ng-repeat="tag in tagDataBusiness.tag_details track by $index">

                                <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                <p ng-if="tag.tag_type == 'input'">
                                    <span ng-if="tag.field_type && tag.field_type == 'currency'" title="{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}">
                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{contractInfo.currency_name}}</span>
                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tag_answer !=null)">{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}</span>
                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay ==''  || tag.tagAnswerDisplay ==null)">---</span>
                                    </span>
                                    <span ng-if="tag.field_type && tag.field_type == 'number'" title="{{tag.tag_answer}}">
                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay}}</span>
                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay =='' || tag.tagAnswerDisplay ==null)">---</span>
                                    </span>
                                    <span ng-if="tag.field_type && tag.field_type == 'text'" title="{{tag.tagAnswerDisplay}}">
                                        {{tag.tagAnswerDisplay | checkEmpty}}
                                    </span>
                                </p>
                                <!-- <p class="text-wdgt ellipis w_95" ng-if="tag.selected_field" style="margin:0px;"> -->
                                    <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                        <div ng-if="opt.name && opt.can_access==1" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}"  ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                        <div ng-if="opt.name && opt.can_access==0" title="{{opt.name}}">{{opt.name | checkEmpty}}</div>
                                    </div>
                                    <div ng-if="!tag.selectedOption && tag.selected_field">---</div>
                                <!-- </p> -->

                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'dropdown' && !tag.selected_field">
                                    <span title="{{tag.tagAnswerDisplay}}"> {{tag.tagAnswerDisplay | checkEmpty}}</span>
                                </p>

                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'date'"
                                        title="{{tag.tagAnswerDisplay | utcToLocal:'date'}}">
                                    {{tag.tagAnswerDisplay | utcToLocal:'date' | isUndefinedOrNullOrZero}}
                                </p>

                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'radio'" title="{{tag.tagAnswerDisplay}}">
                                        {{tag.tagAnswerDisplay | checkEmpty}}
                                </p>

                                <span ng-if="tag.tag_type=='rag'">
                                <p ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay==''  || tag.tagAnswerDisplay==null)">---</p>
                                <div ng-repeat ="opt1 in tag.options" ng-if="tag.tagAnswerDisplay && opt1.tag_option_name == tag.tagAnswerDisplay">
                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                        <span class="red-active"></span>
                                        <span class=""></span>
                                        <span class=""></span>
                                    </p>
                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                        <span class=""></span>
                                        <span class="amber-active"></span>
                                        <span class=""></span>
                                    
                                    </p>
                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                        <span class=""></span>
                                        <span class=""></span>
                                        <span class="green-active"></span>
                                    
                                    </p>
                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='N/A'">
                                        <span class=""></span>
                                        <span class=""></span>
                                        <span class=""></span>
                                    </p>
                                    <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                        <span class=""></span>
                                        <span class=""></span>
                                        <span class=""></span>
                                    </p>
                                </div>
                            </span>   
                        </div>
                    </div>
                </div>
            </div>
        </uib-accordion>

                        <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="action-items-list.html">
    <div class="card">
        <div class="card-block card-space">
            <div>
                <table class="table table-custom table-striped table-hover contract-details-table" st-pipe="reviewAction" st-table="contractsList">
                    <thead>
                        <tr>
                            <td colspan="10">
                                <div class="col-sm-4 p0"></div>
                                <div class="col-sm-8 clearfix p0">
                                    <div class="action-head mb0 clearfix">
                                        <div class="pull-right" style="padding-left:5px !important;" 
                                        ng-if="(!(user.access=='eu') && user.access !='ro')">
                                            <a class="" ng-click="createContractReview('','add')">
                                                <button type="button" class="btn btn-sm btn-primary btn-radius  ng-scope">
                                                    <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}
                                                </button>
                                            </a>
                                        </div>
                                        <div class="col-sm-7 p0 table-search pull-right">
                                            <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                            <i class="fa icon-search"></i>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th st-sort="module_name" class="action-items-module-name">{{'module.module' | translate}}</th>
                            <th st-sort="action_item" class="action-item-name">{{'contract.action_item' | translate}}</th>
                            <th st-sort="user_name" class="action-items-user-name">{{'contract.responsible' | translate}}</th>
                            <th st-sort="due_date" class="action-items-due-date">{{'contract.due_date' | translate}}</th>
                            <th st-sort="priority" class="action-items-priority">{{'contract.priority' | translate}}</th>
                            <th st-sort="status" class="action-items-status">{{'general.status' | translate}}</th>
                            <th class="hand-symbol" class="action-items-actions" style="width:8%;">{{'general.actions'|translate}}</th>
                        </tr>
                    </thead>
                    <tbody ng-show="!isLoading">
                        <tr ng-repeat="row in reviewList">
                            <td class="action-items-module-name custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.module_name}}">{{row.module_name | checkEmpty}}</span>
                            </td>
                            <td class="action-item-name custom-ellipsis">
                                <span ng-if="row.vaav=='itako'" class="ellipsis-block skyblue pointer" href="javascript:;" ng-click="updateContractReview(row,'view')" title="{{row.action_item}}">{{row.action_item}}</span>
                                <span ng-if="row.vaav!='itako'" class="ellipsis-block" title="{{row.action_item}}">{{row.action_item}}</span>
                            </td>
                            <td class="action-items-user-name custom-ellipsis">
                                <span class="ellipsis-block orange" title="{{row.user_name}}">{{row.user_name}}</span>
                            </td>
                            <td class="action-items-due-date custom-ellipsis">
                                <span class="ellipsis-block" ng-class="(row.overdue=='1') ?'overdue-date': ''">{{row.due_date | utcToLocal:'date' | checkEmpty}}</span>
                            </td>
                            <td class="action-items-priority">{{row.priority | checkEmpty}}</td>
                            <td class="action-items-status">
                                <span class="green" ng-if="row.status == 'Completed'">{{row.status}}</span>
                                <span class="" ng-if="row.status == 'Open'">{{row.status}}</span>
                                <span class="red" ng-if="row.status == 'Due'">{{'contract.due' | translate}}</span>
                            </td>
                            <td style="width:10%;" class="action-items-actions">
                                <span ng-if="row.daad == 'itako' && user1.iroori != 'itako'" ng-click="deleteContractActionItem(row)" title="{{'general.delete' | translate}}">
                                    <i class="fa fa-trash" style="font-size:15px;"></i>
                              </span>
                                <span ng-if="user1.iroori == 'itako' || row.daad != 'itako'">---</span>
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-show="isLoading">
                        <tr>
                            <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                        </tr>
                    </tbody>
                    <tbody ng-show="emptyTable">
                        <tr>
                            <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}}</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td class="text-center" colspan="8">
                                <div class="paginator">
                                    <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                    <span class="paginator-dropdown" ng-if="totalRecords1>10">
                                        <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                        <select ng-model="displayCount" ng-change="defaultPages1(displayCount)"
                                            ng-options="item for item in pagesNumber" selected>
                                        </select>
                                    </span>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="obligations-list.html">
    <div class="card">
        <div class="card-block card-space">
            <div class="" st-pipe="getObligations" st-table="obligationsInfo">
                <table class="table table-custom table-striped table-hover">
                    <thead>
                        <tr>
                            <td colspan="10">
                                <div class="col-sm-12 clearfix p0">
                                    <div class="col-sm-4 p0">
                                    </div class="input-group-addon">
                                    <div class="col-sm-8 clearfix p0">
                                        <div class="action-head clearfix mb0">
                                            <div class="pull-right" style="padding-left:5px !important;" 
                                            ng-if="contractInfo.contract_user_access!='co' && user.access!='ro'">
                                                <a href="javascript:;" ng-click="createObligationRights()" class="">
                                                    <button type="button" class="btn btn-sm btn-primary  btn-radius ng-scope">
                                                        <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}    
                                                    </button>
                                                </a>
                                            </div>
                                            <div class="col-sm-7 p0 table-search pull-right">
                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                                <i class="fa icon-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th class="obligations-description">{{'providers.description' | translate}}</th>
                            <th class="obligations-type-name" st-sort="type_name">{{'general.type' | translate}}</th>
                            <th class="obligations-applicable" st-sort="applicable_to_name ">{{'obligations.obligation_applicable' | translate}}</th>
                            <th class="obligations-recurrence" st-sort="recurrence">{{'calender.recurrence' | translate}}</th>
                            <th class="obligations-start-date" st-sort="recurrence_start_date">{{'contract.start_date' | translate}}</th>
                            <th class="obligations-end-date" st-sort="recurrence_end_date ">{{'contract.end_date' | translate}}</th>
                            <th class="obligations-notification" st-sort="email_notification">{{'notification.notification' |translate}}</th>
                            <th class="obligations-actions">{{'user.breadcrumb.actions' | translate}}</th>
                        </tr>
                    </thead>
                    <tbody ng-show="!obligationLoading">
                        <tr ng-repeat="row in obligationsInfo">
                            <td class="obligations-description custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.description}}">{{row.description |checkEmpty}}</span>
                            </td>
                            <td class="obligations-type-name custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.type_name}}">{{row.type_name |checkEmpty}}</span>
                            </td>
                            <td class="obligations-applicable custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.applicable_to_name}}">{{row.applicable_to_name |checkEmpty}}</span>
                            </td>
                            <td class="obligations-recurrence custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.recurrence}}">{{row.recurrence |  checkEmpty}}</span>
                            </td>
                            <td class="obligations-start-date">
                                <span title="{{row.recurrence_start_date  | utcToLocal:'date'}}">{{row.recurrence_start_date  | utcToLocal:'date' | checkEmpty}}</span>
                            </td>
                            <td class="obligations-end-date" title="{{row.recurrence_end_date   | utcToLocal:'date'}}">{{row.recurrence_end_date | utcToLocal:'date' | checkEmpty}}</td>
                            <td class="obligations-notification">
                                <span>
                                <div class="onoffswitch" style="margin-left: 3px;">
                                    <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox"                                                    
                                            ng-true-value="1" ng-false-value="0"
                                            ng-checked="row.email_notification==1" disabled
                >
                                    <label class="onoffswitch-label assessment-switch mb-0"
                                            for="status">
                                        <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                                </label>
            </div>
            </span>

            </td>
            <td class="obligations-actions">
                <span style="padding-right: 5px; vertical-align: middle;width:18px; display:inline-block;" tooltip-class="customClass" tooltip-placement="top" tooltip-append-to-body="true" uib-tooltip="{{row.detailed_description}}">
                                    <img style="width:16px; margin-bottom: 4px;" src="img/Comments.svg" alt="" ng-if="row.detailed_description!=''">
                                </span>


                <span ng-if="contractInfo.contract_user_access!='co' && user.access!='ro'" style="padding-right: 5px;width:15px; display:inline-block;" ng-click="createObligationRights(row)" title="{{'general.edit' | translate}}">
                                    <i class="fa fa-pencil pointer"></i>
                            </span>
                <span ng-if="contractInfo.contract_user_access!='co' && user.access!='ro'" style="width:15px; display:inline-block;" ng-click="deleteObligation(row)" title="{{'general.delete' | translate}}">
                                    <i class="fa fa-trash pointer" style="font-size: 15px;"></i>
                            </span>
            </td>

            </tr>
            </tbody>
            <tbody ng-show="obligationLoading">
                <tr>
                    <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                </tr>
            </tbody>
            <tbody ng-show="emptyObligationTable">
                <tr>
                    <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}}</td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td class="text-center" colspan="8">
                        <div class="paginator">
                            <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                            <span class="paginator-dropdown" ng-if="obligationsInfoCount>10">
                                        <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                        <select ng-model="displayCount" ng-change="defaultPagesObligations(displayCount)"
                                             ng-options="item for item in pagesNumber" selected>
                                        </select>
                                    </span>
                        </div>
                    </td>
                </tr>
            </tfoot>
            </table>
        </div>
    </div>
    </div>
</script>
<script type="text/ng-template" id="service-catalogue-list.html">
    <div class="card">
        <div class="card-block card-space">
            <div class="" st-pipe="serviceCatelogue" st-table="serviceCatelogueInfo">
                <table class="table table-custom table-striped table-hover">
                    <thead>
                        <tr>
                            <td colspan="10">
                                <div class="col-sm-12 clearfix p0">
                                    <div class="col-sm-4 p0">

                                    </div>
                                    <div class="col-sm-8 clearfix p0">
                                        <div class="action-head clearfix mb0">
                                            <div class="pull-right" style="padding-left:5px !important;" 
                                            ng-if="contractInfo.contract_user_access!='co' && user.access !='ro'">
                                                <a class="" ng-click="addServiceCatalogue()">
                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                    <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}
                                                   
                                                </button>
                                                </a>
                                            </div>
                                            <div class="col-sm-7 p0 table-search pull-right">
                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                                <i class="fa icon-search"></i>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th st-sort="catalogue_name" class="catalogue-item-spend">{{'normal.catalogue_item' | translate}}</th>
                            <th st-sort="unit_price" class="unit-price">{{'normal.unit_price' | translate}}</th>
                            <th st-sort="quantity" class="quantity" style="text-align:center;">{{'normal.quantity' | translate}}</th>
                            <th st-sort="payment_periodicity_name" class="payment-periodicity">{{'normal.periodicity' | translate}}</th>
                            <th class="hand-symbol catalogue-actions">{{'user.breadcrumb.actions' | translate}}</th>
                        </tr>
                    </thead>
                    <tbody ng-show="!isCatelogueLoading">
                        <tr ng-repeat="row in serviceCatelogueInfo">
                            <td class="catalogue-item-spend custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.catalogue_name}}">{{row.catalogue_name | checkEmpty}}</span>
                            </td>
                            <td class="unit-price custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.unit_price}}" ng-if="row.unit_price!=null">
                                {{row.currency_name}} {{row.unit_price}}
                             </span>
                                <span class="ellipsis-block" title="{{row.unit_price}}" ng-if="row.unit_price ==null">
                               {{row.unit_price |checkEmpty}}
                             </span>
                            </td>
                            <td class="quantity custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.quantity}}" style="display: inline-block;padding-right: 5px;text-align: center;">{{row.quantity  | checkEmpty}}</span>
                            </td>
                            <td class="payment-periodicity custom-ellipsis">
                                <span class="ellipsis-block" title="{{row.payment_periodicity_name}}"> {{row.payment_periodicity_name | checkEmpty}}</span>
                            </td>
                            <td class="catalogue-actions comments-tooltip">
                                <span style="padding-right: 5px; vertical-align: middle; width:20px; display:inline-block;" tooltip-class="customClass" tooltip-placement="top" tooltip-append-to-body="true" uib-tooltip="{{row.comments}}">
                                    <img style="width:16px; margin-bottom: 4px;" src="img/Comments.svg" alt="" ng-if="row.comments!=''">
                                </span>


                                <span ng-if="contractInfo.contract_user_access!='co' && user.access!='ro'" style="padding-right: 5px; width:15px; display:inline-block;" ng-click="addServiceCatalogue(row)" title="{{'general.edit' | translate}}">
                                    <i class="fa fa-pencil pointer"></i>
                            </span>
                                <span ng-if="contractInfo.contract_user_access!='co' && user.access!='ro'" style="width:15px; display:inline-block;" ng-click="deleteServiceCatelogueAction(row)" title="{{'general.delete' | translate}}">
                                    <i class="fa fa-trash pointer" style="font-size: 15px;"></i>
                            </span>

                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-show="isCatelogueLoading">
                        <tr>
                            <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                        </tr>
                    </tbody>
                    <tbody ng-show="emptyCatolgueTable">
                        <tr>
                            <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}}</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td class="text-center" colspan="8">
                                <div class="paginator">
                                    <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                    <span class="paginator-dropdown" ng-if="serviceCatolgueCount>10">
                                        <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                        <select ng-model="displayCount" ng-change="defaultPages123(displayCount)"
                                            ng-options="item for item in pagesNumber" selected>
                                        </select>
                                    </span>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="sub-aggrements.html">

    <div class="card">
        <div class="card-block card-space">
            <div class="" st-pipe="callServerSubContract" st-table="subContractsList">
                <table class="table table-custom table-striped table-hover">
                    <thead>
                        <tr>
                            <td colspan="10">
                                <div class="col-sm-12 clearfix p0">
                                    <div class="col-sm-4 p0">

                                    </div>
                                    <div class="col-sm-8 clearfix p0">
                                        <div class="action-head clearfix mb0 d-flex">
                                            <!-- <div class="pull-right input-group" style="padding-left:5px !important border-collapse: inherit;display: flex;" ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd')">
                                                <a href="javascript:;" ng-click="createSubContract()" class="">
                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                        <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}
                                                    </button>
                                                </a>
                                                <button id="single-button" type="button" class="btn btn-sm btn-primary dashboard-custom-drop" type="button"
                                                                    ng-click="$event.stopPropagation();$event.preventDefault();contributionsFunction();"    
                                                                    uib-dropdown-toggle ng-disabled="disabled" style="border-top-right-radius: 4px;border-bottom-right-radius: 4px;">
                                                                        <i id="arrow-icon-contributions" class="fa fa-angle-double-down"></i>
                                                                    </button>
                                                                    <div class="showMenu resolution bg-primary dashboard-drop-menu dashboard-acceletor pointer" ng-show="showContributions" id="allContributions">
                                                                        <span ng-click="createProject()">{{'dashboard.Project'|translate}}</span>
                                                                        <span  ng-click="createContract()">{{'dashboard.Contract'|translate}}</span>
                                                                </div>
                                            </div> -->
                                           

                                            <div class="col-sm-7 p0 table-search pull-right">
                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                                <i class="fa icon-search"></i>
                                            </div>

                                            <div class="input-group" style="border-collapse: inherit;display: flex;" ng-if="(contractInfo.contract_user_access=='ca' || contractInfo.contract_user_access=='bo' || contractInfo.contract_user_access=='bd' ||contractInfo.contract_user_access=='bm' )">
                                                <button
                                                        class="btn btn-sm btn-primary" type="button" ng-click="createSubContract()"
                                                     style="border-top-left-radius: 4px;border-bottom-left-radius: 4px;">
                                                        <i class="icon-plus-circle"></i><span style="padding-left: 5px;">{{'general.ADD'| translate}}</span>
                                                    </button>
                                                  <div class="dropdown">
                                                    <button 
                                                    id="single-button" type="button" class="btn btn-sm btn-primary dropdown" type="button"
                                                    ng-click="$event.stopPropagation();$event.preventDefault();SubContractFunction();"    
                                                    uib-dropdown-toggle style="border-top-right-radius: 4px;border-bottom-right-radius: 4px;">
                                                        <i id="arrow-icon-subContracts" class="fa fa-angle-double-down"></i>
                                                    </button>
                                                    <div class="showMenu resolution bg-primary pointer" ng-show="showSubContracts" id="allSubContracts">
                                                        <span ng-click="createSubContract()">{{'contract.new_contract'|translate}}</span>
                                                        <span ng-click="addExistingSubContracts()">{{'contract.exist_contract'|translate}}</span>
                                                </div>
                                            </div>
                                                </div>
                                        </div>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <th style="min-width:60px;" class="sub-contracts-action-items-count"></th>
                            <th st-sort="provider_name" class="sub-contracts-provider-name">{{'contract.provider' | translate}}</th>
                            <th st-sort="contract_name" class="sub-contracts-contract-name">{{'contract.contract_name' | translate}}</th>
                            <th st-sort="relationship_category_name" class="sub-contracts-relation-name">{{'contract.category' | translate}}</th>
                            <th class="hand-symbol" class="sub-contracts-bu-owner">{{'contract.owner' | translate}}</th>
                            <th class="hand-symbol" class="sub-contracts-delegate-name">{{'contract.delegate' | translate}}</th>
                            <th class="sub-contracts-review-list"></th>
                        </tr>
                    </thead>
                    <tbody ng-show="!isSubLoading">
                        <tr ng-repeat="row in subContractsList">
                            <td style="position: relative;" class="sub-contracts-action-items-count">
                                 <span ng-if="row.action_item_count>0"  uib-tooltip="{{'contract.action_items' | translate}}" tooltip-placement="top" class="label_tag">{{row.action_item_count}}</span> 
                                <span class="circle-s">s</span>
                            </td>
                            <td class="sub-contracts-provider-name custom-ellipsis">
                                <span class="ellipsis-block" uib-tooltip="{{row.provider_name}}" tooltip-placement="top">{{row.provider_name}}</span>
                            </td>
                            <td class="sub-contracts-contract-name custom-ellipsis">
                                <span class="skyblue ellipsis-block pointer" tooltip-placement="left" ng-if="row.can_access==1" uib-tooltip="{{row.contract_name}}" 
                                   ng-click="goToContractDetails(row)">{{row.contract_name}}</span>

                                <span class="gray-text ellipsis-block" tooltip-placement="left" uib-tooltip="{{row.contract_name}}" 
                                   ng-if="row.can_access==0">{{row.contract_name}}</span>
                            </td>
                            <td class="sub-contracts-relation-name custom-ellipsis">
                                <span class="ellipsis-block" tooltip-placement="left" uib-tooltip="{{row.relationship_category_name}}">{{row.relationship_category_short_name |  checkEmpty}}</span>
                            </td>
                            <td class="sub-contracts-bu-owner custom-ellipsis">
                                <span class="ellipsis-block" uib-tooltip="{{row.bu_owner}}"  tooltip-placement="left" tooltip-append-to-body="true">{{row.bu_owner|  checkEmpty}}</span>
                            </td>
                            <td class="sub-contracts-delegate-name custom-ellipsis" uib-tooltip="{{row.bu_delegate}}" tooltip-placement="left" tooltip-append-to-body="true">
                                <span class="ellipsis-block">{{row.bu_delegate | checkEmpty}}  </span>
                            </td>

                            <td style="max-width: 80px;min-width: 80px;width: 80px;" class="sub-contracts-review-list">
                                <span style="width:25px; display:inline-block;">
                                    <i class="tss-back-icon2 pointer" style="font-size:20px;" aria-hidden="true" uib-tooltip="Remove as Sub Agreement" tooltip-placement="top" tooltip-append-to-body="true" ng-click="removeSubAgreement(row)"></i>
                                </span>
                                <span uib-dropdown on-toggle="toggled(open)" class="c-dropdown width-20 pull-right">
                                    <a href uib-dropdown-toggle class="font-sm"  ng-disabled="row.can_access==0" ng-click="reviewworkflowData(row)">
                                        <span class="fa fa-ellipsis-v"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right custom-scrl" dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown" style="width: 480px;max-height: 160px;">
                                    <div>
                                        <!-- <li ng-repeat="item in row.review_or_workflow">
                                            <a href="javascript:;" ng-click="(item.validation_status!=2 || user1.access =='ca') && goToReviewWorkflow(item,row)" style="display: flex;padding: 5px 10px;">

                                                <span style="padding-right: 10px; display: flex; align-items:center" ng-class="{'hand-symbol':(item.validation_info==2 && user1.access !='ca')}">
                                                        <span ng-if="item.validation_info==4" class="exclamatory-circle" >  <i class="fa fa-exclamation-circle"style="font-size: 20px;" uib-tooltip="Validation in preparation" tooltip-placement="top" tooltip-append-to-body="true"></i></span>
                                                <span ng-if="item.validation_info==2" class="refresh-icon"><i class="fa fa-refresh" style="font-size: 20px;" tooltip-placement="top"   uib-tooltip="Validation ongoing"tooltip-append-to-body="true"></i></span>
                                                <span ng-if="item.validation_info==1" class="red"><i class="tss-validation" style="font-size: 17px;" tooltip-placement="top" uib-tooltip="Validation in preparation" tooltip-append-to-body="true"></i></span>
                                                <span ng-if="item.validation_info==3" class="green"><i class="fa fa-check-circle" style="font-size: 20px;" tooltip-placement="top"  uib-tooltip="Validation finalized" tooltip-append-to-body="true"></i></span>
                                                </span>
                                                <span class="f14 orange" ng-if="item.is_workflow=='0'" style="padding-right: 10px;" ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca')}">{{'calender.review' | translate}}</span>
                                                <span class="f14 green" ng-if="item.is_workflow=='1'" style="padding-right: 10px;" ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca')}">{{'calender.workflow' | translate}}</span>

                                                <span title="{{item.activity_name}}" style="width: 200px;overflow: hidden;" ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca'),
                                                                       'f14 skyblue ellipis hand-symbol':(item.validation_status ==2 && user1.access !='ca'),
                                                                       'f14 skyblue ellipis':(item.validation_status==2 && user1.access =='ca'),
                                                                       'f14 skyblue pointer ellipis': item.validation_status!=2}"> {{item.activity_name | checkEmpty}}
                                                    </span>
                                            </a>
                                        </li> --> <li ng-repeat="item in reviewWorkflowInfo">
                                            <a href="javascript:;" style="padding: 5px 10px;">
                                                <span style="display:flex;">
                                                   
                                                    <span class="f14 orange" style="padding-right: 10px;min-width: 55px;"   
                                                                ng-click="(item.validation_status!=2 || user1.access =='ca') && ((row.can_review==0 && item.is_workflow==1) || (row.can_review==1 || row.can_review==1))  && goToReviewWorkflow(item,row)" ng-if="item.is_workflow=='0'" 
                                                                ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca') || (row.can_review ==0 && item.is_workflow==0)}">{{'calender.review' | translate}}</span>

                                                   
                                                    <span class="f14 green" style="padding-right: 10px;min-width: 55px;"   
                                                    ng-click="(item.validation_status!=2 || user1.access =='ca') && goToReviewWorkflow(item,row)" ng-if="item.is_workflow=='1'"  
                                                    ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca')}">{{'calender.workflow' | translate}}</span> 



                                                    <span  ng-click="((row.can_review==0 && item.is_workflow==1) || (row.can_review==1 || row.can_review==1)) 
                                                        && goToReviewWorkflow(item,row)"   
                                                    title="{{item.activity_name}}" style="width: calc(100% - 100px);overflow: hidden;" 
                                                    ng-class="{'hand-symbol':(item.validation_status==2 && user1.access !='ca') ||(row.can_review==0 && item.is_workflow==0),
                                                               'f14 skyblue ellipis hand-symbol':(item.validation_status==2 && user1.access !='ca'),
                                                               'f14 skyblue ellipis':(item.validation_status ==2 && user1.access =='ca'),
                                                               'f14 skyblue  ellipis': item.validation_status!=2}"> {{item.activity_name | checkEmpty}}</span>
                                                    
                                                                     <div class="score-with-status mr-5" ng-if="row.can_review !=0 || item.is_workflow!=0">
                                                                        <span class="f12">{{item.contract_progress == null ? "0%":item.contract_progress}}</span>
                                                                        <div class="status-widget font-weight-bold" style="line-height: 6px;">
                                                                            <span ng-if="item.score == 'Amber'" class="amber-active"></span>
                                                                            <span ng-if="item.score == 'Red'" class="red-active"></span>
                                                                            <span ng-if="item.score == 'Green'" class="green-active"></span>
                                                                            <span ng-if="!item.score" class=""></span>
                                                                            <span ng-if="item.score == 'N/A'" class="">{{item.score}}</span>
                                                                        </div>
                                                                       </div>
                                                                        <span style="padding-right: 0px;min-width: 21px; display: flex; align-items:center" 
                                                                        ng-class="{'hand-symbol':(item.validation_info==2 && user1.access !='ca')}" ng-if="row.can_review !=0 || item.is_workflow!=0">
                                                                           <span ng-if="item.validation_info==4" class="exclamatory-circle" style="margin-top: 3px;display:flex;">  <i class="fa fa-exclamation-circle" uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placement="left" style="font-size: 20px;"></i></span>
                                                                           <span ng-if="item.validation_info==2" class="refresh-icon" style="margin-top: 3px;"><i class="fa fa-refresh" style="font-size: 12px;" uib-tooltip="{{'normal.validation_ongoing' | translate}}" tooltip-placement="left"></i></span>
                                                                           <span ng-if="item.validation_info==1" style="margin-top: 3px;display:flex;"><i class="tss-validation" style="font-size: 17px;" uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placement="left"></i></span>
                                                                           <span ng-if="item.validation_info==3"  class="green" style="margin-top: 3px;display:flex;"><i class="fa fa-check-circle" style="font-size: 20px;" uib-tooltip="{{'normal.validation_finalized' | translate}}" tooltip-placement="left"></i></span>
                                                                       </span>
                                                                    </span>
                                                
                                             </a>
                                            </li>
                                    </div>

                                </ul>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-show="isSubLoading">
                        <tr>
                            <td colspan="7" class="text-sm-center">{{'general.loading' | translate}}</td>
                        </tr>
                    </tbody>
                    <tbody ng-show="emptySubTable">
                        <tr>
                            <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td class="text-center" colspan="7">
                                <div class="paginator">
                                    <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                    <span class="paginator-dropdown" ng-if="totalRecords2>10">
                                        <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                        <select ng-model="displayCount" ng-change="defaultPages2(displayCount)"
                                             ng-options="item for item in pagesNumber" selected>
                                        </select>
                                    </span>
                                </div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="event-feed-list.html">
<div class="card">
    <div class="card-block card-space">                      
        <div class="" st-pipe="getEventFeed" st-table="eventList">
            <table class="table table-custom table-striped table-hover">
                <thead>
                    <tr>
                        <td colspan="10">
                            <div class="col-sm-4 p0">
                            </div>
                            <div class="col-sm-8 clearfix p0">
                                <div class="action-head mb0 clearfix">
                                    <div class="pull-right" style="padding-left:5px !important;"
                                    ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                        <a class="" ng-click="createEventFeed()">
                                            <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                <i class="icon-plus-circle"></i> &nbsp;{{'general.ADD'|translate}}
                                            </button>
                                        </a>
                                    </div>
                                    <div class="col-sm-7 p0 table-search pull-right">
                                        <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                            st-search="search_key" st-input-event="change">
                                        <i class="fa icon-search"></i>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th st-sort="subject" class="event-subject">{{'notification.subject' | translate}}</th>
                        <th st-sort="type" class="event-type">{{'general.type' | translate}}</th>
                        <th st-sort="responsible_user_name" class="hand-symbol event-responsible">{{'contract.responsible_user_id' | translate}}</th>
                        <th st-sort="stakeholders" class="hand-symbol event-stakholders">{{'providers.stake_holders' | translate}}</th>
                        <th st-sort="date" class="pointer event-date" st-sort="Projected_value">{{'questions.date' | translate}}</th>
                        <th class="event-actions" style="text-align: right;padding-right: 20px;">{{'tags.actions' | translate}}</th>
                    </tr>
                </thead>
                <tbody ng-show="!eventLoading">
                    <tr ng-repeat="row in eventList">
                        <td class="event-subject custom-ellipsis" style="padding:0.7rem 0.4rem;">
                            <span class="ellipsis-block" title="{{row.subject}}">{{row.subject | checkEmpty}}</span>
                        </td>    
                        <td class="event-type custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                            <span class="ellipsis-block" title="{{row.type}}">{{row.type | checkEmpty}}</span>
                        </td>    
                        <td class="event-responsible custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                            <span class="ellipsis-block" title="{{row.responsible_user_name}}">{{row.responsible_user_name | checkEmpty}}</span>
                        </td>    
                        <td class="event-stakholders custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                            <span class="ellipsis-block" title="{{row.stakeholders}}">{{row.stakeholders | checkEmpty}}</span>
                        </td>                                            
                        <td class="event-date custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                            <span class="ellipsis-block" title="{{row.date| utcToLocal:'date' | checkEmpty}}">{{row.date| utcToLocal:'date' | checkEmpty}}</span>
                        </td>                                            
                        <td class="event-actions pointer" style="text-align: right;padding:0.7rem 0.4rem;;">
                                    <i ng-if="row.attachment.all_records!=''" class="icon-attachment f13 skyblue" style="position: relative;padding: 0 5px;top:4px" title="Add Attachments" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" ng-click="eventAttachment(row)">
                                        <span class="count" style="top: -15px;right: 2px;" ng-if="row.attachment.all_records.length>0">{{row.attachment.all_records.length}}</span>
                                    </i>
                            <span ng-if="row.description!=null" style="padding-right: 5px; vertical-align: middle;width:20px; display:inline-block;" tooltip-class="customClass" tooltip-placement="top" tooltip-append-to-body="true" uib-tooltip="{{row.description}}">
                                <img style="width:16px; margin-bottom: 4px;" src="img/Comments.svg" alt="">
                            </span>
                            <span style="padding-right: 5px;width:15px; display:inline-block;" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" title="{{'general.edit' | translate}}" ng-click="createEventFeed(row)">
                                <i class="fa fa-pencil pointer"></i>
                            </span>
                            <span style="display:inline-block;" title="{{'general.delete' | translate}}" ng-click="deleteEventFeed(row)" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                    <i class="fa fa-trash pointer" style="font-size: 15px;"></i>
                            </span>
                        </td>
                    </tr>
                </tbody>
                <tbody ng-show="eventLoading">
                    <tr>
                        <td colspan="7" class="text-sm-center">{{'general.loading' | translate}}</td>
                    </tr>
                </tbody>
                <tbody ng-show="eventEmptyTable">
                    <tr>
                        <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr>
                        <td class="text-center" colspan="8">
                            <div class="paginator">
                                <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                <span class="paginator-dropdown" ng-if="totalRecordsEvent>10">
                                    <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                    <select ng-model="displayCount" ng-change="defaultPages(displayCount)"
                                        ng-options="item for item in pagesNumber" selected>
                                    </select>
                                </span>
                            </div>
                        </td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
</div>
</script>


<!-- parvathi code starts-->
<script type="text/ng-template" id="create-edit-obligation-rights.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{title |translate}} {{'normal.obligation_rights' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-blocks">
            <form novalidate name="obligationForm" ng-submit="obligationForm.$valid && addObligationRights(obligations)">
                <div class="form-group col-sm-12">
                    <label>{{'obligations.Obligation_desc' | translate}} *</label>
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" data-ng-model="obligations.description" name="description" required/>
                    </div>
                    <span class="error-message" ng-if="obligationForm.description.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'obligations.obligation_type' | translate}} *</label>
                    <select class="form-control" ng-model="obligations.type" name="type" required>
                        <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                        <option value="0">{{'documents.obligation'| translate}}</option>
                        <option value="1">{{'documents.right'|translate}}</option>
                    </select>
                    <span class="error-message" ng-if="obligationForm.type.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>

                <div class="form-group col-sm-6">
                    <label>{{'obligations.obligation_applicable' | translate}}</label>
                    <select class="form-control" ng-model="obligations.applicable_to">
                        <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                        <option value="0">{{'user.breadcrumb.customer'| translate}}</option>
                        <option value="1">{{'user.breadcrumb.relation'|translate}}</option>
                        <option value="2">{{'user.breadcrumb.mutual'|translate}}</option>
                   </select>
                </div>


                <div class="input-group clearfix form-group-custom pl-1 pr-1">
                    <label>{{'obligations.obligations_detailed_desc' | translate}}</label>
                    <textarea type="text" class="form-control white-bg bg-white" data-ng-model="obligations.detailed_description" name="detailed_desc"> </textarea>
                </div>



                <div ng-init="indextab=0" class="mt-2 col-sm-12">
                    <uib-tabset active="indextab" class="clearfix">
                        <uib-tab index="0" heading="{{'normal.recurrence_rules' | translate}}">
                            <div class="col-sm-12 m-t-3 form-group p0">
                                <div class="form-group col-sm-6">
                                    <label>{{'obligations.obligation_recurrence' | translate}}</label>
                                    <select class="form-control" ng-model="obligations.recurrence_id" ng-options="item.id as item.name for item in recurrences" ng-change="getRecurrenceSelected(obligations.recurrence_id)">
                                        <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                                    </select>
                                </div>

                                <div class="clearfix"></div>

                                <div class="form-group col-sm-6">
                                    <label>  {{'obligations.obligations_start_date'|translate}} </label>
                                    <div class="input-group clearfix form-group-custom">
                                        <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false" data-ng-model="obligations.recurrence_start_date" name="start_date" is-open="openCal1" datepicker-options="{showWeeks:false}"
                                            show-button-bar="false" readonly />
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default border" ng-disabled="!defaultField" ng-click="openCal1 = true">
                                                <i class="fa fa-calendar"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>


                                <div class="form-group col-sm-6">
                                    <label>  {{'obligations.obligations_end_date'|translate}} </label>
                                    <div class="input-group clearfix form-group-custom">
                                        <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false" data-ng-model="obligations.recurrence_end_date" name="start_date" is-open="openCal" datepicker-options="{showWeeks:false}"
                                            show-button-bar="false" readonly />
                                        <span class="input-group-btn">
                                            <button type="button" class="btn btn-default border" ng-disabled="!enddateField" ng-click="openCal = true">
                                                <i class="fa fa-calendar"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>

                                <div class="col-sm-4">
                                    <div class="">
                                        <label class="">{{'user.breadcrumb.calendar' | translate}}</label>
                                        <div class="onoffswitch" style="margin-left: 3px;">
                                            <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox" ng-true-value="1" ng-false-value="0" ng-model="obligations.calandar" ng-disabled="!anotherField" ng-checked="calandar == 1" id="status">
                                            <label class="onoffswitch-label assessment-switch mb-0" for="status">
                                                <span class="onoffswitch-inner"></span>
                                                <span class="onoffswitch-switch"></span>
                                            </label>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </uib-tab>
                        <uib-tab index="1" class="clearfix" heading="{{'normal.notification_rules' | translate}}">

                            <div class="form-group col-sm-4">
                                <label ng-if="!requiredFields">{{'obligations.obligations_days' | translate}} </label>
                                <label ng-if="requiredFields">{{'obligations.obligations_days' | translate}} * </label>
                                <div class="input-group clearfix form-group-custom">
                                    <input type="text" class="form-control white-bg bg-white" maxlength="50" only-digits data-ng-model="obligations.no_of_days" name="no_of_days" 
                                    ng-required="requiredFields == '1'" />
                                </div>
                                <span class="error-message" ng-if="obligationForm.no_of_days.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>
                            <div class="form-group col-sm-4">
                                <label ng-if="!requiredFields">{{'obligations.logic' | translate}}</label>
                                <label ng-if="requiredFields">{{'obligations.logic' | translate}} *</label>
                                <select class="form-control" name="logic" ng-model="obligations.logic" ng-required="requiredFields == '1'">
                                    <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                                    <option value="0">{{'contract.before' | translate}}</option>
                                    <option value="1">{{'contract.after'|translate}}</option>
                               </select>
                                <span class="error-message" ng-if="obligationForm.logic.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>

                            <div class="form-group col-sm-4">
                                <label ng-if="!requiredFields">  {{'questions.date'|translate}} </label>
                                <label ng-if="requiredFields">  {{'questions.date'|translate}} *</label>
                                <div class="input-group clearfix form-group-custom">
                                    <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false" data-ng-model="obligations.email_send_start_date" name="email_send_start_date" is-open="openCal3" datepicker-options="{showWeeks:false}"
                                        show-button-bar="false" readonly ng-required="requiredFields == '1'" />
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default border"  ng-click="openCal3 = true">
                                            <i class="fa fa-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                                <span class="error-message" ng-if="obligationForm.email_send_start_date.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>

                            <div class="input-group clearfix form-group-custom pl-1 pr-1 form-group">
                                <label ng-if="!requiredFields" class="d-block">{{'obligations.notificaton_message'|translate}}</label>
                                <label ng-if="requiredFields" class="d-block">{{'obligations.notificaton_message'|translate}} *</label>
                                <textarea type="text" class="form-control white-bg bg-white" data-ng-model="obligations.notification_message" name="notification_message" ng-required="requiredFields == '1'"> </textarea>
                                <span class="error-message" ng-if="obligationForm.notification_message.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>


                            <div class="col-sm-4">
                                <div class="">
                                    <label class="">{{'obligations.email_notification'|translate}}</label>

                                    <div class="onoffswitch" style="margin-left: 3px;">
                                        <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox" ng-true-value="1" ng-false-value="0" ng-model="obligations.email_notification" ng-checked="obligations.email_notification == 1" ng-change="getNotification(obligations.email_notification)"
                                            id="notification">
                                        <label class="onoffswitch-label assessment-switch mb-0" for="notification">
                                            <span class="onoffswitch-inner"></span>
                                            <span class="onoffswitch-switch"></span>
                                        </label>
                                    </div>
                                </div>
                            </div>



                            <div class="form-group col-sm-4">
                                <label ng-if="!requiredFields">{{'obligations.resend_recurrence' | translate}}</label>
                                <label ng-if="requiredFields">{{'obligations.resend_recurrence' | translate}} *</label>
                                <select class="form-control" ng-model="obligations.resend_recurrence_id" name="resend_recurrence_id" ng-options="item.id as item.name for item in resend_recurrences" ng-required="requiredFields == '1'">
                                        <option value="" class="font-italic">- {{'general.select' | translate}} -</option>                              
                                    </select>
                                <span class="error-message" ng-if="obligationForm.resend_recurrence_id.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>


                            <div class="form-group col-sm-4">
                                <label ng-if="!requiredFields">  {{'obligations.resend_email_date'|translate}} </label>
                                <label ng-if="requiredFields">{{'obligations.resend_email_date' | translate}} *</label>
                                <div class="input-group clearfix form-group-custom">
                                    <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false" data-ng-model="obligations.email_send_last_date" name="email_send_last_date" is-open="openCal4" datepicker-options="{showWeeks:false}"
                                        show-button-bar="false" readonly ng-required="requiredFields == '1'" />
                                    <span class="input-group-btn">
                                            <button type="button" class="btn btn-default border"  ng-click="openCal4= true">
                                                <i class="fa fa-calendar"></i>
                                            </button>
                                        </span>
                                </div>
                                <span class="error-message" ng-if="obligationForm.email_send_last_date.$error.required && obligationForm.$submitted">{{'general.required_field' |translate}}</span>
                            </div>


                        </uib-tab>
                    </uib-tabset>
                </div>

                <div class="obligation-form-btns col-sm-12 clearfix">
                    <button class="btn btn-sm btn-primary" type="submit">
                        <i class="fa fa-dot-circle-o"></i>&nbsp;{{bottom | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="fa fa-ban"></i> &nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>

            </form>
        </div>

    </div>

</script>
<script type="text/ng-template" id="show-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'contract.module_questions.feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>
<script type="text/ng-template" id="show-question-attachments.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'attachment.attachments' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <form novalidate name="tableForm">
            <table class="table table-custom table-striped table-hover">
                <thead>
                    <tr>
                        <th class="stored-question-text">{{'questions.question' | translate}}</th>
                        <th class="stored-question-link">{{'links.attachments_links' | translate}}</th>
                        <th class="stored-question-created-by">{{'contract.created_by' | translate}}</th>
                        <th class="stored-question-created-on">{{'contract.created_on' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="row in attachments">
                        <!-- <td>{{row.module_name}}</td>-->
                        <td class="stored-question-text custom-ellipsis">
                            <span class="ellipsis-block" title="{{question_text}}">{{question_text}} </span>
                        </td>
                      
                        <td class="stored-question-link custom-ellipsis">
                            <span ng-if="row.document_type==0" class="ellipsis-block" title="{{row.document_name}}">
                                <a href="javascript:;" ng-click="getDownloadUrl(row)">
                                    <span class="fa fa-download"></span>&nbsp;{{row.document_name | checkEmpty}}</a>
                            </span>
                            <span ng-if="row.document_type==1" class="ellipsis-block" title="{{row.document_source}}">
                                <a ng-click="redirectUrl(row.document_source)" href="javascript:;">
                                    <span class="fa fa-link"></span>&nbsp;{{row.document_name | checkEmpty}}</a>
                            </span>
                        </td>
                        <!-- <td class="fa fa-link skyblue">  {{row.document_source}}  </td> -->
                        <td class="custom-ellipsis stored-question-created-by">
                            <span class="ellipsis-block">{{row.uploaded_by}}</span></td>
                        <td class="custom-ellipsis stored-question-created-on">
                            <span class="ellipsis-block">{{row.created_on | utcToLocal:'toLocalDate'}}</span></td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</script>
<script type="text/ng-template" id="discussion-show.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'normal.discussion_detail' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <!-- modal body div open-->
        <i class="glyphicon"></i>
        <div class="col-sm-12 p0 form-group discussionAnswerParent">
            <div class="col-sm-12 p0 discussionAnswer" style="padding-left: 18px;">
                <div class="col-sm-6 p0" style="margin-bottom: 10px;color: #080808;">
                    <label class="hand-symbol">{{'contract.current_value' | translate}} :</label>
                    <span ng-if="question.question_type == 'input'">
                        <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' | translate}}" ng-model="question.question_answer">
                    </span>
                    <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.question_answer" name="question_answer" is-open="false" readonly/>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                </div>
                </span>
                <span ng-if="question.question_type == 'dropdown' || question.question_type == 'radio'">
                        <select class="form-control" ng-disabled="true">
                                <option value="">{{question.question_answer}}</option>
                        </select>
                    </span>
                <span ng-if="question.question_type == 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio1_{{$index}}_{{question.id_question}}" name="same_{{question.id_question}}" value="{{question.question_answer}}"
                                    checked ng-model="question.question_answer" disabled>
                                <label disabled ng-if="question.question_answer == 'G'" for="radio1_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.question_answer == 'A'" for="radio1_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.question_answer == 'R'" for="radio1_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.question_answer == 'N/A'" for="radio1_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
            </div>
            </span>
        </div>
        <div class="col-sm-6" style="margin-bottom: 10px;">
            <label class="hand-symbol" style="padding-left: 10px;color: #080808;">{{'contract.second_opinion' | translate}} :</label>
            <span ng-if="question.question_type == 'input'">
                            <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' | translate}}" ng-model="question.second_opinion">
                    </span>
            <span ng-if="question.question_type === 'dropdown' || question.question_type === 'radio'">
                        <select class="form-control" ng-disabled="true">
                            <option value="">{{question.second_opinion}}</option>
                        </select>
                    </span>
            <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.second_opinion" name="date_question" is-open="false" readonly/>
                            <span class="input-group-btn ">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
        </div>
        </span>
        <span ng-if="question.question_type === 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio2_{{$index}}_{{question.id_question}}" name="same1_{{question.id_question}}"
                                    value="{{question.second_opinion}}" checked ng-model="question.second_opinion" disabled>
                                <label disabled ng-if="question.second_opinion == 'G'" for="radio2_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.second_opinion == 'A'" for="radio2_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.second_opinion == 'R'" for="radio2_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.second_opinion == 'N/A'" for="radio2_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
    </div>
    </span>
    </div>
    </div>
    </div>
    <div class="clearfix"> </div>
    <div class="col-sm-12 form-group">
        <label>Comments:</label>
        <div class="black pl-1 f14 discussion_by" ng-if="question.discussion.log" ng-repeat="log in question.discussion.log">
            <div class="black font-italic" ng-if="log.comments">{{log.comments}}</div>
            <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'general.by' | translate}}</span>&nbsp; {{log.created_by}}
            </span>
            <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'discussion.date' | translate}}</span>&nbsp; {{log.created_on | utcToLocal:'toLocalDate'|checkEmpty}}
            </span>
        </div>
    </div>
    </div>
    <!-- modal-body div close-->
</script>

<script type="text/ng-template" id="add-review-calendar.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{action | translate}} {{head | translate}} :
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form class="form-horizontal profile-form" name="form" novalidate ng-submit="form.$valid && addReview(customOptions)">
        <div class="modal-body clearfix" id="modal-body">
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.review_name' | translate}} *</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" ng-model="customOptions.review_name" name="review_name" required>
                    <span class="error-message" ng-if="form.$submitted && form.review_name.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="!addType">
                <label class="col-sm-3 p0">{{'workflows.workflow' | translate}} *</label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen1" allow-single-deselect="true" placeholder-text-single="'{{'normal.placeholder_task' | translate}}'" single ng-model="customOptions.workflow_template_id" name="workflow_id" size="1" class="chosen-choices" required ng-options="item.workflow_template_id as item.module_name for item in workflowsList">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.workflow_id.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'reports.bu_unit' | translate}} *</label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen0" ng-change="getSmartFilters('bussiness_unit_id')" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_business_unit' | translate}}'" multiple ng-model="customOptions.bussiness_unit_id"
                        name="business_unit" size="1" class="chosen-choices" ng-options="item.id_business_unit as item.bu_name for item in business_units">
                    </select>
                    <!-- <span class="error-message" ng-if="form.$submitted && form.business_unit.$error.required">{{'general.required_field' |translate}}</span> -->
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'calender.relation_category' | translate}} </label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen0" ng-change="getSmartFilters('provider_relationship_category_id')" allow-single-deselect="true" 
                        ng-disabled="disablefields" placeholder-text-multiple="'{{'normal.placeholder_relation_Catagery_search' | translate}}'" multiple ng-model="customOptions.provider_relationship_category_id"
                        name="relation_category" size="1" class="chosen-choices"  
                        ng-options="item.id_provider_relationship_category as item.relationship_category_name for item in provider_relationship_category">
                        </select>
                    
                </div>
            </div>
           
            <div class="form-group col-sm-12 pr-0">
                <label class="col-sm-3 p0">{{'user.breadcrumb.contract_classification' | translate}}</label>
                <div class="col-sm-9 classification">
                    <select chosen id="add-chosen2" ng-change="getSmartFilters('relationship_category_id')" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_contract_classification' | translate}}'" multiple ng-model="customOptions.relationship_category_id"
                        name="id_relationship_category" class="chosen-choices" size="1" ng-options="item.id_relationship_category as item.relationship_category_name for item in relationCategory">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.id_relationship_category.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'providers.providers' | translate}}</label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen5" ng-change="getSmartFilters('provider_id')" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_provider' | translate}}'" multiple ng-model="customOptions.provider_id" name="providers"
                        size="1" class="chosen-choices" ng-options="item.id_provider as item.provider_name for item in providers">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.providers.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'reports.contracts' | translate}}</label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen3" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_contract' | translate}}'" multiple ng-model="customOptions.contract_id" name="id_contract" class="chosen-choices" size="1"
                        ng-options="item.id_contract as item.contract_name for item in contracts">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.id_contract.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="isEdit">
                <label class="col-sm-3 p0">{{'contract.completed_contracts' | translate}}</label>
                <div class="col-sm-9">
                    <select chosen id="add-chosen7" allow-single-deselect="true" placeholder-text-multiple="'{{'normal.placeholder_no_complete_contracts' | translate}}'" multiple ng-model="customOptions.completed_contract_id" name="id_contract" class="chosen-choices" size="1" ng-disabled="isEdit" ng-options="item.id_contract as item.contract_name for item in completed_contracts">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.id_contract.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>

            <div class="form-group col-sm-12" ng-if="!addType">
                <label class="col-sm-3 p0">{{'workflows.workflow_name' | translate}} *</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" ng-model="customOptions.workflow_name" name="workflow_name" required>
                    <span class="error-message" ng-if="form.$submitted && form.workflow_name.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0" ng-if="addType">{{'calender.review_by' | translate}} *</label>
                <label class="col-sm-3 p0" ng-if="!addType">{{'calender.execute_by' | translate}} *</label>
                <div class="col-sm-9">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" data-ng-model="customOptions.date" datepicker-options="options" ng-change="validateRecurrence()" ng-disabled="addType && isEdit" name="review_by" is-open="openCal1"
                            show-weeks="false" show-button-bar="false" readonly required/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="form.$submitted && form.review_by.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.recurrence' | translate}}</label>
                <div class="col-sm-9">
                    <select class="form-control" ng-model="customOptions.recurrence" name="recurrence" ng-change="validateRecurrence()" ng-disabled="isEdit">
                            <option value="">-- {{'general.select' |translate}} --</option>
                            <option value="1">{{'contract.monthly' | translate}}</option>
                            <option value="2">{{'contract.quarter' | translate}}</option>
                            <option value="3">{{'contract.yearly' | translate}}</option>
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.recurrence.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.recurrence_till' | translate}}  <span ng-if="customOptions.recurrence">*</span></label>
                <div class="col-sm-9">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" data-ng-model="customOptions.recurrence_till" datepicker-options="options1" name="recurrence_till" is-open="openCal2" show-weeks="false" show-button-bar="false"
                            ng-disabled="(isEdit)?true:(customOptions.recurrence=='')" readonly ng-required="customOptions.recurrence" />
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal2 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="form.$submitted && form.recurrence_till.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0" ng-if="addType">{{'calender.initiate_review' | translate}}  </label>
                <label class="col-sm-3 p0" ng-if="!addType">{{'calender.initiate_workflow' | translate}}  </label>
                <div class="col-sm-9">
                    <div class="onoffswitch">
                        <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox" ng-true-value="1" ng-false-value="0" ng-model="customOptions.auto_initiate" ng-checked="customOptions.auto_initiate == 1" id="auto_initiate" ng-disabled="(isEdit)?true:false">
                        <label class="onoffswitch-label assessment-switch mb-0" for="auto_initiate">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}
            </button>
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>
                {{'general.cancel' | translate}}
            </button>
        </div>
    </form>
</script>

<script type="text/ng-template" id="confirm-dialog.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{action | translate}} {{head | translate}} :
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <div class="modal-body clearfix" id="modal-body">
        <i ng-bind-html="val_data" id="val_data"></i><br>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-primary" ng-click="saidOk()">
            <i class="fa fa-check"></i> {{'general.ok' | translate}}
        </button>
        <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-times"></i>
            {{'general.cancel' | translate}}
        </button>
    </div>
</script>

<script type="text/ng-template" id="myPopoverServiceCatologue.html">
    <div class="" ng-repeat="item in row.bu_name">
        <span>{{item}}</span>
    </div>
</script>
<script type="text/ng-template" id="attach-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                        <i class="glyphicon" ng-class="{'fa fa-minus-square-o': status.open, 'fa fa-plus-square-o': !status.open}"></i>
                        {{heading}}
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script>
    function chosen() {
        $("#add-chosen").trigger("chosen:updated");
    }
</script>

<script>
    $(document).ready(function () {
        $('uib-tab').click(function () { })
    })
</script>
<script type="text/ng-template" id="menuHeaderTemplate">
    <div></div>
</script>

<script type="text/javascript" src="plugins/angular-fusionchart/src/fusioncharts.js"></script>
<script type="text/javascript" src="plugins/angular-fusionchart/src/fusioncharts.theme.fint.js"></script>
<script type="text/javascript" src="plugins/angular-fusionchart/src/angular-fusioncharts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
<!-- parvathi code ends-->
<style>
    /* #single-button.dashboard-custom-drop{
    background: #4d97f2;
    padding: 5px 8px;

}
#single-button.dashboard-custom-drop:hover{
    background: #0a68b4;
}
#single-button.dashboard-custom-drop i{
    font-size: 16px;
    color: #fff;
}

.dashboard-drop-menu.dashboard-acceletor {
        padding: 10px;
    }
    
    .dashboard-drop-menu.dashboard-acceletor span {
        display: inline-block;
        margin-top: 0;
    }
    .showMenu.dashboard-drop-menu{
 top:30px;
 left:auto;
 right: 0;
} */


    .action-items-module-name {
        width: 15%;
    }

    .action-item-name {
        width: 15%;
    }

    .action-items-user-name {
        width: 15%;
    }

    .action-items-due-date {
        width: 15%;
    }

    .action-items-priority {
        width: 10%;
    }

    .action-items-status {
        width: 10%;
    }

    .action-items-actions {
        width: 10%;
    }

    .sub-contracts-provider-name {
        width: 17%;
    }

    .sub-contracts-provider-name .tooltip {
        left: 0px !important;
        top: -20px !important;
    }

    .sub-contracts-contract-name {
        width: 18%;
    }

    .sub-contracts-action-items-count {
        width: 6%;
    }

    .sub-contracts-relation-name {
        width: 15%;
    }

    .sub-contracts-bu-owner {
        width: 17%;
    }

    .sub-contracts-delegate-name {
        width: 17%;
    }

    .sub-contracts-review-list {
        width: 10%;
    }

    .stored-question-text {
        width: 35%;
    }

    .stored-question-link {
        width: 25%;
    }

    .stored-question-created-by {
        width: 20%;
    }

    .stored-question-created-on {
        width: 20%;
    }

    .modal-dialog {
        max-width: 800px !important;
        margin: 30px auto;
    }

    .accordion-default .panel-body {
        padding: 0;
    }

    .panel-body .attachments_block {
        padding: 10px !important;
    }

    .icon-arrow-down-circle {
        vertical-align: middle;
    }

    .icon-trash {
        font-size: 20px;
    }

    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: #ccc;
        border-bottom: 1px solid #ccc;
    }

    .nav-tabs .nav-item {
        margin-bottom: 0px;
        padding: 0;
    }

    .tab-content .tab-pane {
        padding: 10px;
        min-height: 55px;
    }

    .nav-tabs .nav-item .nav-link {
        background: #FFF;
        color: #464646;
        text-align: center;
        min-width: 130px;
        border: 1px solid #ccc;
        border-bottom: none;
        margin-right: 4px;
    }

    .nav-tabs .nav-item.active .nav-link {
        background: #fff;
        border-bottom-color: #FFF;
        border: 1px solid #ccc;
        border-bottom: 1px solid #f9f9f9 !important;
        margin-bottom: -1px;
        position: relative;
    }

    .accordion-default .panel-body ul {
        background: #fff;
    }

    .nav.nav-tabs li:last-child {
        padding-right: 0px;
        margin: 0;
        margin-left: 0.2rem;
    }

    .accordion-default .panel-body ul {
        padding: 0;
        list-style: none;
        background: #fff;
    }

    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: transparent;
        border-bottom: transparent;
    }

    .modal-dialog .nav-tabs {
        background: #fff;
    }

    .modal-dialog .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .modal-dialog .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .modal-dialog .tab-content {
        border: 1px solid #ccc;
    }

    .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .tab-content {
        border: 1px solid #ccc !important;
        background-color: #f9f9f9;
    }

    .card-block .tab-content {
        margin-top: 0;
        height: 194px;
        overflow-y: auto;
    }

    .card-blocks .tab-content {
        margin-top: 0;
        min-height: 250px;
    }

    .card-blocks .tab-content .tab-pane:last-child {
        min-height: 315px;
    }

    .alternate-div-bag>div:nth-of-type(odd) {
        background: #e0e0e047;
    }

    .pl5 {
        padding-left: 5px;
    }

    .pr5 {
        padding-right: 5px;
    }

    .hover-show-icon {
        visibility: hidden;
    }

    .hover-icon-cls:hover .hover-show-icon {
        visibility: visible;
        position: relative;
        /* left: 57px; */
    }

    .review-content {
        margin-bottom: 4px !important;
        padding-bottom: 5px !important;
    }

    .contract-details-status {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .connected-projects-list {
        padding: 8px 20px 8px 30px !important;
        margin: 0;
    }

    .connected-projects-list li {
        display: flex;
        justify-content: space-between;
    }

    .connected-projects-list li span.project-connected {
        width: 70%;
        min-width: 70%;
    }

    .contract-idblock {
        width: 0.2% !important;
    }

    .ellipse-text {
        display: block;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        width: 100%;
    }

    .contract-detalis-view {
        display: flex;
        align-items: baseline;
        justify-content: space-between;
    }

    .contract-detalis-view .contract-idblock {
        width: 12%;
        min-width: 12%;
    }

    .contract-detalis-view .contract-owner,
    .contract-detalis-view .contract-delegate {
        min-width: 20%;
        width: 20%;
    }

    .contract-detalis-view .contract-status {
        min-width: 16%;
        width: 16%;
    }

    .contract-detalis-view .contract-lastcompleted {
        min-width: 16%;
        width: 16%;
    }

    .contract-detalis-view .contract-score {
        min-width: 16%;
        width: 16%;
    }

    .contract-detalis-view .contract-idblock {
        width: 10%;
        min-width: 10%;
    }

    .contract-detalis-view .contract-owner {
        min-width: 21%;
        width: 21%;
    }

    .contract-detalis-view .contract-delegate {
        min-width: 20%;
        width: 20%;
    }

    .contract-detalis-view .contract-status {
        min-width: 17%;
        width: 17%;
    }

    .connected-project-block {
        padding: 0px !important;
    }

    .calendar-popup .modal-dialog {
        max-width: 600px !important;
    }


    .custom-row {
        display: flex;
        flex-wrap: wrap;
    }

    .fixed-width {
        padding-right: 5px;
    }

    .catalogue-item-spend {
        width: 24%;
    }

    .unit-price {
        width: 10%;
    }

    .unit-type {
        width: 11%;
    }

    .quantity {
        width: 8%;
    }

    .payment-periodicity {
        width: 13%;
    }

    .business-units {
        width: 26%;
    }

    .catalogue-actions {
        width: 9%;
    }

    .provider-tooltip {
        padding: 0 5px 5px !important;
    }

    .service-catalogue-card-block {
        padding: 0 0.85rem;
    }

    .comments-tooltip .tooltip {
        max-width: 400px !important;
    }

    .comments-tooltip .tooltip .tooltip-inner {
        min-width: 400px;
        white-space: inherit;
        font-size: 12px !important;
    }

    .business-units.service-catalogues {
        position: relative;
    }

    .business-units.service-catalogues .ellipsis-block {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 180px;
        display: inline-block;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
    }

    .status-widget .score_color {
        height: 15px !important;
    }

    .currency-code input {
        height: 36px;
        text-align: center;
        width: 74px;
    }

    .ui-tabs-scrollable>.nav-button.left-nav-button:before {
        content: "\f053";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.nav-button.right-nav-button:before {
        content: "\f054";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.dropdown>.dropdown-toggle:before {
        content: "\f078";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable .dropdown-toggle::after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs>li>a {
        height: 36px;
    }

    .dropdown-menu li.active a,
    .ui-tabs-scrollable>.nav-button {
        color: #000;
    }

    .ui-tabs-scrollable>.nav-button {
        height: 36px;
        line-height: 36px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link {
        background: #fff;
        color: #464646;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item.current .nav-link {
        background: #ffffff;
        color: #000;
    }

    .custom-scroll-tabs-contract .nav-tabs .current.nav-item .nav-link {
        border-bottom: 0px solid #cccccc;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link {
        border-bottom: 1px solid #cccccc;
        min-width: auto;
        position: relative;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link:after {
        content: '';
        position: absolute;
        width: 4px;
        height: 1px;
        background: #ccc;
        bottom: -1px;
        right: -5px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item:last-child .nav-link:after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs {
        border-bottom: 0px solid #cccccc;
        /* z-index: 999999; */
        position: relative;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content {
        margin-top: -2px;
        border-top: 1px solid #ddd;
    }

    .custom-scroll-tabs-contract>ul {
        width: calc(100% - 4px);
    }

    .ui-tabs-scrollable.show-drop-down>.nav-button.right-nav-button {
        /* right: 30px; */
        right: 0px;
        border-left: 2px solid #d0d0d0;
    }

    .ui-tabs-scrollable .nav.nav-tabs {
        width: calc(100% + 25px);
    }

    .ui-tabs-scrollable>.dropdown {
        /* right: 35px; */
        display: none;
    }

    .close-topic {
        margin-top: -35px;
        position: absolute;
        right: 0;
        z-index: 9999;
        top: 40px;
    }

    .ui-tabs-scrollable>.nav-button.left-nav-button {
        border-right: 2px solid #ccc !important;
        border: 1px solid #ccc;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content>.active {
        /* height: 100%; */
        overflow: visible
    }

    .obligation-form-btns {
        padding: 20px 15px 16px;
        text-align: right;
    }

    .obligations-notification {
        width: 6%;
    }

    .obligations-applicable {
        width: 15%;
    }

    .obligations-description {
        width: 18%;
    }

    .obligations-type-name {
        width: 12%;
    }

    .obligations-recurrence {
        width: 13%;
    }

    .obligations-start-date {
        width: 13%;
    }

    .obligations-end-date {
        width: 13%;
    }

    .obligations-actions {
        width: 11%;
    }

    .tooltip.customClass .tooltip-inner {
        /* width: auto;
    height:auto; */
        white-space: break-spaces;
        max-width: 750px;
        z-index: 9999;
        background-color: #5bb166 !important;
        color: #fff;
        font-size: 14px !important;
    }

    .tooltip.customClass .tooltip-inner .text-tooltip {
        text-align: left !important;
        white-space: break-spaces;
        color: #fff !important;
    }

    .d-flex {
        display: flex;
    }

    .align-items-center {
        align-items: center;
    }

    .refresh-icon {
        width: 18px;
        height: 18px;
        min-width: 18px;
    }

    .status-invoice {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 0 0 0 auto;
        padding-bottom: 5px;
        width: 71%;
    }

    .action-items-module-name {
        width: 20%;
    }

    .action-item-name {
        width: 18%;
    }

    .action-items-user-name {
        width: 18%;
    }

    .action-items-due-date {
        width: 12%;
    }

    .action-items-priority {
        width: 12%;
    }

    .action-items-status {
        width: 12%;
    }

    .value_management {
        width: 33%;
    }

    .value_mangt_stas {
        width: 20%;
    }


    .my-cont-list {
        display: flex;
        justify-content: space-between;
        width: 100%;
    }

    .my-cont-list .search-contract {
        font-size: 18px !important;
    }

    .my-cont-list .icon {
        font-size: 19px;
        padding: 0px 2px;
    }

    .tab-content .action-head {
        justify-content: flex-end;
    }

    .tab-content .action-head .dropdown .showDivMenu {
        position: absolute;
        top: 29px;
        right: 0;
        border-radius: 4px;
        width: 120px;
        padding: 4px 0;
        z-index: 9;
    }

    .tab-content .action-head .dropdown .showDivMenu span {
        display: block;
        padding: 2px 8px;
    }

    .tab-content .action-head .dropdown .showDivMenu span:hover {
        background-color: #2d80c2 !important;
    }

    .tab-content .action-head .input-group {
        width: max-content;
        margin-left: 5px;
    }

    .tab-content .action-head .dropdown button {
        height: 100%;
    }

    .tab-content .action-head .dropdown button:focus {
        outline: none;
    }

    .circle-s {
        top: 11px;
        padding-bottom: 3px;
    }

    .attachment-fileHead {
        width: 300px;
    }

    .initiative-block {
        position: replative;
    }

    .contract-card-group .contract-card-group-list .emptyTask {
        height: 30px;
        min-height: 30px;
    }

    .icons-widget .contract-card-group .contract-card-group-list .emptyTask {
        padding: 5px 0;
    }

    .classification {
        padding-left: 10px !important;
    }

    .classification .chosen-container.chosen-container-multi {
        width: 375px !important;
    }

    .link-new {
        transform: rotate(90deg);
        background: #52b94d;
        border-radius: 50%;
        color: #fff;
        padding: 4px;
        margin-left: 0px;
        position: relative;
        left: 0px;
        font-size: 9px;
    }

    .relation-active td {
        background-color: #a9d18e !important;
    }
    .inputs-accordion .panel-title {
        position: relative;
    }
    .inputs-accordion .panel-title::after {
        content: "";
        position: absolute;
        top: 64%;
        right: 0;
        width: 96%;
        border-bottom: 1px solid #303030;
    }
    .inputs-accordion .panel-body {
        border-top: 0;
    }
    .inputs-accordion .chosen-container-multi .chosen-choices li.search-field input[type=text] {
        width: unset !important;
    }
    .contractcard{
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        width: 100%;
        line-height: 1.3;
        padding: 5px 8px 0 !important
    }
    @media(min-width: 1600px) {
        .catalogue-actions {
            width: 8%;
        }

        .obligations-actions {
            width: 8%;
        }

        .status-invoice {
            width: 68%;
        }

    }

    @media(max-width: 1280px) {
        .catalogue-actions {
            min-width: 10% !important;
        }

        .business-units {
            width: 22%;
        }

        .obligations-actions {
            min-width: 10% !important;
        }

        .obligations-recurrence {
            width: 11%;
        }
    }

    @media(max-width:1199px) {
        .nav-tabs .nav-item .nav-link {
            min-width: 140px;
        }
    }

    @media(max-width:1080px) {
        .nav-tabs .nav-item .nav-link {
            min-width: 110px;
        }

        .modal-dialog .nav-tabs .nav-item .nav-link {
            min-width: 135px !important;
        }
    }
</style>