<div class="animated fadeIn">
    <div class="card-group col-lg-12 p0 contract-details">
        <div class="row">
            <div class="col-lg-8 pl0 large-widget">
                <div class="card col-lg-12 p0">
                    <h5>{{projectInfo.contract_name}}</h5>
                    <div class="card-block border-left-none">
                        <div class="h4 m-b-0">{{'contract.Id' | translate}}</div>
                    <span class="widget-span">{{projectInfo.contract_unique_id |translate}}</span>
                    </div>
                    <div class="card-block">
                        <div class="h4 m-b-0">{{'contract.responsible' | translate}}</div>
                        <span class="text-wdgt" style="white-space: nowrap;">{{projectInfo.bu_owner|translate}}</span>
                    </div>
                    <div class="card-block">
                        <div class="h4 m-b-0">{{'contract.delegates' | translate}}</div>
                        <span class="widget-span" style="white-space: nowrap;">{{projectInfo.bu_delegate |checkEmpty}}</span>
                    </div>
                    <div class="card-block">
                        <div class="h4 m-b-0">{{'project.budgeted_value' | translate}}</div>
                        <span class="widget-span" style="white-space: nowrap;">{{projectInfo.contract_value | currency : projectInfo.currency_name+' ':0 |checkEmpty}}</span>
                       
                    </div>
                   
                    <div class="card-block">
                        <div class="h4 m-b-0">{{'customer.status' | translate}}</div>
                        <span class="text-wdgt green" ng-if="projectInfo.status==1">{{'general.active'|translate}}</span>
                        <span class="text-wdgt red" ng-if="projectInfo.status==0">{{'general.closed'|translate}}</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 icons-widget pr0">
                <div class="card-group contract-card-group">
                    <div class="card contract-main-card" ng-if="validation_status!=2 || (validation_status ==2 && projectInfo.validation_contributor) || (projectInfo.contract_user_access=='ca')">
                        <div class="card-block" ng-click="goToProjectLogs()">
                            <div class="h2 text-xs-center">
                                <i class="icon-template-manage"></i>
                            </div>
                            <small class="text-center font-weight-bold">{{'contract.log' | translate}}</small>
                        </div>
                    </div>
                    <!-- For workflow icon disable open-->
                    <div class="card contract-main-card" ng-class="{'hand-symbol':validation_status==2}"  ng-if="(validation_status==2 && !projectInfo.validation_contributor) && projectInfo.contract_user_access!='ca'">
                        <div class="card-block">
                             <div class="h2 text-xs-center finalize">
                                  <i class="icon-template-manage finalize-disable"></i>
                             </div>
                             <small class="text-center font-weight-bold finalize-disable">{{'contract.log' | translate}}</small>
                       </div>
                   </div>

                   <div class="contract-card-group-list">
                    <div class="text-center">
                        <h5 class="contract-card-group-list-heading">
                            <label ng-if="reviewWorkflowInfo[0].is_workflow==1 && reviewWorkflowInfo[0].is_subtask==0" style="color: #5bb166;">{{'calender.workflow' | translate}}</label>
                            <label  style="color: #5bb166;" ng-if="reviewWorkflowInfo[0].is_workflow==1 && reviewWorkflowInfo[0].is_subtask!=0"> {{'calender.sub_task' | translate}} </label>
                            <span title="{{reviewWorkflowInfo[0].activity_name}}" ng-if="reviewWorkflowInfo[0]!=null">&nbsp;-&nbsp;{{reviewWorkflowInfo[0].activity_name | checkEmpty}}</span>
                        </h5>
                    </div>
                    <div style="display:flex;" class="contract-group-icons">
                        <div class="card dashboard-block" ng-if="projectInfo.initiated==true">
                            <div class="card-block" ng-click="goToContractReview(projectInfo)">
                                <div class="h2 text-xs-center finalize">
                                    <i class="icon-action-items"></i>
                                </div>
                                <small class="text-center font-weight-bold" ng-if="!projectInfo.validation_contributor">{{'workflows.execute' | translate}}</small>
                                <small class="text-center font-weight-bold" ng-if="projectInfo.validation_contributor">{{'contract.validate' | translate}}</small>
                            </div>
                        </div>

                        <div class="card dashboard-block" ng-if="(validation_status!=2 || projectInfo.contract_user_access=='ca' || projectInfo.validation_contributor) && projectInfo.initiated==true">
                            <div class="card-block" ng-click="goToDashboard(projectInfo)">
                                <div class="h2 text-xs-center">
                                <i class="icon-dashboard5"></i>
                                </div>
                                <small class="text-center font-weight-bold">{{'contract.dashboard' | translate}}</small>
                        </div>
                        </div>
                   
                        <!-- For dashboard icon disable condition open-->
                        <div class="card dashboard-block"  ng-class="{'hand-symbol':validation_status==2}" ng-if="(validation_status==2 && !projectInfo.validation_contributor) && projectInfo.contract_user_access!='ca'">
                            <div class="card-block">
                                    <div class="h2 text-xs-center finalize">
                                        <i class="icon-dashboard5 finalize"></i>
                                    </div>
                                    <small class="text-center font-weight-bold finalize">{{'contract.dashboard' | translate}}</small>
                                </div>
                        </div>
                        <!-- For dashboard icon disable condition close-->
                   
                        <!-- <div class="card" ng-if="projectInfo.contract_user_access !='co' && validation_status!=2 &&  user.access!='ro' ||
                                (projectInfo.contract_user_access=='ca')">
                                <div class="card-block" ng-click="goToCreateContract(projectInfo)">
                                    <div class="h2 text-xs-center">
                                        <i class="tss-file-create"></i>
                                    </div>
                                    <small class="text-center font-weight-bold">{{'contract.create_contract' | translate}}</small>
                            </div>
                        </div> -->


                        <!-- <div class="card"  ng-class="{'hand-symbol':validation_status==2}"
                                ng-if="projectInfo.contract_user_access !='co' &&  (user.access!='ro') &&  (validation_status==2 && !projectInfo.validation_contributor)
                                && projectInfo.contract_user_access!='ca'">
                            <div class="card-block">
                                <div class="h2 text-xs-center finalize">
                                    <i class="icon-dashboard5 finalize"></i>
                                </div>
                                <small class="text-center font-weight-bold finalize">{{'contract.create_contract' | translate}}</small>
                            </div>
                        </div> -->
                         <div class="card active emptyTask" ng-if="projectInfo.project_task_count==0 && (projectInfo.contract_user_access == 'ca' || projectInfo.contract_user_access == 'bo' || projectInfo.contract_user_access == 'bd' || projectInfo.contract_user_access=='bm')">
                        </div>  
                        <div class="card active" ng-if="projectInfo.initiated ==false && projectInfo.review_scheduled ==1 && projectInfo.project_task_count>0 && (projectInfo.contract_user_access == 'ca' || projectInfo.contract_user_access == 'bo' || projectInfo.contract_user_access == 'bd' || projectInfo.contract_user_access=='bm')">
                            <div class="card-block" ng-click="initializeReview(false)">
                                <div class="h2 text-xs-center">
                                    <i class="icon-touchpoints"></i>
                                </div>
                                <small class="text-center font-weight-bold">{{'contract.initiate' | translate}}</small>
                            </div>
                        </div>
                   
                        <div class="card" ng-if="projectInfo.initiated ==false && projectInfo.review_scheduled == 0 && projectInfo.project_task_count >0  && (projectInfo.contract_user_access == 'ca' || projectInfo.contract_user_access == 'bo' || projectInfo.contract_user_access == 'bd' ||projectInfo.contract_user_access=='bm')">
                            <div class="card-block" ng-click="initializeReview(true)">
                                <div class="h2 text-xs-center">
                                    <i class="icon-touchpoints"></i>
                                </div>
                                <small class="text-center font-weight-bold">{{'contract.adhoc_workflow' | translate}}</small>
                            </div>
                        </div>    
                    </div>
                    </div>
                    </div>
                    </div>
                </div>
                </div>
    <div class="col-lg-12 p0">
        <div class="row">
            <div class="col-sm-8 col-lg-8 pl0 info-tabs-div custom-scroll-tabs-contract" ng-init="reCalcScroll()">
                <scrollable-tabset api="scrlTabsApi" tooltip-left-placement="top"
                drop-down-header-template-url="menuHeaderTemplate" drop-down-header-class="menuHeader">
                <!-- tabs 1 start -->
                <uib-tabset active="active">
                    <uib-tab index="0" heading="{{'contract.project_info' | translate}}">
                        <div class="card">                            
                            <div class="card-block card-space">                        
                                <div class="clearfix">
                                    <a href="javascript:;" class="edit-card" style="margin-top: 5px;margin-right: 10px;"
                                    ng-if="(projectInfo.contract_user_access=='ca' || projectInfo.contract_user_access=='bo' || projectInfo.contract_user_access=='bd' || projectInfo.contract_user_access=='bm')"
                                        ng-click="updateProjectDetails(data,1)"><i class="fa fa-pencil"></i>
                                    </a>
                                    <div class="col-md-12 p0" style="margin-top: 10px;">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'project.project_owner' | translate}}</span>
                                                <p>{{projectInfo.bu_owner | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'project.project_start_date' | translate}}</span>
                                                <p>{{projectInfo.contract_start_date | utcToLocal:'date'| checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'project.project_delegate' | translate}}</span>
                                                <p class="text-wdgt">{{projectInfo.bu_delegate | checkEmpty }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'project.project_end_date' | translate}}</span>
                                                <p class="text-wdgt ">{{projectInfo.contract_end_date | utcToLocal:'date'| checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'project.project_name' | translate}}</span>
                                                <p>{{projectInfo.contract_name | checkEmpty}}</p>
                                            </div>
                                        </div>
                                       
                                    </div>                                    
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <span class="label-control">{{'project.project_description' | translate}}</span>
                                            <p class="text-wdgt">
                                                <span style="white-space: pre-wrap;">{{projectInfo.description | checkEmpty}}</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="1" heading="{{'providers.providers' | translate}} ({{providerListCount>0?providerListCount:0}}) ">     <!--line has been chnaged from subContractCount to providerListcount-->
                        <div class="card">
                            <div class="card-block card-space">      
                                    <table class="table table-custom table-striped table-hover" st-pipe="ProvidersLists" st-table="providerList">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-12 clearfix p0">
                                                        <div class="col-sm-4 p0">
                                                           
                                                        </div>
                                                       
                                                        <div class="col-sm-8 clearfix p0">
                                                            <div class="action-head mb0 clearfix">
                                                                <div class="pull-right" style="padding-left: 5px !important;"
                                                                   ng-if ="(projectInfo.contract_user_access=='ca' || projectInfo.contract_user_access=='bo' || projectInfo.contract_user_access=='bd' || projectInfo.contract_user_access=='bm') && user.access !='ro'">
                                                                    <a href="javascript:;" style="padding: 0px;" ng-click="$event.stopPropagation();addConnectedProviders()">
                                                                        <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                                            <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}
                                                                           
                                                                        </button>
                                                                    </a>
                                                                </div>
                                                                <div class="col-sm-7 p0 table-search pull-right">
                                                                    <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                        st-search="search_key" st-input-event="change">
                                                                    <i class="fa icon-search"></i>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="provider-project" st-sort="provider_name">{{'providers.provider' | translate}}</th>
                                                <th class="category-project" st-sort="category_name">{{'category-relation.category' | translate}}</th>
                                                <th class="profile-project">{{'project.risk_profile' | translate}}</th>
                                                <th class="apprstatus-project">{{'project.approval_status' | translate}}</th>
                                                <th class="status-project" st-sort="status">{{'customer.status' | translate}}</th>
                                                <th class="action-project">{{'general.actions'|translate}}</th>
                                            </tr>
                                        </thead>
                                        <!-- <tbody ng-show="!isSubLoading"> -->
                                        <tbody ng-if="providerList.length>0">
                                            <tr ng-repeat="row in providerList">
                                                <td class="provider-project skyblue pointer custom-ellipsis" ng-click="goToProviderDetails(row)">
                                                    <span class="ellipsis-block">{{row.provider_name}}</span>
                                                </td>
                                                <td class="category-project custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.category_name |  checkEmpty}}</span>
                                                </td>
                                                <td class="profile-project" ng-if="row.risk_profile == 'A'" style="max-width:100px;min-width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class="amber-active"></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td class="profile-project" ng-if="row.risk_profile == 'R'" style="max-width:100px;min-width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class="red-active"></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td class="profile-project" ng-if="row.risk_profile == 'G'" style="max-width:100px;min-width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class="green-active"></span>
                                                    </div>
                                                </td>
                                                <td  class="profile-project" ng-if="!row.risk_profile" style="max-width:100px;min-width: 100px;width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td class="profile-project" ng-if="row.risk_profile == 'N/A'">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td ng-if="row.approval_status == 'A'" style="max-width:100px;min-width: 100px;width: 100px;" class="apprstatus-project">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class="amber-active"></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td ng-if="row.approval_status == 'R'" style="max-width:100px;min-width: 100px;width: 100px;"class="apprstatus-project">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class="red-active"></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td ng-if="row.approval_status == 'G'" style="max-width:100px;min-width: 100px;width: 100px;"class="apprstatus-project">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class="green-active"></span>
                                                    </div>
                                                </td>
                                                <td ng-if="!row.approval_status" style="max-width:100px;min-width: 100px;width: 100px;"class="apprstatus-project">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td ng-if="row.approval_status == 'N/A'"class="apprstatus-project">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <!-- <td>{{row.status}}</td> -->
                                                <td style="width:100px;max-width:100px;min-width: 100px;font-size: 13px"class="status-project">
                                                    <span ng-if="row.status == 1" class="green">{{'general.active' | translate}}</span>
                                                    <span ng-if="row.status == 0" class="red">{{'general.inactive' | translate}}</span>
                                                </td>
                                                <td style="width:10%;"class="action-project">
                                                    <span  ng-if="user.access !='ro'" class="pointer gray" ng-click="deleteProviderFromProject(row)">
                                                        <i class="fa fa-trash" style="font-size:15px;"></i></span>
                                                </td>
                                               
                                               
                                            </tr>
                                        </tbody>
                                       
                                            <tbody ng-if="providerList.length==0 && !isLoading">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="7">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecords1>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages2(displayCount)"
                                                                 ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                <!-- </div> -->
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="2" heading="{{'contract.relation_users' | translate}} ({{usersListCount>0?usersListCount:0}}) ">     <!--line has been chnaged from subContractCount to providerListcount-->
                        <div class="card">
                            <div class="card-block card-space">      
                                <table class="table table-custom table-striped table-hover" st-pipe="getProviderusers" st-table="usersList">
                                    <thead>
                                        <tr>
                                            <td colspan="12">
                                                <div class="col-sm-12 clearfix p0">
                                                    <div class="action-head mb0">
                                                            <div class="onlyactive1">
                                                                    <span class="mrg-space">{{'general.active_only' | translate}}</span>
                                                                    <div class="onoffswitch">
                                                                        <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox"
                                                                            ng-true-value="1" ng-false-value="0"
                                                                            ng-model="req.status"
                                                                            ng-checked="req.status == 1"
                                                                            ng-change="getExtUsersByStatus(req.status)"
                                                                            id="status">
                                                                        <label class="onoffswitch-label assessment-switch mb-0"
                                                                                for="status">
                                                                            <span class="onoffswitch-inner"></span>
                                                                            <span class="onoffswitch-switch"></span>
                                                                        </label>
                                                                    </div>
                                                                  </div>
                                                        <span class="pull-right ml-h" ng-show="projectInfo.contract_user_access !='co' && user.access !='ro'">
                                                            <button class="btn btn-sm btn-primary btn-radius" ng-click="addProviderUsers()" type="button">
                                                                <i class="icon-plus"></i>&nbsp; {{'general.ADD' | translate}}
                                                            </button>
                                                        </span>
                                                        <div class="col-sm-3 p0 table-search pull-right">
                                                            <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                                            <i class="fa icon-search"></i>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="name-relProject" st-sort="name">{{'customer.admin.name' | translate}}</th>
                                            <th class="company-relProject" st-sort="provider_name">{{'contract.company' | translate}}</th>
                                            <th class="email-relProject" st-sort="email">{{'user.profile.email' | translate}}</th>
                                            <th class="contribution-relProject" st-sort="contribution">{{'contract.contribution' | translate}}</th>
                                            <th class="status-relProject" st-sort="user_status">{{'general.status' | translate}}</th>
                                            <th class="action-relProject">{{'general.actions' | translate}}</th>
                                        </tr>
                                    </thead>
                                    <tbody ng-show="!isLoading">
                                        <tr ng-repeat="row in usersList">
                                           
                                            <td class="name-relProject custom-ellipsis">
                                                <span class="ellipsis-block">{{row.name}}</span>
                                            </td>
                                            <td class="company-relProject custom-ellipsis">
                                                <span class="ellipsis-block">{{row.provider_name | checkEmpty}}</span>
                                            </td>
                                           
                                            <td class="email-relProject custom-ellipsis">
                                                <span class="ellipsis-block">{{row.email}}</span>
                                                </td>
                                            <td class="contribution-relProject custom-ellipsis">
                                                <span class="ellipsis-block">{{row.contribution | checkEmpty}}</span>
                                            </td>
                                            <td class="status-relProject">
                                                <span ng-if="row.user_status == 1" class="green">{{'general.active' | translate}}</span>
                                                <span ng-if="row.user_status == 0" class="red">{{'general.inactive' | translate}}</span>
                                            </td>
                                            <td class="action-relProject" style="width:10%;">
                                                <a href="javascript:;" ng-show="projectInfo.contract_user_access !='co' && user.access !='ro'" class="icon-edit mr-1 gray"
                                                    ng-click="showForm(row)" title="Edit"></a>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tbody ng-show="isLoading">
                                        <tr>
                                            <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                                        </tr>
                                    </tbody>
                                    <tbody ng-show="emptyTable">
                                        <tr>
                                            <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}} </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td class="text-center" colspan="8">
                                                <div class="paginator">
                                                    <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                    <span class="paginator-dropdown" ng-if="usersListCount>10">
                                                        <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                        <select ng-model="displayCount" ng-change="defaultPages(displayCount)"
                                                            ng-options="item for item in pagesNumber" selected>
                                                        </select>
                                                    </span>
                                                </div>
                                            </td>
                                        </tr>
                                    </tfoot>
                                </table>
                               
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="3" heading="{{'user.breadcrumb.action_items' | translate}} ({{reviewListCount>0?reviewListCount:0}})">
                        <div class="card">
                            <div class="card-block card-space">                                
                                <div>
                                    <table class="table table-custom table-striped table-hover contract-details-table" st-pipe="reviewAction"
                                        st-table="contractsList">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-4 p0">
                                                     
                                                    </div>
                                                    <div class="col-sm-8 clearfix p0">
                                                        <div class="action-head mb0 clearfix">
                                                            <div class="pull-right" style="padding-left: 5px !important;"
                                                               ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                                                <a class="" ng-click="createContractReview('','add')">
                                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                                        <i class="icon-plus-circle"></i>&nbsp; {{'general.ADD' | translate}}
                                                                    </button>
                                                                </a>
                                                            </div>
                                                            <div class="col-sm-7 p0 table-search pull-right">
                                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                    st-search="search_key" st-input-event="change">
                                                                <i class="fa icon-search"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="module-action" st-sort="module_name">{{'module.module' | translate}}</th>
                                                <th class="item-action" st-sort="action_item">{{'contract.action_item' | translate}}</th>
                                                <th class="response-action" st-sort="user_name">{{'contract.responsible' | translate}}</th>
                                                <th class="duedate-action" st-sort="due_date">{{'contract.due_date' | translate}}</th>
                                                <th class="priority-action" st-sort="priority">{{'contract.priority' | translate}}</th>
                                                <th class="statu-action" st-sort="status">{{'general.status' | translate}}</th>
                                                <th class="action-actions">{{'general.actions' |translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!isLoading">
                                            <tr ng-repeat="row in reviewList">
                                                <td class="module-action custom-ellipsis">
                                                    <span class="ellipsis-block" title="{{row.module_name}}">{{row.module_name | checkEmpty}}</span>
                                                </td>
                                               
                                                <td class="item-action custom-ellipsis">
                                                    <a ng-if="row.vaav=='itako'" class="ellipsis-block" href="javascript:;"
                                                        ng-click="updateContractReview(row,'view')" title="{{row.action_item}}">{{row.action_item}}</a>
                                                    <span ng-if="row.vaav!='itako'" class="ellipsis-block" title="{{row.action_item}}">{{row.action_item}}</span>
                                                </td>
                                                <td class="response-action custom-ellipsis">
                                                    <span class="ellipsis-block orange" title="{{row.user_name}}">{{row.user_name}}</span>
                                                </td>
                                                <td class="duedate-action custom-ellipsis">
                                                    <span class="ellipsis-block" ng-class="(row.overdue=='1') ?'overdue-date': ''">{{row.due_date | utcToLocal:'date' | checkEmpty}}</span>
                                                </td>
                                                <td class="priority-action custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.priority | checkEmpty}}</span>
                                                </td>
                                                <td class="statu-action">
                                                    <span class="green" ng-if="row.status == 'Completed'">{{row.status}}</span>
                                                    <span class="" ng-if="row.status == 'Open'">{{row.status}}</span>
                                                    <span class="red" ng-if="row.status == 'Due'">{{'contract.due' | translate}}</span>
                                                </td>
                                                <!-- <td>
                                                    <a href="#" ng-if="row.daad == 'itako' && user1.iroori != 'itako'" ng-click="deleteContractActionItem(row)"
                                                        title="{{'general.delete' | translate}}">
                                                        <i class="icon-trash" style="font-size: 15px;"></i>
                                                    </a>
                                                   
                                                </td> -->
                                                <td class="action-actions" style="width:10%;">
                                                    <span ng-if="row.daad == 'itako' && user1.iroori != 'itako'"
                                                           class="pointer gray" ng-click="deleteContractActionItem(row)">
                                                        <i class="fa fa-trash" style="font-size:15px;"></i></span>

                                                        <span ng-if="user1.iroori == 'itako' || row.daad != 'itako'">---</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="isLoading">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="emptyTable2">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="8">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecords1>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages1(displayCount)"
                                                                ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>                                
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="4" heading="{{'controller.project_Event_Feed' | translate}} ({{totalRecordsEvent}})">
                        <div class="card">
                            <div class="card-block card-space">                      
                                <div class="" st-pipe="getEventFeed" st-table="eventList">
                                    <table class="table table-custom table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-4 p0">
                                                    </div>
                                                    <div class="col-sm-8 clearfix p0">
                                                        <div class="action-head mb0 clearfix">
                                                            <div class="pull-right" style="padding-left:5px !important;"
                                                            ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                                                <a class="" ng-click="createEventFeed()">
                                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                                        <i class="icon-plus-circle"></i> &nbsp;{{'general.ADD'|translate}}
                                                                    </button>
                                                                </a>
                                                            </div>
                                                            <div class="col-sm-7 p0 table-search pull-right">
                                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                    st-search="search_key" st-input-event="change">
                                                                <i class="fa icon-search"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th st-sort="subject" class="event-subject">{{'notification.subject' | translate}}</th>
                                                <th st-sort="type" class="event-type">{{'general.type' | translate}}</th>
                                                <th st-sort="responsible_user_name" class="hand-symbol event-responsible">{{'contract.responsible_user_id' | translate}}</th>
                                                <th st-sort="stakeholders" class="hand-symbol event-stakholders">{{'providers.stake_holders' | translate}}</th>
                                                <th st-sort="date" class="pointer event-date" st-sort="Projected_value">{{'questions.date' | translate}}</th>
                                                <th class="event-actions" style="text-align: right;padding-right: 20px;">{{'tags.actions' | translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!eventLoading">
                                            <tr ng-repeat="row in eventList">
                                                <td class="event-subject custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.subject}}">{{row.subject | checkEmpty}}</span>
                                                </td>    
                                                <td class="event-type custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.type}}">{{row.type| checkEmpty}}</span>
                                                </td>    
                                                <td class="event-responsible custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.responsible_user_name}}">{{row.responsible_user_name | checkEmpty}}</span>
                                                </td>    
                                                <td class="event-stakholders custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.stakeholders}}">{{row.stakeholders | checkEmpty}}</span>
                                                </td>                                            
                                                <td class="event-date custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.date| utcToLocal:'date' | checkEmpty}}">{{row.date| utcToLocal:'date' | checkEmpty}}</span>
                                                </td>                                            
                                                <td class="event-actions pointer" style="text-align: right;padding:0.7rem 0.4rem;;">
                                                            <i  ng-if="row.attachment.all_records!=''" class="icon-attachment f13 skyblue" style="position: relative;padding: 0 5px;top: 4px;" title="Add Attachments" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" ng-click="eventAttachment(row)">
                                                                <span class="count" style="top: -15px;right: 2px;" ng-if="row.attachment.all_records.length>0">{{row.attachment.all_records.length}}</span>
                                                            </i>
                                                    <span ng-if="row.description!=null" style="padding-right: 5px; vertical-align: middle;width:20px; display:inline-block;" tooltip-class="customClass" tooltip-placement="top" tooltip-append-to-body="true" uib-tooltip="{{row.description}}">
                                                        <img style="width:16px; margin-bottom: 4px;" src="img/Comments.svg" alt="">
                                                    </span>
                                                    <span style="padding-right: 5px;width:15px; display:inline-block;" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" title="{{'general.edit' | translate}}" ng-click="createEventFeed(row)">
                                                        <i class="fa fa-pencil pointer"></i>
                                                    </span>
                                                    <span style="display:inline-block;" title="{{'general.delete' | translate}}" ng-click="deleteEventFeed(row)" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                                            <i class="fa fa-trash pointer" style="font-size: 15px;"></i>
                                                    </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="eventLoading">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="eventEmptyTable">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="8">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecordsEvent>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages(displayCount)"
                                                                ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                </uib-tabset>
            </scrollable-tabset>

                <!-- tabs 1 end -->
            </div>
            <div class="col-sm-4 col-lg-4 pr0">
                <!-- Accordion starts-->
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                     <div uib-accordion-group class="panel-default" heading="Stakeholders" template-url="group-template0.html"
                        ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                             <span class="f12" tooltip-placement="left" ng-if="reviewWorkflowInfo[0].is_workflow==0"
                                    uib-tooltip-html="htmlTooltip" tooltip-class="customClass" style="min-width: 11.3px;">
                                <i class="fa fa-info-circle f12 gray" ng-if="reviewWorkflowInfo[0].recurrenc && reviewWorkflowInfo[0].recurrence_till"></i>
                            </span>

                            <span class="f12" tooltip-placement="left" ng-if="reviewWorkflowInfo[0].is_workflow==1"
                                uib-tooltip=" Execute By :- {{reviewWorkflowInfo[0].recurrence_till | date}}"
                                tooltip-class="customClass" style="min-width: 11.3px;">
                                <i class="fa fa-info-circle f12 gray" ng-if="reviewWorkflowInfo[0].recurrence_till"></i>
                            </span>
                       
                           
                            <span ng-if="reviewWorkflowInfo[0].is_workflow==1 && reviewWorkflowInfo[0].is_subtask==0" class="green" style="padding-left: 7px;display: flex;align-items: center;">  <span class="hand-symbol"></span>
                            <span> {{'calender.workflow' | translate}}</span>  
                           </span>
                           
                           <span ng-if="reviewWorkflowInfo[0].is_workflow==1 && reviewWorkflowInfo[0].is_subtask!=0" class="green hand-symbol" style="padding-left: 7px;display: flex;align-items: center;">
                           <span> {{'calender.sub_task' | translate}}</span>  </span>

                         

                         
                        <span class="hand-symbol" style="font-weight: normal;width: 100%;
                                     white-space: nowrap;  text-overflow: ellipsis;overflow: hidden; padding:2px 5px 2px 0px;
                                    display: inline-block;" title="{{reviewWorkflowInfo[0].activity_name}}">&nbsp;-&nbsp;{{reviewWorkflowInfo[0].activity_name | checkEmpty}}</span>    
                           
                            <div class="score-with-status mr-5">
                            <span class="f12">{{reviewWorkflowInfo[0].contract_progress == null ? "0%":reviewWorkflowInfo[0].contract_progress}}</span>
                            <div class="status-widget font-weight-bold" style="line-height: 6px; min-width: inherit; text-align: left; padding: 0 !important;">
                                <span ng-if="reviewWorkflowInfo[0].score == 'Amber'" class="amber-active"></span>
                                <span ng-if="reviewWorkflowInfo[0].score == 'Red'" class="red-active"></span>
                                <span ng-if="reviewWorkflowInfo[0].score == 'Green'" class="green-active"></span>
                                <span ng-if="!reviewWorkflowInfo[0].score" class=""></span>
                                <span ng-if="reviewWorkflowInfo.score[0] == 'N/A'" class="">{{reviewWorkflowInfo.score}}</span>
                            </div>
                        </div>
                            <span style="width:20px;min-width: 20px;" ng-if="reviewWorkflowInfo[0].validation_info==''" class="mr-5"></span>
                            <span ng-if="reviewWorkflowInfo[0].validation_info==4" class="exclamatory-circle mr-5" style="margin-top: 4px;"> <i class="fa fa-exclamation-circle" uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placemnet="left" style="font-size: 20px;"></i></span>
                            <span ng-if="reviewWorkflowInfo[0].validation_info==2" class="refresh-icon mr-5" style="margin-top: 3px;"><i class="fa fa-refresh" style="font-size: 12px;" uib-tooltip="{{'normal.validation_ongoing' | translate}}" tooltip-placemnet="left"></i></span>
                            <span ng-if="reviewWorkflowInfo[0].validation_info==1"  class="mr-5" style="margin-top:4px;"><i class="tss-validation" style="font-size: 17px; line-height:20px;" uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placemnet="left"></i></span>
                            <span ng-if="reviewWorkflowInfo[0].validation_info==3" class="green mr-5"style="margin-top:4px;">
                                <i class="fa fa-check-circle" style="font-size: 20px;"  uib-tooltip="{{'normal.validation_finalized' | translate}}" tooltip-placemnet="left"></i></span>                  
                            <span style="width: 30px;min-width: 21px;">
                                <i class="glyphicon"  ng-if="reviewWorkflowInfo.length>0" style="margin-top: 0;position: absolute;
                                    top: 17px;right: 30px"
                                    ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            </span>
                         
                       

                             
                            <span uib-dropdown on-toggle="toggled(open5);" class="c-dropdown  pull-right" style="width:40px;display: flex;">
                            <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();" style="padding: 0px 15px"
                                    ng-if="projectInfo.contract_user_access !='co' && user.access!='ro'">
                                <span class="fa fa-ellipsis-v gray"></span>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-right madule-dropdown" dropdown-append-to-body="true"
                                uib-dropdown-menu aria-labelledby="simple-dropdown" >
                                <li>
                                    <a href="javascript:;" style="border-bottom: 0px !important;padding: 10px;"
                                        ng-click="$event.stopPropagation();addTaskInCalendar('add_workflow_calendar_title_project',false,projectInfo)">{{'contract.add_Task_calender' |translate }}</a>
                                </li>
                            </ul>
                        </span>
                        </uib-accordion-heading>
                       
                         <div class="card-block" style="padding-left: 30px;padding-top: 7px;padding-bottom: 0px;"
                                ng-if="reviewWorkflowInfo.length>0" >
                            <div class="partners-content review-content" ng-repeat="row in reviewWorkflowInfo track by $index" ng-if="$index>0">  
                                <div class="d-flex align-items-center clearfix f14" ng-click="shiftToNewDetails(row)">
                                    <div class="col-md-2 pr-0 pl0">
                                        <span class="f14 orange pointer" ng-if="row.is_workflow==0">{{'calender.review' | translate}}</span>
                                        <span class="f14 green pointer" ng-if="row.is_workflow==1 && row.is_subtask==0">{{'calender.workflow' | translate}}</span>
                                        <span class="f14 green pointer" ng-if="row.is_workflow==1 && row.is_subtask!=0">{{'calender.sub_task' | translate}}</span>
                                    </div>
                                    <div class="col-md-10 pr0 d-flex">
                                        <a class="f14 ellipis pointer" href="javascript:;"
                                            style="width: calc(100% - 60px);
                                            white-space: nowrap;
                                            overflow: hidden;
                                            text-overflow: ellipsis;
                                            display: inline-block;"  title="{{row.activity_name}}">{{row.activity_name | checkEmpty}}</a>
                                <div class="score-with-status" style="margin-right: 5px;">
                                    <span class="f12">{{row.contract_progress == null ? "0%":row.contract_progress}}</span>
                                    <div class="status-widget font-weight-bold" style="line-height: 6px; min-width: inherit; text-align: left; padding: 0 !important;">
                                        <span ng-if="row.score == 'Amber'" class="amber-active"></span>
                                        <span ng-if="row.score == 'Red'" class="red-active"></span>
                                        <span ng-if="row.score == 'Green'" class="green-active"></span>
                                        <span ng-if="!row.score" class=""></span>
                                        <span ng-if="row.score == 'N/A'" class="">{{row.score}}</span>
                                    </div>
                                </div>
                                <span style="width:20px;" ng-if="row.validation_info==''"></span>
                                <span style="width:20px; display: flex;margin-top: 4px;" ng-if="row.validation_info==4" class="exclamatory-circle" >  <i class="fa fa-exclamation-circle" style="font-size: 20px;" uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placement="left"></i></span>
                                <span style="margin-top: 4px;" ng-if="row.validation_info==2" class="refresh-icon"><i class="fa fa-refresh" style="font-size: 12px;" uib-tooltip="{{'normal.validation_ongoing' | translate}}" tooltip-placement="left"></i></span>
                                <span style="width:20px;display: flex;align-items: center;justify-content: center;margin-top: 5px;" ng-if="row.validation_info==1"><i class="tss-validation" style="font-size: 17px; line-height: 9px;"uib-tooltip="{{'contract.validation_preparation' | translate}}" tooltip-placement="left"></i></span>
                                <span style="width:20px;display: flex;margin-top: 4px;" ng-if="row.validation_info==3" class="green"><i class="fa fa-check-circle" style="font-size: 20px;"  uib-tooltip="{{'normal.validation_finalized' | translate}}" tooltip-placement="left"></i></span>      
                                </div>
                                                     
                                </div>
                            </div>
                        </div>
                       
                    </div>
                   
                </uib-accordion>
                <uib-accordion class="card widget2"  style="margin-bottom:5px !important;" ng-if="user.access != 'eu'" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stored Modules" template-url="group-template5.html"
                        ng-init="open5=false;" is-open="open5">
                        <uib-accordion-heading ng-click="open5= !open5">
                            <i class="glyphicon fa fa-database"></i> {{'contract.stored_modules' | translate}}

                            <span uib-dropdown on-toggle="toggled(open5);" class="c-dropdown width-20 pull-right"
                            ng-if="projectInfo.contract_user_access !='co'&&  user.access!='ro'">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                                    style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                                    dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown">
                                    <li>
                                        <a href="javascript:;" style="border-bottom: 0px !important;padding: 10px;"
                                            ng-click="$event.stopPropagation();manageStoredModules()">{{'general.manage' | translate}}</a>
                                    </li>
                                </ul>
                            </span>


                           
                            <i class="glyphicon"
                            ng-if="!(user.access=='ca' || user.access=='bo' || user.access=='bd' || user.access=='bm')"
                                ng-class="{'fa fa-chevron-up  pull-right': open5,'fa fa-chevron-down  pull-right': !open5}"></i>
                            <i class="glyphicon" style="position: absolute;right: 30.5px;"
                             ng-if="(user.access=='ca' || user.access=='bo' || user.access=='bd' ||user.access=='bm')"
                                ng-class="{'fa fa-chevron-up  pull-right': open5,'fa fa-chevron-down  pull-right': !open5}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block" style="height: inherit !important;">
                            <div class="clearfix text-center after-line" ng-if="storedModulesList.review.length>0"><span>{{'contract.review_modules' | translate}}</span></div>
                            <div class="clearfix partners-content col-md-12 alternate-div-bag" ng-repeat="row in storedModulesList.review" style="padding: 0px 0px 6px;">
                                <p ng-if="storedModulesList.review.length>0" class="mb-0">
                                    <a ng-click="showStoredModuleQuestions(row)" href="javascript:;" title="{{row.module_name}}"
                                        class="ellipis attachment-fileHead ng-binding" style="cursor: pointer;"
                                        text-line>
                                        <i class="fa fa-database f14 display-inline-block pt4 valign-t" style="margin-right: 3px;"></i>
                                            {{row.module_name}} </a>
                                    <p style="display: block;font-size: 10px; margin-left: 20px;" class="mr-h mb-0">
                                        <span class="font-italic gray" style="display: block;">
                                            <span style="color:black" class="">{{'contract.last_review_by' |
                                                translate}}</span> {{row.updated_by}}</span>
                                        <span class="font-italic gray" style="display: block;">
                                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                                            {{row.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                    </p>
                                </p>
                            </div>
                            <div class="clearfix"></div>
                            <div class="clearfix text-center after-line" ng-if="storedModulesList.workflow.length>0"><span >{{'contract.task_modules' | translate}}</span></div>
                            <div class="clearfix partners-content col-md-12 alternate-div-bag" ng-repeat="row in storedModulesList.workflow" style="padding: 0px 0px 6px">
                                <p ng-if="storedModulesList.workflow.length>0" class="mb-0">
                                    <a ng-click="showStoredModuleQuestions(row)" href="javascript:;" title="{{row.calander_workflow_name}}"
                                        class="ellipis attachment-fileHead ng-binding" style="cursor: pointer;"
                                        text-line>
                                        <i class="fa fa-database f14 display-inline-block pt4 valign-t" style="margin-right: 3px;"></i>
                                            {{row.calander_workflow_name}} </a>
                                    <p style="display: block;font-size: 10px; margin-left: 20px;" class="mr-h mb-0">
                                        <span class="font-italic gray" style="display: block;">
                                            <span style="color:black" class="">{{'contract.last_workflow_by' |
                                                translate}}</span> {{row.updated_by}}</span>
                                        <span class="font-italic gray" style="display: block;">
                                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                                            {{row.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                    </p>
                                </p>
                            </div>
                            <div ng-if="storedModulesList.review.length==0 && storedModulesList.workflow.length==0" class="text-xs-center">
                                <span class="f12">{{'contract.no_stored_module' | translate}}</span>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime" ng-if="user.access !='eu'">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders" template-url="group-template.html"
                       
                        ng-init="open1=false;" is-open="open1" is-disabled="(user.access=='eu')">
                        <uib-accordion-heading ng-click="open1= !open1">
                            <i class="glyphicon fa fa-paperclip"></i> {{'contract.project_attachment' | translate}}
                            <span uib-dropdown on-toggle="toggled(open1);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-disabled="user.user_type=='external'|| user1.user_type=='external'"
                                    ng-click="$event.stopPropagation();" style="padding:0px 15px;" >
                                      <span class="fa fa-ellipsis-v gray" ng-if="projectInfo.contract_user_access !='co'&&  user.access!='ro'"></span>   <!--added by ashok-->
                                </a>
                               
                                    <ul class="dropdown-menu dropdown-menu-right madule-dropdown" dropdown-append-to-body="true"
                                    uib-dropdown-menu aria-labelledby="simple-dropdown"  
                                    ng-if="projectInfo.contract_user_access !='co' && user.access!='ro'">   <!--added by ashok-->
                                    <!-- <li>
                                        <a href="#" style="border-bottom: 0px !important;padding: 10px;" ng-click="$event.stopPropagation();uploadDoc()">{{'general.manage'
                                            | translate}}</a>
                                    </li> -->
                                    <li>
                                        <a href="#" style="border-bottom: 0px !important;padding: 10px;" ng-click="$event.stopPropagation();updateProjectDetails(data,2)">{{'general.manage'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon chevironAlign" style="margin-right: 0px !important;"
                                    ng-class="{'fa fa-chevron-up  pull-right': open1,'fa fa-chevron-down  pull-right': !open1}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block attach-delete">
                            <!-- <uib-tabset active="active" ng-init="active=0;"> -->
                                <!-- <uib-tab index="0" heading="Project attachments"> -->
                                    <div class="attachment-widget" ng-repeat="a in projectInfo.attachment.all_records"
                                        style="padding-bottom: 0px;">
                                        <p ng-if="projectInfo.attachment.all_records.length>0">
                                            <a class="ellipis attachment-fileHead f12" href="javascript:;" title="Download"
                                                ng-click="getDownloadAttachmentUrl(a)" ng-if="a.document_type==0">
                                                <!-- <i class="icon-arrow-down-circle f16" style="vertical-align: middle;"></i>&nbsp;{{a.document_name}}</a> -->
                                                <i class="fa fa-download" style="vertical-align: middle;padding-right: 6px;"></i>{{a.document_name}}</a>

                                                <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}" ng-if="a.document_type==1">
                                                <i class="fa fa-link f16" style="vertical-align: middle;"></i>&nbsp;{{a.document_name}}</a>
                                            <span ng-if="projectInfo.contract_user_access  != 'co' && user.access !='ro'">
                                                <span class="tss-lock"  style="color: red;cursor:pointer; font-size:20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                                <span class="tss-unlock" style="color: green;cursor:pointer; font-size:20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                                            </span>
                                            <a href="#" class="gray" ng-if="projectInfo.contract_user_access  != 'co'&& user.access !='ro'">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                            </span>
                                        </p>
                                    </div>
                                    <p ng-if="projectInfo.attachment.all_records.length<=0" class="text-sm-center f12 m-0">{{'contract.no_attachment_found'
                                        | translate}}</p>
                                <!-- </uib-tab> -->
                                <!-- <uib-tab index="1" heading="Project links">
                                    <div class="attachment-widget" ng-repeat="a in projectInfo.attachment.links"
                                        style="padding-bottom: 0px;">
                                        <p ng-if="projectInfo.attachment.links.length>0">
                                            <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}">
                                                <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>
                                            <a href="#" class="gray">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'date' | checkEmpty}}</span>
                                            </span>
                                        </p>
                                    </div>
                                    <p ng-if="provider.attachment.links.length<=0" class="text-sm-center">{{'links.no_links'
                                        | translate}}</p>
                                </uib-tab> -->
                            <!-- </uib-tabset> -->
                        </div>
                    </div>
                </uib-accordion>
               
               
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders" template-url="group-template1.html"
                        ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                            <i class="icon-report3"></i> {{'contract.connected_contracts' | translate}}
                            <span uib-dropdown on-toggle="toggled(open);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();" style="padding:0px 15px;">
                                    <span class="fa fa-ellipsis-v gray" ng-if="projectInfo.contract_user_access !='co'&& user.access!='ro'"></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown" dropdown-append-to-body="true"
                                uib-dropdown-menu aria-labelledby="simple-dropdown" ng-if="projectInfo.contract_user_access !='co' &&user.access!='ro'">
                                    <!-- <li >
                                        <a href="javascript:;" style="padding: 10px;" ng-click="$event.stopPropagation();manageConnectedContracts()">{{'general.manage'
                                            | translate}}</a>
                                    </li> -->
                                    <li >
                                        <a href="javascript:;" style="padding: 10px;" ng-click="$event.stopPropagation();updateProjectDetails(data,3)">{{'general.manage'
                                            | translate}}</a>
                                    </li>
                                    <li>
                                      <a href="javascript:;" style="padding: 10px;" ng-click="$event.stopPropagation();addConnectedContracts()">{{'general.add'
                                        | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon chevironAlign" style="margin-right: 0px !important;" ng-if="!(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            <i class="glyphicon chevironAlign" style="margin-right: 0px !important;" ng-if="(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                        </uib-accordion-heading>
                       
                    <div class="card-block connected-project-block" >
                        <ul class="connected-projects-list m-0" ng-if="connectedContracts.length>0">
                            <li ng-repeat ="row in connectedContracts">

                                <span ng-if="row.is_contract_access == 1">
                                    <a ng-click="goToCurrentContractDetails(row)" class="skyblue ellipis w210 pointer" title="{{row.contract_name}}"> {{row.contract_name}}</a>
                                </span>
                                <span ng-if="row.is_contract_access == 1" class="connected-contact-name ellipis w130">{{row.owner_name}}</span>
                                <span ng-if="row.is_contract_access==0">
                                    <a href="#" class="skyblue ellipis w120 gray hand-symbol" title="{{row.contract_name}}">{{row.contract_name}}</a>
                                </span>
                                <span ng-if="row.is_contract_access == 0" class="connected-contact-name w130" title="{{row.owner_name}}">{{row.owner_name}}</span>
                               
                            </li>
                        </ul>
                    </div>
                        <div ng-if="connectedContracts.length==0" class="text-xs-center" style="padding: 10px;">
                            <span class="f12">{{'project.no_contracts_conected' | translate}}</span>
                        </div>
                    </div>
                    <!-- </div> -->
                </uib-accordion>
                <!-- Accordion ends -->
            </div>
        </div>
    </div>
    <div class="review-warning" ng-if="projectInfo.ideedi !='annus' && loading">
        <span>{{'discussion.top_msg_w' | translate}} {{'discussion.click' | translate}}</span>
        <a style="text-decoration: underline;cursor: pointer;" ng-click="goToDesign(data)">{{'discussion.here' |
            translate}}
        </a> {{'discussion.to_view' | translate}}
    </div>

    <div class="review-warning" ng-if="validation_status==2 && loading && !projectInfo.ideedi !='annus'">
            <span ng-if="isWorkflow=='0'">{{'discussion.top_msg_r' | translate}} </span>
            <span ng-if="isWorkflow=='1'">{{'discussion.top_msg_wv' | translate}} </span>
    </div>
</div>

<script type="text/ng-template" id="group-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open1, 'fa fa-chevron-up': !open1}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template0.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}" style="display: flex;align-items: center;">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template1.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template2.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen();" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="manage-connected-contracts.html">
    <div class="modal-header">
        <h6 class="modal-title">
                 {{'normal.manage_conected_contracts' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>

    <div class="modal-body clearfix">
       <table class="w-100">
           <tbody>
             <tr ng-repeat ="row in connectedContracts">
                <td><span class="">{{row.contract_name}}</span></td>
                <td><span>{{row.owner_name}}</span></td>
                <!-- <td><span> <i class="fa fa-trash" ng-click="removeConnectedContract(row)" style="cursor: pointer;"></i></span></td> -->
                <td><span ng-if ="access =='ca' || access =='bo' ||access =='bd' ||access=='bm'"> <i class="fa fa-trash" ng-click="removeConnectedContract(row)" style="cursor: pointer;"></i></span></td>      <!--addedby ashok-->
             </tr>
           </tbody>
       </table>
       
    </div>
   
    <div class="modal-footer">
       
        <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
            <i class="fa fa-ban"></i>&nbsp; {{'general.close' | translate}}</button>
    </div>
       
</script>
<script type="text/ng-template" id="create-edit-project-doc.html">
    <div class="modal-header">
        <h6 class="modal-title">
                {{'general.add' | translate}} {{'links.attachments_links' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f18"></a>
        </h6>
    </div>
    <form novalidate name="contractForm" >
        <uib-tabset active="active" class="clearfix" style="padding: 10px;" ng-init="active=0;">
            <uib-tab index="0" heading="{{'links.ad_attachment' | translate}}">
                <div class="col-sm-12 m-t-3 form-group p0">
                    <attachment-files ng-model="attachments"></attachment-files>
                </div>
                <div class="p-b-1">
                    <p ng-if="projectInfo.attachment.documents.length>0" ng-repeat="a in projectInfo.attachment.documents">
                        <a download="{{a.document_name}}" target="_blank" href="#" ng-click="getDownloadUrl(a)" download="{{a.document_name}}">
                            <i class="icon-arrow-down-circle f16" style="vertical-align: middle;"></i> {{a.document_name}}</a>
                            <span ng-if="projectInfo.contract_user_access  != 'co' && user.access !='ro'">
                                <span class="tss-lock"  style="color: red; position:absolute; right:50px; cursor:pointer; font-size:20px"
                                     ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                <span class="tss-unlock" style="color: green; position:absolute; right:50px; cursor:pointer; font-size:20px"
                                     ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                            </span>
                            <a href="#" class="gray" ng-if="projectInfo.contract_user_access  != 'co'">
                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"  style="position: relative; top:2px"
                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                </i>
                            </a>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'attachment.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user}}</span>
                            <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="projectInfo.attachment.documents.length==0" class="text-sm-center">{{'attachment.no_files' | translate}}</p>
                </div>                
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit"
                            ng-click="uploadAttachment(attachments,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
            <uib-tab index="1"  class="clearfix" heading="{{'links.ad_link' | translate}}">
                <div class="clearfix" style="background: #EEEDF5; padding: 10px;">
                    <ng-form name="linkForm" class="modalUniqCls">
                        <div class="col-md-5 pl-0">
                            <input type="text" class="form-control" name="title" placeholder="{{'normal.placeholder_title' | translate}}" ng-model="contractLink.title" required>
                        </div>
                        <div class="col-md-7 pl-0" style="display:-webkit-inline-box; padding-right: 5px;">
                            <input type="text" style="width:86.5%" class="form-control" ng-model="contractLink.url" required placeholder="{{'normal.placeholder_add_link_url' | translate}}">
                            <span style="/* float:left; *//* position: absolute; */">
                                <button style="padding: 0.03rem 0.5rem;" type="button" title="{{'contract.verify_link' | translate}}" ng-disabled="!linkForm.$valid" class="btn btn-success" ng-click="verifyLink(contractLink)">
                                    <span class="fa fa-plus"></span><p style="font-size:12px;margin-bottom:0px;">{{'links.ad_link' | translate}}</p></button>
                            </span>
                        </div>
                    </ng-form>
                    <div class="col-sm-12 p0 mt-1" ng-if="contractLinks.length" style="overflow-y: scroll;">
                        <div class="list-header clearfix">
                            <label class="text-capitalize f14">{{'links.attached_links' | translate}}</label>
                        </div>
                        <div class="list-table mt5 mb5" style="max-height:250px;" ng-scrollbars="">
                            <ul class="list-items files-list">
                                <li class="clearfix" ng-repeat="link in contractLinks track by $index">        
                                    <div class="col-sm-11 p0">
                                        <p class="f12 text-line m-0 p-h" title="{{link.url}}">{{link.title}}
                                        <span class="pl-h skyblue">( {{link.url}} )</span></p>
                                    </div>
                                    <div class="col-sm-1 pull-right">
                                        <a href="javascript:;" class="display-inline-block p-h" title="Remove" ng-click="removeLink($index)"> <i class="icon-trash gray"></i> </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>                    
                </div>
                <div class="clearfix"></div>
                <div class="p-b-1" style="padding-top: 25px;">
                    <p ng-if="projectInfo.attachment.links.length>0" ng-repeat="a in projectInfo.attachment.links">
                        <a  ng-click="redirectUrl(a.document_source)" href="javascript:;" class="ellipis" title="{{a.document_source}}"
                            style="cursor: pointer;width:95%"><i class="fa fa-link f16" style="vertical-align: middle;"
                            ></i> {{a.document_name}}</a>
                            <span ng-if="projectInfo.contract_user_access  != 'co' && user.access !='ro'">
                                <span class="tss-lock"  style="color: red;position:absolute; right:50px; cursor:pointer; font-size:20px"
                                     ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                <span class="tss-unlock" style="color: green;position:absolute; right:50px; cursor:pointer; font-size:20px"
                                     ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                            </span>
                        <a href="#" class="gray"  ng-if="projectInfo.contract_user_access  != 'co'">
                            <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"  style="position: relative; top:2px"
                                title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                            </i>
                        </a>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'links.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user_name}}</span>
                            <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="projectInfo.attachment.links.length==0" class="text-sm-center pt20">{{'links.no_links' | translate}}</p>
                </div>      
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit"
                            ng-click="contractLinks && uploadLinks(contractLinks,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
        </uib-tabset>
    </form>
</script>

<script type="text/ng-template" id="group-template5.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title" ng-click="toggleOpen()" style="cursor:pointer;">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading" >
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="manage-stored-modules.html">
    <div class="modal-header">
        <h6 class="modal-title">
                    {{title | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form">
       
        <div class="modal-body Contract-modal calender-custom-modal manage-form-modal clearfix">
                <div class="col-sm-12 clearfix text-center after-line" ng-if="storedModulesList.review.length>0"><span>{{'calender.reviews' | translate}}</span></div>
                <div class="clearfix" ng-if="storedModulesList.review.length>0"></div>
                <div class=" clearfix switch-lbl" ng-if="storedModulesList.review.length>0">
                    <label class="ng-binding f12" style="margin-top: 3px;">{{'normal.re-active' | translate}}</label>
                </div>
            <div class="clearfix form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.review">
                <div class="col-sm-4 p0"><span class="">{{module.module_name}}</span></div>
                <div class="col-sm-4 p0">
                    <p style="font-size: 10px;" class="mr-h">
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.last_review_by' | translate}}</span>
                                <span class="f12">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                            <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <div class="form-group col-sm-4 switch-view p0" ng-init="contract.auto_renewal=contract.auto_renewal1==1?1:0">
                    <div class="onoffswitch form-inline">
                        <div class="form-group">
                            <input type="checkbox" name="onoffswitch_toggle" ng-model="module.activate_in_next_review"
                            id="{{module.id_module}}" ng-change="updateStoredModules(module)"
                            ng-true-value="'1'" ng-false-value="'0'"
                                class="onoffswitch-checkbox  ng-pristine ng-untouched ng-valid ng-not-empty">
                                <label class="onoffswitch-label assessment-switch" for="{{module.id_module}}">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                    </div>
                </div>              
            </div>
            <div class="clearfix" ng-if="storedModulesList.workflow.length>0"></div>
                <div class="clearfix text-center after-line" ng-if="storedModulesList.workflow.length>0"><span>{{'user.breadcrumb.tasks' | translate}}</span></div>
            <!-- <div class="switch-lbl" ng-if="storedModulesList.workflow.length>0">
                <label class="ng-binding f12" style="margin-top: 3px;text-align: right;">{{'contract.re_workflow_by' | translate}}</label>
            </div> -->
            <div class="form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.workflow">
                <div class="col-sm-3 p0"><span class="" title="{{module.calander_workflow_name}}" style="display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{module.calander_workflow_name

                }}</span>
                </div>
                <div class="col-sm-3 p0">
                    <p style="font-size: 11px;" class="mr-h">
                        <span class="font-italic gray" style="display: block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                            <span style="color:black;font-weight:600" class="">{{'contract.last_workflow_by' | translate}}</span>
                                <span class="f12" title="{{module.updated_by}}">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black; font-weight:600" class="">{{'contract.stored_on' | translate}}</span>
                            <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <!-- <div class="form-group col-sm-3">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-disabled="module.date"
                                data-ng-model="module.date" datepicker-options="{showWeeks:false}" ng-change="updateStoredModules(module)"
                                name="review_by" is-open="openCal1" show-weeks="false" show-button-bar="false" readonly/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                </div> -->

            <div  class="col-sm-6 p0  sub-task-module" >
                <div class="form-group   sub-task-main" ng-repeat="subTask in module.project_subtasks">
                    <div class="sub-task-manager">
                    <div class="sub-task-parent">
                        <span class="green sub-task-state">{{'calender.sub_task' | translate}}</span>
                        <span  class="sub-task-status" title="{{subTask.workflow_name}}">{{subTask.workflow_name}}</span>
                        <div class="sub-task-indicator" >
                        <span class="sub-task-progress">{{subTask.contract_progress}}</span>
                        <div class="status-widget font-weight-bold" style="line-height: 6px; min-width: inherit; text-align: left; padding: 0 !important;">
                            <span ng-if="subTask.score == 'Amber'" class="amber-active"></span>
                            <span ng-if="subTask.score == 'Red'" class="red-active"></span>
                            <span ng-if="subTask.score == 'Green'" class="green-active"></span>
                            <span ng-if="!subTask.score" class=""></span>
                            <span ng-if="subTask.score == 'N/A'" class="">{{reviewWorkflowInfo.score}}</span>
                        </div>
                    </div>
                    </div>
                  </div>
                  <div class="sub-task-connected">
                    <a  ng-if="subTask.connected_contracts.length>0"  href="javascript:;"  uib-popover-template="dynamicPopover.templateUrl" class="icon-plus-circle gray ml-h " popover-placement="left" popover-trigger="'outsideClick'" class="btn btn-default"></a>
                    <span uib-dropdown on-toggle="toggled(open5);" class="c-dropdown width-20 pull-right">
                    <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();"
                        style="padding: 0px 15px">
                        <span class="fa fa-ellipsis-v gray"></span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-right madule-dropdown"
                        dropdown-append-to-body="true" uib-dropdown-menu aria-labelledby="simple-dropdown" style="right: 15px">
                        <li>
                            <!-- <a href="javascript:;" style="border-bottom: 0px !important;padding: 7px 10px;font-weight: 500;"
                                ng-click="$event.stopPropagation();addConnectedContracts('storedModuleContracts',subTask.id_contract_workflow,subTask.provider_id)">Add</a> -->
                                <a href="javascript:;" style="border-bottom: 0px !important;padding: 7px 10px;font-weight: 500;"
                                ng-click="$event.stopPropagation();addConnectedContractsForStoreModule(subTask.id_contract_workflow,subTask.provider_id)">Add</a>
                        </li>
                    </ul>
                    </span>
                </div>
                </div>
            </div>
         
            </div>
        </div>
        <div ng-if="storedModulesList.review.length==0 && storedModulesList.workflow.length==0" class="text-xs-center">
            <span class="text-center f12">{{'contract.no_stored_module' | translate}}</span>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.close' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="open-unanswered-questions.html">
    <div class="modal-header">
        <h6 class="modal-title">
                    {{module.module_name}}
                    <span class="progress-cls f12" ng-if="!isStored">{{'contract.module_questions.progress' | translate}} : {{module.progress}} %</span>
                    <span class="completion-cls f12" ng-if="!isStored">{{'contract.completion' | translate}} : {{module.question_count}} </span>
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" >
        <div class="modal-body Contract-modal clearfix">
            <uib-accordion close-others="oneAtATime">
                <div uib-accordion-group class="panel-default mb-h"
                        ng-repeat="topic in unAnsweredTopics"  heading="Selection Process"
                        ng-init="topic.open=false;
                        showData['topic'][topic.topic_id]['open'] =  showData['topic'][topic.topic_id]['open'] ?
                                                                    showData['topic'][topic.topic_id]['open'] : false;"
                        is-open="showData['topic'][topic.topic_id]['open']"
                        template-url="topic-template.html" is-disabled="true"
                        style="border: 1px solid #ccc;">
                    <uib-accordion-heading>
                        <i class="glyphicon"
                            ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']"
                            ng-class="{'fa fa-minus-square-o': showData['topic'][topic.topic_id]['open'],
                                        'fa fa-plus-square-o': !showData['topic'][topic.topic_id]['open']}"></i>
                        <span class="pl14" ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']">{{topic.topic_name | capitalize}}</span>                                    
                    </uib-accordion-heading>
                    <table class="table table-custom table-striped table-hover">
                        <thead><tr></tr></thead>
                        <tbody>
                            <tr ng-repeat="row in topic.questions" ng-class="{'blue-color':row.is_blue_difference==1  ,
                            'green-color': row.is_green_diffference==1 ,
                                'toggleclass':row.is_validator==1,
                                'relation-active':row.provider_visibility==1,
                            'red-color': row.is_red_difference==1}">
                                <!-- <td style="width:63%">{{row.question_text}}</td> -->
                                <td style="align-items:center;position: relative; padding-right: 17px;">
                                    <div style="display:flex; align-items:center;padding: 4px;">
                                        <div class="tw-toggle" ng-if="row.is_validator==1">
                                              <label class="toggle toggle-yes green-dot"  ng-class="{'green-circle':row.is_green_diffference==1}" ></label>
                                               <label class="toggle toggle-yes blue-dot"  ng-class="{'blue-circle':row.is_blue_difference==1}" ></label>
                                               <label class="toggle toggle-yes red-dot"   ng-class="{'red-circle':row.is_red_difference==1}"></label>
                                       </div>
                                    <span class="skyblue pointer" ng-click="goToReview(row,topic)">{{row.question_text | checkEmpty}}</span>
                               
                            </div></td>
                                <td style="width:25%" ng-if="row.question_type != 'rag' && row.question_type != 'date'">
                                    {{row.question_answer | checkEmpty}}
                                </td>    
                                <td style="width:25%" ng-if="row.question_type == 'date'">
                                    {{row.question_answer | utcToLocal:'date' | checkEmpty}}
                                </td>                                    
                                <td style="width:25%" ng-if="row.question_type == 'rag'">
                                    <div class="radio_widget">
                                        <span ng-if="!row.question_answer">{{row.question_answer | checkEmpty}}</span>
                                        <a ng-if="row.question_answer == 'G'" class="f18"><i class="fa fa-check-circle green mr-h"></i></a>
                                        <a ng-if="row.question_answer == 'A'" class="f18"><i class="fa fa-exclamation-circle orange mr-h"></i></a>
                                        <a ng-if="row.question_answer == 'R'" class="f18"><i class="fa fa-times-circle red"></i></a>
                                        <a ng-if="row.question_answer == 'N/A'" class="f18"><i class="fa fa-minus-circle gray mr-h"></i></a>
                                    </div>
                                </td>
                             
                                <td style="width:4%;">
                                    <i class="fa fa-commenting-o pointer f12" ng-click="showfeedback(row)"  ng-if="row.question_feedback"></i>
                                </td>
                               
                                <td style="width:4%">
                                    <span ng-if="row.discussion!='' && row.validator!=1">
                                        <a href="javascript:;">
                                            <img style="padding-bottom: 8px; width: 13px;" ng-click="showdiscussion(row)"
                                                src="img/discussion.png"/>
                                        </a>
                                    </span>
                                </td>
                               
                                <td style="width:4%">
                                    <span  ng-if="row.attachments.length>0">
                                        <a href="#" style="position: relative; top: 4px;" ng-click="showAttachments(row)">
                                            <i class="icon-attachment f11 skyblue pointer" title="Attachments"></i>
                                            <span class="count-small">{{row.attachments.length}}</span>
                                        </a>
                                    </span>
                                </td>
                             
                            </tr>
                        </tbody>
                        <tbody ng-if="!load && topic.questions.length == 0">
                            <tr><td colspan="6" class="text-sm-center">{{'general.no_data' | translate}}</td></tr>
                        </tbody>
                        <tbody ng-if="load">
                            <tr><td colspan="6" class="text-sm-center">{{'general.loading' | translate}}</td></tr>
                        </tbody>
                    </table>
                </div>
            </uib-accordion>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="topic-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading ">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header>
                        <i class="glyphicon" ng-class="{'fa fa-minus-square-o': status.show, 'fa fa-plus-square-o': !status.show}"></i>
                        {{heading}}
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude style="padding:7px;"></div>
        </div>
    </div>
</script>
<!-- parvathi code starts-->
<script type="text/ng-template" id="show-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'contract.module_questions.feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>
<script type="text/ng-template" id="show-question-attachments.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'attachment.attachments' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <form novalidate name="tableForm">
            <table class="table table-custom table-striped table-hover">
                <thead>
                    <tr>
                        <!--<th>{{'module.module' | translate}}</th>-->
                            <th>{{'questions.question' | translate}}</th>
                            <th>{{'links.attachments_links' | translate}}</th>
                            <th>{{'contract.created_by' | translate}}</th>
                            <th>{{'contract.created_on' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat ="row in attachments">
                        <!-- <td>{{row.module_name}}</td>-->
                        <td>{{question_text}} </td>
                        <td ng-if="row.document_type==0">
                            <span class="ellipis" style="width: 230px" title="{{row.document_name}}">
                                <a href="javascript:;" ng-click="getDownloadUrl(row)">
                                    <span class="fa fa-download" style="padding-right:6px"></span>{{row.document_name | checkEmpty}}</a>
                            </span>
                        </td>
                        <td ng-if="row.document_type==1">
                            <span class="ellipis" style="width: 230px" title="{{row.document_source}}">
                                <a ng-click="redirectUrl(row.document_source)" href="javascript:;">
                                    <span class="fa fa-link" style="vertical-align: middle;"></span>&nbsp;{{row.document_name | checkEmpty}}</a>
                            </span>
                        </td>
                        <!-- <td class="fa fa-link skyblue">  {{row.document_source}}  </td> -->
                        <td>{{row.uploaded_by}}</td>
                        <td>{{row.created_on | utcToLocal:'toLocalDate'}}</td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</script>
<script type="text/ng-template" id="discussion-show.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'normal.discussion_detail' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix"> <!-- modal body div open-->
    <i class="glyphicon"></i>
        <div class="col-sm-12 p0 form-group discussionAnswerParent">
            <div class="col-sm-12 p0 discussionAnswer" style="padding-left: 18px;">
                <div class="col-sm-6 p0" style="margin-bottom: 10px;color: #080808;">
                    <label class="hand-symbol">{{'contract.current_value' | translate}} :</label>
                    <span ng-if="question.question_type == 'input'">
                        <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' | translate}}" ng-model="question.question_answer">
                    </span>
                    <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.question_answer" name="question_answer" is-open="false" readonly/>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </span>
                    <span ng-if="question.question_type == 'dropdown' || question.question_type == 'radio'">
                        <select class="form-control" ng-disabled="true">
                                <option value="">{{question.question_answer}}</option>
                        </select>
                    </span>
                    <span ng-if="question.question_type == 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio1_{{$index}}_{{question.id_question}}" name="same_{{question.id_question}}" value="{{question.question_answer}}"
                                    checked ng-model="question.question_answer" disabled>
                                <label disabled ng-if="question.question_answer == 'G'" for="radio1_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.question_answer == 'A'" for="radio1_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.question_answer == 'R'" for="radio1_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.question_answer == 'N/A'" for="radio1_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
                        </div>
                    </span>
                </div>
                <div class="col-sm-6" style="margin-bottom: 10px;">
                    <label class="hand-symbol" style="padding-left: 10px;color: #080808;">{{'contract.second_opinion' | translate}} :</label>
                    <span ng-if="question.question_type == 'input'">
                            <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' | translate}}" ng-model="question.second_opinion">
                    </span>
                    <span ng-if="question.question_type === 'dropdown' || question.question_type === 'radio'">
                        <select class="form-control" ng-disabled="true">
                            <option value="">{{question.second_opinion}}</option>
                        </select>
                    </span>
                    <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.second_opinion" name="date_question" is-open="false" readonly/>
                            <span class="input-group-btn ">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </span>
                    <span ng-if="question.question_type === 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio2_{{$index}}_{{question.id_question}}" name="same1_{{question.id_question}}"
                                    value="{{question.second_opinion}}" checked ng-model="question.second_opinion" disabled>
                                <label disabled ng-if="question.second_opinion == 'G'" for="radio2_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.second_opinion == 'A'" for="radio2_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.second_opinion == 'R'" for="radio2_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.second_opinion == 'N/A'" for="radio2_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
        <div class="clearfix"> </div>        
        <div class="col-sm-12 form-group">
            <label>Comments:</label>
            <div class="black pl-1 f14 discussion_by" ng-if="question.discussion.log" ng-repeat="log in question.discussion.log">
                <div class="black font-italic" ng-if="log.comments">{{log.comments}}</div>
                <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'general.by' | translate}}</span>&nbsp; {{log.created_by}}
                </span>
                <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'discussion.date' | translate}}</span>&nbsp;
                        {{log.created_on | utcToLocal:'toLocalDate'|checkEmpty}}
                </span>
            </div>
        </div>
    </div> <!-- modal-body div close-->
</script>

<script type="text/ng-template" id="create-contract.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'contract.create_contract' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block">
            <form novalidate name="contractForm" ng-submit="contractForm.$valid && addContract(contract)">
                <h6 class="form-group border-b">
                    <label class="f16">{{'contract.basic_info' | translate}} :</label>
                </h6>

               
                <div class="form-group col-sm-4">
                    <label>{{'contract.Id' | translate}}</label>
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white"  data-ng-model="contract.contract_unique_id"
                             name="contract_unique_id" ng-disabled="!disabled"/>
                    </div>
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'contract.provider_name' | translate}} *</label>
                    <select chosen class="form-control chosen-choices"
                        id="add-chosen"
                        onchange="chosen()"
                        allow-single-deselect="true"
                        placeholder-text-single="'{{'normal.placeholder_relation_name | translate'}}'"
                        name="provider_name" ng-model="contract.provider_name"
                        ng-options="item.id_provider as item.provider_name for item in providers | orderBy:'provider_name'"
                        required ng-disabled="(contract.is_lock=='1' && isEditContract)">
                        <option value=""></option>
                    </select>
                    <span class="error-message" ng-if="contractForm.provider_name.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                        <label>{{'contract.contract_name' | translate}} *</label>
                        <input type="text" class="form-control" maxlength="50" name="contract_name" ng-model="contract.contract_name" required>
                    <span class="error-message" ng-if="contractForm.contract_name.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4" ng-if="((user.access=='wa' || user.access=='ca' || user.access=='bo' || user.access=='bd') && (!(user.access=='eu')))
                                                         && (contract.parent_contract_id=='U2FsdGVkX19UaGVAMTIzNFkR8dxfIo31jqYSIUCU2+8=')"
                        style="padding-top: 28px !important; padding-left: 0px;">
                    <label style="color: transparent;">Add sub</label>
                    <a href="#/contract/sub-create/{{displayName}}/{{contract.id_contract | encode}}" class="">
                        <button type="button" class="btn btn-primary">{{'contract.add_sub_contract' | translate}}</button>
                    </a>
                </div>

                <div class="clearfix"></div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.contract_start_date' | translate}} *</label>
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" min-date="toggleMin()" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false"
                            data-ng-model="contract.contract_start_date"  name="start_date" is-open="openCal"
                            datepicker-options="{showWeeks:false}" show-button-bar="false" readonly required/>
                        <span class="input-group-btn">
                            <button type="button" class="btn btn-default border" ng-click="openCal = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="contractForm.start_date.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.contract_end_date' | translate}}</label>
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" data-ng-model="contract.contract_end_date"
                             name="end_date" is-open="openCal1" datepicker-options="{showWeeks:false}" show-button-bar="false" readonly />
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="contractForm.end_date.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                    <span class="error-message" ng-if="contractForm.end_date.$error.date && contractForm.$submitted">{{'general.invalid_input' |translate}}</span>
                </div>
                <div class="form-group col-sm-4 switch-view">
                    <label class="" style="margin-top: 3px;">{{'contract.automatic_prolongation' | translate}}</label>
                    <div class="onoffswitch form-inline">
                        <div class="form-group">
                            <input type="checkbox" name="onoffswitch_toggle"
                                ng-true-value="1" ng-false-value="0"
                                ng-init="contract.auto_renewal = (contract.auto_renewal == '1') ? 1:0"
                                ng-model="contract.auto_renewal"
                                class="onoffswitch-checkbox " id="setting2" checked>
                            <label class="onoffswitch-label assessment-switch" for="setting2">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.contract_value' | translate}} *</label>
                    <input type="text" class="form-control" maxlength="30" name="contract_value" ng-model="contract.contract_value" required
                        ui-number-mask="0">
                    <span class="error-message" ng-if="contractForm.contract_value.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'bussiness.bussiness_unit' | translate}} *</label>
                    <select class="form-control" ng-model="contract.business_unit_id" name="business_unit"
                            ng-change="getContractDelegates(contract.business_unit_id,contract.id_contract)"
                            ng-options="item.id_business_unit as item.bu_name disable when item.iobuuboi=='itako' for item in bussinessUnit"
                            ng-disabled="(contract.is_lock=='1' && isEditContract) || (user.access == 'bd' && contractId!=0)" required>
                        <option value="">-- {{'general.select' | translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.business_unit.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.relationship_classification' | translate}}</label>
                    <select class="form-control" ng-model="contract.classification_id" name="classification"
                        ng-options="item.id_relationship_classification as item.classification_name for item in relationshipClassificationList"
                        >
                        <option value="">-- {{'general.select' | translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.classification.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.currency' | translate}} *</label>
                    <select name="contract_curency" ng-model="contract.currency_id" class="form-control" ng-options="item.id_currency as item.currency_name for item in currencyList">
                        <option value="">-- {{'general.select' |translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.contract_curency.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div ng-if="user.access != 'bd'">
                    <div class="form-group col-sm-4" ng-if="user.access != 'bo'">
                        <!--  && (user.access == 'bd' && contractId==0) -->
                        <label>{{'contract.bu_owner' | translate}} *</label>
                        <select chosen class="form-control chosen-choices"
                            id="add-chosen"
                            onchange="chosen()"
                            placeholder-text-single="'{{'normal.placeholder_business_owner_role' | translate}}'"
                            name="owner_id" ng-model="contract.contract_owner_id" ng-options="item.id_user as item.name for item in buOwnerUsers"
                            required>
                            <!-- <option value="">-- {{'general.select' |translate}} --</option> -->
                        </select>
                        <span class="error-message" ng-if="contractForm.owner_id.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                    </div>
                    <div class="form-group col-sm-4" ng-show="user.access == 'bo'" ng-if="(user.access == 'bo')? (contract.contract_owner_id = user.id_user):(contract.contract_owner_id = contract.contract_owner_id)">
                        <label>{{'contract.bu_owner' | translate}} *</label>
                        <select class="form-control" ng-model="contract.contract_owner_id" name="owner_id" ng-disabled="user.access == 'bo'" ng-options="item.id_user as item.name for item in buOwnerUsers">
                            <option value="">-- {{'general.select' | translate}} --</option>
                        </select>
                        <span class="error-message" ng-if="contractForm.owner_id.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                    </div>
                </div>
                <div ng-if="user.access == 'bd'">
                    <div class="form-group col-sm-4" ng-if="contractId==0">
                        <label>{{'contract.bu_owner' | translate}} *</label>
                        <select chosen class="form-control chosen-choices"
                            id="add-chosen"
                            onchange="chosen()"
                            placeholder-text-single="'{{'normal.placeholder_business_owner_role' | translate}}'"
                            name="owner_id" ng-model="contract.contract_owner_id" ng-options="item.id_user as item.name for item in buOwnerUsers"
                            required>
                            <!-- <option value="">-- {{'general.select' |translate}} --</option> -->
                        </select>
                        <span class="error-message" ng-if="contractForm.owner_id.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                    </div>
                    <div class="form-group col-sm-4" ng-show="contractId!=0">
                        <label>{{'contract.bu_owner' | translate}} *</label>
                        <select class="form-control"
                            ng-model="contract.contract_owner_id" name="owner_id" ng-disabled="user.access == 'bd'"
                            ng-options="item.id_user as item.name for item in buOwnerUsers">
                            <option value="">-- {{'general.select' | translate}} --</option>
                        </select>
                        <span class="error-message" ng-if="contractForm.owner_id.$error.required && contractForm.$submitted">
                            {{'general.required_field' |translate}}</span>
                    </div>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'contract.relationship_category' | translate}} *</label>
                    <select  ng-model="contract.relationship_category_id" class="form-control" name="relationship_category" required ng-change="validateCategoryTemplate(contract.relationship_category_id)"
                             ng-options="opt.id_relationship_category as opt.relationship_category_name group by opt.type for opt in relationshipCategoryList"
                             ng-disabled="(contract.contract_status=='review in progress' || contract.is_lock=='1') && isEditContract">
                        <option value="">-- {{'general.select' | translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.relationship_category.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-sm-4"></div>
                <div class="form-group col-sm-4" ng-if="user.access != 'bd'">
                    <label>{{'contract.delegates' | translate}} </label>
                    <select chosen class="form-control chosen-choices" allow-single-deselect="true" style="height: 40px;" placeholder-text-single="'{{'normal.placeholder_delegate_Search' | translate}}'"
                        ng-model="contract.delegate_id" name="delegate" ng-options="item.id_user as item.user_name for item in delegates">
                        <option value=""></option>
                    </select>
                    <span class="error-message" ng-if="contractForm.delegate.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4" ng-show="user.access == 'bd'" ng-if="(user.access == 'bd')? (contract.delegate_id = user.id_user):(contract.delegate_id = contract.delegate_id)">
                    <label>{{'contract.delegates' | translate}} </label>
                    <select class="form-control" ng-model="contract.delegate_id" name="delegate" allow-single-deselect="true" ng-disabled="user.access == 'bd'" ng-options="item.id_user as item.user_name for item in delegates">
                        <option value="">-- {{'general.select' | translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.delegate.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4" ng-if="enableTemplate">
                    <label>{{'templates.template' | translate}} *</label>
                    <select class="form-control" ng-model="contract.template_id" name="template" required ng-disabled="contract.contract_status=='review in progress'"
                        allow-single-deselect="true" ng-options="item.id_template as item.template_name for item in templateList">
                        <option value="">-- {{'templates.select_template' | translate}} --</option>
                    </select>
                    <span class="error-message" ng-if="contractForm.template.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-sm-12">
                    <label>{{'contract.contract_desc' | translate}} *</label>
                    <textarea class="form-control" ng-model="contract.description" name="desc" required style="height: 80px;"></textarea>
                    <span class="error-message" ng-if="contractForm.desc.$error.required && contractForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="clearfix"></div>
                <h6 class="form-group border-b">
                    <label class="f16">{{'tags.tags' | translate}} :</label>
                </h6>
                <div class="col-sm-12 p0">
                    <div class="form-group col-sm-4" ng-repeat="tag in tags track by $index" ng-if="$index<3">
                        <div ng-if="$index == 3" class="clearfix"></div>
                        <label class="label-control ellipis w_95">{{tag.tag_text}}</label>
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'text'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" only-digits ng-if="tag.tag_type == 'input' && tag.field_type == 'number'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'currency'" maxlength="30" ui-number-mask="0" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">

                        <select ng-if="tag.tag_type == 'dropdown'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                 ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <select ng-if="tag.tag_type == 'radio'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                 ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <div ng-if="tag.tag_type =='date'" style="display: flex;">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy"  
                                ng-model="contract.contract_tags[tag.tag_id]"  name="date" is-open="openCal3" datepicker-options="{showWeeks:false}"
                                show-button-bar="false" readonly>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default border" ng-click="openCal3 = true">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </div>  
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-12 mb-2 p0">
                    <div class="form-group col-sm-4" ng-repeat="tag in tags track by $index" ng-if="$index>=3 && $index<6">
                        <div ng-if="$index == 3" class="clearfix"></div>
                        <!---<div>{{tag}}</div>-->
                        <label class="label-control ellipis w_95">{{tag.tag_text}}</label>
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'text'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" only-digits ng-if="tag.tag_type == 'input' && tag.field_type == 'number'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'currency'" maxlength="30" ui-number-mask="0" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <select ng-if="tag.tag_type == 'dropdown'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <select ng-if="tag.tag_type == 'radio'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <div class="clearfix" ng-if="tag.tag_type=='date'" style="display: flex;">
                            <div class="input-group clearfix form-group-custom">
                                <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-if="tag.tag_type='date'"
                                        data-ng-model="contract.contract_tags[tag.tag_id]" datepicker-options="options"  
                                        name="date" is-open="openCal4" datepicker-options="{showWeeks:false}" show-button-bar="false" readonly/>
                                <span class="input-group-btn ">
                                    <button type="button" class="btn btn-default border" ng-click="openCal4 = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>                            
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-12 mb-2 p0">
                    <div class="form-group col-sm-4" ng-repeat="tag in tags track by $index" ng-if="$index>=6 && $index<9">
                        <div ng-if="$index == 3" class="clearfix"></div>
                        <!---<div>{{tag}}</div>-->
                        <label class="label-control ellipis w_95">{{tag.tag_text}}</label>
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'text'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" only-digits ng-if="tag.tag_type == 'input' && tag.field_type == 'number'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'currency'" maxlength="30" ui-number-mask="0" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <select ng-if="tag.tag_type == 'dropdown'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <select ng-if="tag.tag_type == 'radio'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <div class="clearfix" ng-if="tag.tag_type=='date'" style="display: flex;">
                            <div class="input-group clearfix form-group-custom">
                                <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-if="tag.tag_type='date'"
                                        data-ng-model="contract.contract_tags[tag.tag_id]" datepicker-options="options"  
                                        name="date" is-open="openCal4" datepicker-options="{showWeeks:false}" show-button-bar="false" readonly/>
                                <span class="input-group-btn ">
                                    <button type="button" class="btn btn-default border" ng-click="openCal4 = true">
                                        <i class="fa fa-calendar"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>                            
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-12 mb-2 p0">
                    <div class="form-group col-sm-4" ng-repeat="tag in tags track by $index" ng-if="$index>8">
                        <div ng-if="$index == 3" class="clearfix"></div>
                        <!---<div>{{tag}}</div>-->
                        <label class="label-control ellipis w_95">{{tag.tag_text}}</label>
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'text'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" only-digits ng-if="tag.tag_type == 'input' && tag.field_type == 'number'" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <input type="text" ng-if="tag.tag_type == 'input' && tag.field_type == 'currency'" maxlength="30" ui-number-mask="0" class="form-control" ng-model="contract.contract_tags[tag.tag_id]">
                        <select ng-if="tag.tag_type == 'dropdown'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <select ng-if="tag.tag_type == 'radio'"  ng-model="contract.contract_tags[tag.tag_id]" class="form-control"
                                    ng-options="item.id_tag_option as item.tag_option_name for item in tag.tag_options">
                            <option value="">-- {{'general.select' |translate}} --</option>
                        </select>
                        <div class="clearfix" ng-if="tag.tag_type=='date'" style="display: flex;">
                            <div class="input-group clearfix form-group-custom">
                                <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-if="tag.tag_type='date'"
                                        data-ng-model="contract.contract_tags[tag.tag_id]" datepicker-options="options"  
                                        name="date" is-open="openCal4" datepicker-options="{showWeeks:false}" show-button-bar="false" readonly/>
                                    <span class="input-group-btn ">
                                        <button type="button" class="btn btn-default border" ng-click="openCal4 = true">
                                            <i class="fa fa-calendar"></i>
                                        </button>
                                    </span>
                                </div>
                        </div>
                    </div>                            
                </div>
                <div class="clearfix"></div>
                <h6 class="form-group border-b">
                    <label class="f16">{{'general.add' | translate}} {{'links.attachments_links' | translate}}:</label>
                </h6>
             
                <uib-tabset active="active" class="clearfix" style="padding: 10px;">
                    <uib-tab index="0" heading="{{'links.ad_attachment' | translate}}">
                        <div class="col-sm-12 m-t-3 form-group p0">
                            <attachment-files ng-model="file.attachment"></attachment-files>
                            <!-- <attachment-list-template get-data="contract.attachment.documents" ng-model="file.delete"></attachment-list-template> -->
                        </div>
                    </uib-tab>
                    <uib-tab index="1"  class="clearfix" heading="{{'links.ad_link' | translate}}">
                        <div class="clearfix" style="background: #EEEDF5; padding: 10px;" ng-init="contractLink.url='';contractLink.title='';">
                            <ng-form name="linkForm" class="modalUniqCls">
                                <div class="col-md-5 pl-0">
                                    <input type="text" class="form-control" name="title" placeholder="{{'normal.placeholder_title' | translate}}" ng-model="contractLink.title" >
                                </div>
                                <div class="col-md-7 pl-0" style="display:-webkit-inline-box; padding-right: 5px;">
                                    <div class="input-group" style="display:flex;">
                                    <input type="text" class="form-control" name="url"
                                     ng-model="contractLink.url"  placeholder="{{'normal.placeholder_add_link_url' | translate}}">                                            
                                     <div class="input-group-append">
                                        <span class="input-group-text">
                                        <button type="button" style="padding: 0.03rem 0.5rem;" title="{{'contract.verify_link' | translate}}"
                                            ng-disabled="(contractLink.url.length && contractLink.title.length)==0" class="btn btn-success" ng-click="verifyLink(contractLink)">
                                            <span class="fa fa-plus"></span><p style="font-size:12px;margin-bottom:0px;">{{'links.ad_link' | translate}}</p>
                                        </button>
                                    </span>
                                </div>
                            </div>
                                </div>
                            </ng-form>
                            <div class="col-sm-12 p0 mt-1" ng-if="contractLinks.length" style="overflow-y: scroll;">
                                <div class="list-header clearfix">
                                    <label class="text-capitalize f14">{{'links.attached_links' | translate}}</label>
                                </div>
                                <div class="list-table mt5 mb5" style="max-height:250px;" ng-scrollbars="">
                                    <ul class="list-items files-list">
                                        <li class="clearfix" ng-repeat="link in contractLinks track by $index">        
                                            <div class="col-sm-11 p0">
                                                <p class="f12 text-line m-0 p-h" title="{{link.url}}">{{link.title}}
                                                <span class="pl-h skyblue">( {{link.url}} )</span></p>
                                            </div>
                                            <div class="col-sm-1 pull-right">
                                                <a href="javascript:;" class="display-inline-block p-h" title="Remove" ng-click="removeLink($index)"> <i class="icon-trash gray"></i> </a>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>                                    
                        </div>
                        <div class="col-sm-12 attachment-list p0 mt-h" ng-show="contract.attachment.links.length">
                            <div class="list-header clearfix ">
                                <label class="col-sm-6 pl0 p-t-3 f16 m-0 ng-binding">{{'links.added_links' | translate}}</label>
                            </div>
                            <div class="list-table">
                                <ul class="list-items">
                                    <li class="clearfix border-b ng-scope" ng-repeat="row in contract.attachment.links">
                                        <div class="touch-attacment-box p-h clearfix">                                                    
                                            <a href="javascript:;" ng-click="redirectUrl(row.document_source)" class="col-sm-6 p0 f14  m-0"
                                                title="{{row.document_source}}" ><span class="fa fa-link" style="vertical-align: middle;"></span> {{row.document_name}}
                                            </a>
                                            <div class="">
                                                <a href="javascript:;" uib-tooltip="Delete" ng-click="deleteFile($index,row)" class="link-icon-blue"><i class="icon-trash f13"></i>
                                                </a>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <div ng-hide="contract.attachment.links.length  > 0" class="text-center ng-hide"><p class="f12">{{'links.no_link' | translate}}</p> </div>
                            </div>
                        </div>  
                    </uib-tab>
                </uib-tabset>
                <!-- End -->
                <div class="clearfix"></div>
                <div class="form-group col-sm-12 text-center m-t-3">
                    <button type="submit" class="btn btn-sm btn-primary">
                        <i class="fa fa-dot-circle-o"></i> {{'general.save'| translate}}</button>
                    <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                        <i class="fa fa-ban"></i> {{'general.cancel' | translate}}</button>
                </div>
            </form>
        </div>
    </div>
</script>

<script type="text/ng-template" id="create-provider-user.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'Create External User' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block">
            <form novalidate name="customUserForm" ng-submit="customUserForm.$valid && addUser(customUser)">
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.f_name' | translate}} *</label>
                    <input type="text" class="form-control" name="first_name" ng-model="customUser.first_name" placeholder="{{'general.enter' | translate}} {{'user.profile.f_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.first_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.l_name' | translate}} *</label>
                    <input type="text" class="form-control" name="last_name" ng-model="customUser.last_name" placeholder="{{'general.enter' | translate}} {{'user.profile.l_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.last_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.email' |translate}} *</label>
                    <input type="email" class="form-control" name="email" ng-model="customUser.email" placeholder="{{'general.enter' | translate}} {{'user.profile.email' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.email.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                    <span ng-if="customUserForm.email.$error.email && customUserForm.$submitted" class="error-message">{{'general.enter_valid_email' |translate}}</span>
                </div>
                <div class="clearfix"></div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.offi_phone' | translate}}</label>
                    <input type="text" class="form-control" name="office_phone" ng-model="customUser.office_phone">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.sec_phone' | translate}}</label>
                    <input type="text" class="form-control" name="secondary_phone" ng-model="customUser.secondary_phone">
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.fax_num' | translate}}</label>
                    <input type="text" class="form-control" name="fax_number" ng-model="customUser.fax_number">
                </div>
                <div class="clearfix"></div>

                <div class="form-group col-sm-12">
                    <label>{{'user.profile.address' | translate}}</label>
                    <input type="text" class="form-control" name="address" ng-model="customUser.address">
                </div>

                <div class="clearfix"></div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.postal_code' | translate}}</label>
                    <input type="text" class="form-control" name="postal_code" ng-model="customUser.postal_code">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.city' | translate}}</label>
                    <input type="text" class="form-control" name="city" ng-model="customUser.city">
                </div>

                <div class="form-group col-sm-4">
                    <label >{{'customer.country' | translate}}</label>
                    <select class="form-control" name="country" ng-model="customUser.country_id"
                            ng-options="item.id_country as item.country_name for item in countriesList">
                        <option value="">--{{'general.select_country' | translate}}--</option>
                    </select>
                </div>
               
                <div class="clearfix"></div>

                <div class="form-group col-sm-6">
                    <label>{{'contract.provider_name' | translate}} *</label>
                    <select chosen class="form-control chosen-choices"
                        id="add-chosen"
                        onchange="chosen()"
                        allow-single-deselect="true"
                        placeholder-text-single="'{{'normal.placeholder_relation_name' | translate}}'"
                        name="provider_name" ng-model="customUser.provider_name" ng-options="item.id_provider as item.provider_name for item in providers  | orderBy:'provider_name'"
                        required>
                        <option value="">--{{'general.select' | translate}}--</option>
                    </select>
                    <span class="error-message" ng-if="customUserForm.provider_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-6">
                    <label>{{'general.status' | translate}} *</label>
                    <select class="form-control" ng-model="customUser.user_status" ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                        required>
                        <option value="">-{{'general.select' | translate}}--</option>
                        <option value="1">{{'general.active' | translate}}</option>
                        <option value="0">{{'general.inactive' | translate}}</option>
                    </select>
                </div>
                <div class="clearfix"></div>
                <div class="col-sm-6" >
                    <div class="col-sm-12 p0">
                        <label class="checkbox" for="contribution_type">
                            <input type="checkbox" name="inline-checkbox1" id="contribution_type" ng-model="customUser.contribution_type" ng-true-value="1"
                                ng-false-value="0">{{'customer.admin.provider_role' | translate}}
                        </label>
                    </div>
                </div><div class="clearfix"></div>

                <div class="form-group col-sm-12">
                    <label class="form-control-label">{{'user.profile.gender'| translate}}</label>
                    <div class="" style="display:flex; align-items:center;" ng-init="customUser.gender = (customUser.gender=='')?'female':'male'">
                        <label class="radio-inline mr-1">
                            <input type="radio" ng-model="customUser.gender" name="gender" value="male" ng-change="getValue(customUser.gender)"> {{'user.profile.male' | translate}}
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="customUser.gender" name="gender" value="female" ng-change="getValue(customUser.gender)"> {{'user.profile.female' | translate}}
                        </label>
                        <label class="radio-inline otherGender">
                            <input type="radio"  name="gender" value="other" ng-model="customUser.gender"
                            ng-change="getValue(customUser.gender)">
                        </label>
                        <span>
                            <input type="text" class="form-control"
                            ng-disabled="disableField" value="Other"  name="otherGender"  ng-model="customUser.other_gender_value" ng-required="customUser.gender=='other'">
                            <span class="error-message" ng-if="customUserForm.otherGender.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>

                        </span>
                    </div>
                </div>

                <div class="clearfix"></div>

                <div class="col-sm-6">
                    <div class="col-sm-5 p0">
                        <label class="checkbox" for="is_manual">
                            <input type="checkbox" name="inline-checkbox1" id="is_manual" ng-model="customUser.is_manual" ng-true-value="1" ng-false-value="0">
                            Manual password
                        </label>
                    </div>
                    <div ng-show="customUser.is_manual" class="form-group col-sm-7 p0">
                        <label class="form-control-label">{{'user.profile.password' | translate}} *</label>
                        <input type="text" class="form-control" name="password2010" ng-model="customUser.password" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                            placeholder="{{'user.profile.password' | translate}}" maxlength="20" ng-required="customUser.is_manual">
                        <span ng-if="customUserForm.password2010.$error.required && customUserForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                        <div ng-if="!customUserForm.password2010.$error.required && customUserForm.password2010.$error.pattern" class="error-message">
                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                        </div>
                    </div>
                </div>                      
                <div class="clearfix"></div>
                <div class="form-group col-sm-12 text-center">
                    <button type="submit" class="btn btn-sm btn-primary">
                        <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                    <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                        <i class="fa fa-ban"></i> {{'general.cancel' | translate}}</button>
                </div>
               

           
                   
             
            </form>
        </div>
    </div>
</script>


<script type="text/ng-template" id="edit-provider-user.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'user.breadcrumb.edit_external_user' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="edit-customer">
            <div class="col-sm-12 p0">
                <div class="row">
                    <div class="card">
                        <div class="card-block">
                            <form novalidate name="customUserForm" ng-submit="customUserForm.$valid && addUser(customUser)">
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.f_name' | translate}} *</label>
                                    <input type="text" class="form-control" name="first_name" ng-model="customUser.first_name" placeholder="{{'general.enter' | translate}} {{'user.profile.f_name' | translate}}"
                                        required>
                                    <span class="error-message" ng-if="customUserForm.first_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.l_name' | translate}} *</label>
                                    <input type="text" class="form-control" name="last_name" ng-model="customUser.last_name" placeholder="{{'general.enter' | translate}} {{'user.profile.l_name' | translate}}"
                                        required>
                                    <span class="error-message" ng-if="customUserForm.last_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.email' |translate}} *</label>
                                    <input type="email" class="form-control" name="email" ng-model="customUser.email" placeholder="{{'general.enter' | translate}} {{'user.profile.email' | translate}}"
                                        required>
                                    <span class="error-message" ng-if="customUserForm.email.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                                    <span ng-if="customUserForm.email.$error.email && customUserForm.$submitted" class="error-message">{{'general.enter_valid_email' |translate}}</span>
                                </div>
                                <div class="clearfix"></div>

                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.offi_phone' | translate}}</label>
                                    <input type="text" class="form-control" name="office_phone" ng-model="customUser.office_phone">
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.sec_phone' | translate}}</label>
                                    <input type="text" class="form-control" name="secondary_phone" ng-model="customUser.secondary_phone">
                                </div>
               
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.fax_num' | translate}}</label>
                                    <input type="text" class="form-control" name="fax_number" ng-model="customUser.fax_number">
                                </div>
                                <div class="clearfix"></div>
               
                                <div class="form-group col-sm-12">
                                    <label>{{'user.profile.address' | translate}}</label>
                                    <input type="text" class="form-control" name="address" ng-model="customUser.address">
                                </div>
               
                                <div class="clearfix"></div>
               
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.postal_code' | translate}}</label>
                                    <input type="text" class="form-control" name="postal_code" ng-model="customUser.postal_code">
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>{{'user.profile.city' | translate}}</label>
                                    <input type="text" class="form-control" name="city" ng-model="customUser.city">
                                </div>
               
                                <div class="form-group col-sm-4">
                                    <label >{{'customer.country' | translate}}</label>
                                    <select class="form-control" name="country" ng-model="customUser.country_id"
                                            ng-options="item.id_country as item.country_name for item in countriesList">
                                        <option value="">--{{'general.select_country' | translate}}--</option>
                                    </select>
                                </div>
                                <div class="clearfix"></div>
                                <div class="form-group col-sm-4">
                                    <label>{{'contract.provider_name' | translate}} *</label>
                                    <select chosen class="form-control chosen-choices"
                                        id="add-chosen"
                                        onchange="chosen()"
                                        allow-single-deselect="true"
                                        placeholder-text-single="'{{'normal.placeholder_relation_name | translate'}}'"
                                        name="provider_name" ng-model="customUser.provider_name" ng-options="item.id_provider as item.provider_name for item in providers  | orderBy:'provider_name'"
                                        required>
                                        <option value="">--{{'general.select' | translate}}--</option>
                                    </select>
                                    <span class="error-message" ng-if="customUserForm.provider_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                                </div>
                                <div class="form-group col-sm-4">
                                    <label>{{'general.status' | translate}} *</label>
                                    <select class="form-control" ng-model="customUser.user_status" ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                                        required>
                                        <option value="">-{{'general.select' | translate}}--</option>
                                        <option value="1">{{'general.active' | translate}}</option>
                                        <option value="0">{{'general.inactive' | translate}}</option>
                                    </select>
                                </div>
                                <div class="clearfix"></div>
                                <div class="col-sm-4" >
                                    <div class="col-sm-12 p0">
                                        <label class="checkbox" for="contribution_type">
                                            <input type="checkbox" name="inline-checkbox1" id="contribution_type" ng-model="customUser.contribution_type" ng-true-value="1"
                                                ng-false-value="0">{{'customer.admin.provider_role' | translate}}
                                        </label>
                                    </div>
                                </div><div class="clearfix"></div>

                                <div class="form-group col-sm-12">
                                    <label class="form-control-label">{{'user.profile.gender'| translate}}</label>
                                    <div class="" style="display:flex; align-items:center;" ng-init="customUser.gender = (customUser.gender=='')?'female':'male'">
                                        <label class="radio-inline mr-1">
                                            <input type="radio" ng-model="customUser.gender" name="gender" value="male" ng-change="getValue(customUser.gender)"> {{'user.profile.male' | translate}}
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" ng-model="customUser.gender" name="gender" value="female" ng-change="getValue(customUser.gender)"> {{'user.profile.female' | translate}}
                                        </label>
                                        <label class="radio-inline otherGender">
                                            <input type="radio"  name="gender" value="other" ng-model="customUser.gender"
                                            ng-change="getValue(customUser.gender)">
                                        </label>
                                        <span>
                                            <input type="text" class="form-control" ng-required="customUser.gender=='other'"
                                            ng-disabled="disableField" value="Other"  name="otherGender"  ng-model="customUser.other_gender_value">
                                            <span class="error-message" ng-if="customUserForm.otherGender.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>

                                        </span>
                                    </div>
                                </div>

                                <div class="clearfix"></div>
                             
                                <div class="col-sm-6">
                                    <div class="col-sm-5 p0">
                                        <label class="checkbox" for="is_manual">
                                            <input type="checkbox" name="inline-checkbox1" id="is_manual" ng-model="customUser.is_manual" ng-true-value="1" ng-false-value="0">
                                            {{'obligations.manual_password' | translate}}
                                        </label>
                                    </div>
                                    <div ng-show="customUser.is_manual" class="form-group col-sm-7 p0">
                                        <label class="form-control-label">{{'user.profile.password' | translate}} *</label>
                                        <input type="text" class="form-control" name="password2010" ng-model="customUser.password" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                                            placeholder="{{'user.profile.password' | translate}}" maxlength="20" ng-required="customUser.is_manual">
                                        <span ng-if="customUserForm.password2010.$error.required && customUserForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                                        <div ng-if="!customUserForm.password2010.$error.required && customUserForm.password2010.$error.pattern" class="error-message">
                                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                                        </div>
                                    </div>
                                </div>                      
                                <div class="clearfix"></div>
                                <div class="form-group col-sm-12 text-center">
                                    <button type="submit" class="btn btn-sm btn-primary">
                                        <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                                    <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                                        <i class="fa fa-ban"></i> {{'general.cancel' | translate}}</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <strong>{{'user.cpassword.change_password' | translate}}</strong>
                        </div>
                        <div class="card-block">
                            <form name="passwordForm" novalidate ng-submit="passwordForm.$valid && resetPassword(userPwd)">
                                <div class="col-sm-12 p0 reset-psd">
                                    <div class="form-group col-sm-4">
                                        <label class="form-control-label">{{'user.cpassword.npassword' | translate}} *</label>
                                        <input type="password" class="form-control" name="npassword" ng-model="userPwd.npassword" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                                            placeholder="{{'user.cpassword.npassword' | translate}}" maxlength="20" minlength="8" required>
                                        <span ng-if="passwordForm.npassword.$error.required && passwordForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                                        <div ng-if="!passwordForm.npassword.$error.required && passwordForm.npassword.$error.pattern" class="error-message">
                                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                                        </div>
                                    </div>
                                    <div class="form-group col-sm-4">
                                        <label class="form-control-label">{{'user.cpassword.cpassword' | translate}} *</label>
                                        <input type="password" class="form-control" name="cpassword" ng-model="userPwd.cpassword" placeholder="Confirm Password"
                                            maxlength="20" minlength="8" required>
                                        <span ng-if="passwordForm.cpassword.$error.required && passwordForm.$submitted" class="error-message">{{'general.required_field' |translate}}</span>
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="form-group col-sm-4">
                                        <button type="submit" class="btn btn-sm btn-primary">
                                            <i class="fa fa-dot-circle-o"></i> {{'general.reset'|translate}}
                                        </button>
                                        <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                                            <i class="fa fa-ban"></i> {{'general.cancel'|translate}}</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- for password close-->
</script>

<script type="text/ng-template" id="add-review-calendar.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{action | translate}} {{head | translate}} :
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form class="form-horizontal profile-form" name="form" novalidate
        ng-submit="form.$valid && addReview(customOptions)">
        <div class="modal-body clearfix" id="modal-body">
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.review_name' | translate}} *</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" ng-model="customOptions.review_name" name="review_name" required>
                    <span class="error-message" ng-if="form.$submitted && form.review_name.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="!addType">
                <label class="col-sm-3 p0">{{'workflows.workflow' | translate}} *</label>
                <div class="col-sm-9">
                    <select chosen
                            id="add-chosen1"
                            allow-single-deselect="true"
                            placeholder-text-single="'{{'normal.placeholder_task' | translate}}'"
                            single ng-model="customOptions.workflow_template_id"
                            name="workflow_id" size="1"
                            class="chosen-choices" required
                            ng-options="item.workflow_template_id as item.module_name for item in workflowsList">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.workflow_id.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'reports.bu_unit' | translate}} *</label>
                <div class="col-sm-9">
                    <select chosen
                            id="add-chosen0"
                            ng-change="getSmartFilters('bussiness_unit_id')"
                            allow-single-deselect="true"
                            placeholder-text-multiple="'{{'normal.placeholder_business_unit' | translate}}'"
                            multiple ng-model="customOptions.bussiness_unit_id"
                            name="business_unit" size="1"
                            class="chosen-choices"
                            ng-options="item.id_business_unit as item.bu_name for item in business_units">
                    </select>
                     <span class="error-message" ng-if="form.$submitted && form.business_unit.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
         
           
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0">{{'reports.project' | translate}}</label>
                <div class="col-sm-9">
                    <select chosen
                            id="add-chosen3"
                            allow-single-deselect="true"    
                            placeholder-text-multiple="'{{'normal.placeholder_project' | translate}}'"
                            multiple ng-model="customOptions.contract_id"
                            name="id_contract"
                            class="chosen-choices" size="1"
                            ng-options="item.id_contract as item.contract_name for item in contracts">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.id_contract.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="isEdit">
                <label class="col-sm-3 p0">{{'contract.completed_contracts' | translate}}</label>
                <div class="col-sm-9">
                    <select chosen
                            id="add-chosen7"
                            allow-single-deselect="true"
                            placeholder-text-multiple="'{{'normal.placeholder_no_complete_contracts' | translate}}'"
                            multiple ng-model="customOptions.completed_contract_id"
                            name="id_contract"
                            class="chosen-choices" size="1" ng-disabled="isEdit"
                            ng-options="item.id_contract as item.contract_name for item in completed_contracts">
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.id_contract.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
           
            <div class="form-group col-sm-12" ng-if="!addType">
                <label class="col-sm-3 p0">{{'workflows.workflow_name' | translate}} *</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" ng-model="customOptions.workflow_name" name="workflow_name" required>
                    <span class="error-message" ng-if="form.$submitted && form.workflow_name.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0" ng-if="addType">{{'calender.review_by' | translate}} *</label>
                <label class="col-sm-3 p0" ng-if="!addType">{{'calender.execute_by' | translate}} *</label>
                <div class="col-sm-9">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy"
                             data-ng-model="customOptions.date" datepicker-options="options" ng-change="validateRecurrence()"  ng-disabled="addType && isEdit"
                             name="review_by" is-open="openCal1" show-weeks="false" show-button-bar="false" readonly required/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="form.$submitted && form.review_by.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.recurrence' | translate}}</label>
                <div class="col-sm-9">
                    <select class="form-control" ng-model="customOptions.recurrence" name="recurrence" ng-change="validateRecurrence()" ng-disabled="isEdit">
                            <option value="">-- {{'general.select' |translate}} --</option>
                            <option value="1">{{'contract.monthly' | translate}}</option>
                            <option value="2">{{'contract.quarter' | translate}}</option>
                            <option value="3">{{'contract.yearly' | translate}}</option>
                    </select>
                    <span class="error-message" ng-if="form.$submitted && form.recurrence.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>                
            <div class="form-group col-sm-12" ng-if="addType">
                <label class="col-sm-3 p0">{{'calender.recurrence_till' | translate}}  <span ng-if="customOptions.recurrence">*</span></label>
                <div class="col-sm-9">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy"
                            data-ng-model="customOptions.recurrence_till" datepicker-options="options1"
                            name="recurrence_till" is-open="openCal2" show-weeks="false" show-button-bar="false"
                            ng-disabled="(isEdit)?true:(customOptions.recurrence=='')"
                            readonly ng-required="customOptions.recurrence"/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal2 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                    <span class="error-message" ng-if="form.$submitted && form.recurrence_till.$error.required">{{'general.required_field' |translate}}</span>
                </div>
            </div>
            <div class="form-group col-sm-12">
                <label class="col-sm-3 p0" ng-if="addType">{{'calender.initiate_review' | translate}}  </label>
                <label class="col-sm-3 p0" ng-if="!addType">{{'calender.initiate_workflow' | translate}}  </label>
                <div class="col-sm-9">
                    <div class="onoffswitch">
                        <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox"
                                ng-true-value="1" ng-false-value="0"
                                ng-model="customOptions.auto_initiate"
                                ng-checked="customOptions.auto_initiate == 1"
                                id="auto_initiate" ng-disabled="(isEdit)?true:false">
                        <label class="onoffswitch-label assessment-switch mb-0"
                            for="auto_initiate">
                            <span class="onoffswitch-inner"></span>
                            <span class="onoffswitch-switch"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}
            </button>
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>
                {{'general.cancel' | translate}}
            </button>
        </div>
    </form>
</script>

<script type="text/ng-template" id="confirm-dialog.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{action | translate}} {{head | translate}} :
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <div class="modal-body clearfix" id="modal-body">
        <i ng-bind-html="val_data" id="val_data"></i><br>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-sm btn-primary" ng-click="saidOk()">
            <i class="fa fa-check"></i> {{'general.ok' | translate}}
        </button>
        <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-times"></i>
            {{'general.cancel' | translate}}
        </button>
    </div>
</script>
<script type="text/ng-template" id="myPopover.html">
    <div   class="pointer" ng-repeat="item in subTask.connected_contracts">
        <span style="color:#2196f3;" ng-click="detailsPage(item)">{{item.contract_name}}</span>
    </div>
</script>
<script type="text/ng-template" id="menuHeaderTemplate">
    <div></div>
</script>



<!-- parvathi code ends-->
<style>


/* .contract-card-group .contract-card-group-list .emptyTask{
    height: 35px;
    min-height: 35px;
} */

.sub-task-main .sub-task-parent .sub-task-indicator{
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 3px;
}

.sub-task-main  .sub-task-connected{
min-width: 58px;
width: 58px;
}


.sub-task-main{
    display: flex;
    margin-bottom: 0px !important;
    align-items: center;
    padding-bottom: 3px;
}

.sub-task-module .sub-task-main .sub-task-parent{
    border-bottom: 1px solid #ccc;
    display: flex;
    margin-right: 5px;
}

.sub-task-module .sub-task-main:last-child .sub-task-parent{
    border-bottom:none !important;
    border: none !important;
}
.sub-task-main .sub-task-parent .sub-task-progress {
    min-width: 35px;
    text-align: center;
}

.sub-task-parent .sub-task-status{
    min-width: 250px;
    width: 250px;
    color: #2196f3;
    padding: 0px 15px;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    word-wrap: break-word;
}

    .modal-dialog {
        max-width: 800px !important;
        margin: 30px auto;
    }

    .panel-body .attachments_block {
        padding: 10px !important;
    }

    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: #ccc;
        border-bottom: 1px solid #ccc;
    }

    .nav-tabs .nav-item {
        margin-bottom: 0px;
        padding: 0;
    }

    .tab-content .tab-pane {
        padding: 10px;
    }

    .nav-tabs .nav-item .nav-link {
        background: #FFF;
        color: #464646;
        text-align: center;
        min-width: 165px;
        border: 1px solid #ccc;
        border-bottom: none;
    }

    .nav-tabs .nav-item.active .nav-link {
        background: #efefef5e;
        border-bottom-color: #FFF;
        border: 1px solid #ccc;
        border-bottom: 1px solid #f9f9f9;
        margin-bottom: -1px;
        position: relative;
    }

    /* .nav-tabs .nav-item.active .nav-link::before {
        content: '';
        display: block;
        width: 100%;
        height: 4px;
        background-color: #efefef5e;
        position: absolute;
    } */

    .provider-project{
        width:30%;
    }
    .category-project{
        width:22%;
    }
    .profile-project{
        width:13%;
    }
    .apprstatus-project{
        width:15%;
    }
    .status-project{
        width:10%;
    }
    .action-project{
        width:10%;
    }

    .name-relProject{
        width:20%;
    }
    .company-relProject{
        width:20%;
    }
    .email-relProject{
        width:25%;
    }
    .contribution-relProject{
        width:15%;
    }
    .status-relProject{
        width:10%;
    }
    .action-relProject{
        width:10%;
    }

    .module-action{
        width:20%;
    }
    .item-action{
        width:20%;
    }
    .response-action{
        width:20%;
    }
    .duedate-action{
        width:10%;
    }
    .priority-action{
        width:10%;
    }
    .statu-action{
        width:10%;
    }
    .action-actions{
        width:10%;
    }

    .contract-card-group .contract-card-group-list .emptyTask{
    height: 30px;
    min-height: 30px;
    }
    .icons-widget .contract-card-group .contract-card-group-list .emptyTask{
    padding: 5px 0;
    }
    .contract-group-icons {
    padding: 4px 0;
    }



    .accordion-default .panel-body ul {
        background: #fff;
    }

    .nav.nav-tabs li:last-child {
        padding-right: 0px;
        margin: 0;
        margin-left: 0.2rem;
    }

    .accordion-default .panel-body ul {
        padding: 0;
        list-style: none;
        background: #fff;
    }

    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: transparent;
        border-bottom: transparent;
    }

    .modal-dialog .nav-tabs {
        background: #fff;
    }

    .modal-dialog .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .modal-dialog .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .modal-dialog .tab-content {
        border: 1px solid #ccc;
    }

    .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .tab-content {
        border: 1px solid #ccc !important;
        background-color: #f9f9f9;
    }

    .card-block .tab-content {
        margin-top: 0;
        height: 194px;
        overflow-y: auto;
    }

    .alternate-div-bag>div:nth-of-type(odd) {
        background: #e0e0e047;
    }

    .pl5 {
        padding-left: 5px;
    }

    .pr5 {
        padding-right: 5px;
    }

    .hover-show-icon {
        display: none;
    }

    .hover-icon-cls:hover .hover-show-icon {
        display: inline;
    }
    .review-content {
        margin-bottom: 8px !important;
        padding-bottom: 5px !important;
    }
    .contract-details-status{
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    .connected-projects-list{
        padding: 8px 20px 8px 30px!important;
        margin: 0;
    }
    .connected-projects-list li{
        display: flex;
        justify-content: space-between;

    }
    .connected-projects-list li span.project-connected{
        width: 70%;
        min-width: 70%;
    }
    .w130{
        width:137px;
    }
    .connected-project-block{
        padding: 0px !important;
    }
    .attach-delete .icon-trash:before {
            position: relative;
            top: 3px;
            font-size: 20px;
    }
   
    .icon-trash{
      font-size: 20px;
    }

    .w210{
        width:210px! important;
    }

    .calendar-popup .modal-dialog{
        max-width: 600px !important;
    }
    .d-flex{
        display: flex;
    }
.align-items-center{
    align-items: center;
}
.refresh-icon{
        width: 18px;
        height: 18px;
        min-width: 18px;
    }

    .accordion-default .panel-body {
        padding: 0 !important;
    }
    .modal-open .accordion-default .panel-title a.accordion-toggle span i.glyphicon.chevironAlign{
        margin-top: 4px;
    }
    .modal-open .accordion-default .panel-title a.accordion-toggle span .glyphicon.fa.fa-paperclip{
        margin-top: 0px;
    }

    .otherGender{
        padding: 0 5px;
    }



    /* .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link {
        background: #fff;
        color: #464646;
    } */


    .ui-tabs-scrollable>.nav-button.left-nav-button:before {
        content: "\f053";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.nav-button.right-nav-button:before {
        content: "\f054";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.dropdown>.dropdown-toggle:before {
        content: "\f078";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable .dropdown-toggle::after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs>li>a {
        height: 36px;
    }

    .dropdown-menu li.active a,
    .ui-tabs-scrollable>.nav-button {
        color: #000;
    }

    .ui-tabs-scrollable>.nav-button {
        height: 36px;
        line-height: 36px;
    }


    .custom-scroll-tabs-contract .nav-tabs .nav-item.current .nav-link {
        background: #ffffff;
        color: #000;
    }

    .custom-scroll-tabs-contract .nav-tabs .current.nav-item .nav-link {
        border-bottom: 0px solid #cccccc;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link {
        border-bottom: 1px solid #cccccc;
        min-width: auto;
        position: relative;
        background: #fff;
        color: #464646;
        margin-right: 4px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link:after {
        content: '';
        position: absolute;
        width: 4px;
        height: 1px;
        background: #ccc;
        bottom: -1px;
        right: -5px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item:last-child .nav-link:after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs {
        border-bottom: 0px solid #cccccc;
        /* z-index: 999999; */
        position: relative;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content {
        margin-top: -2px;
        border-top: 1px solid #ddd;
    }

    .custom-scroll-tabs-contract>ul {
        width: calc(100% - 4px);
    }

    .ui-tabs-scrollable.show-drop-down>.nav-button.right-nav-button {
        /* right: 30px; */
        right: 0px;
        border-left: 2px solid #d0d0d0;
    }

    .ui-tabs-scrollable .nav.nav-tabs {
        width: calc(100% + 25px);
    }

    .ui-tabs-scrollable>.dropdown {
        /* right: 35px; */
        display: none;
    }

    .ui-tabs-scrollable>.nav-button.left-nav-button {
        border-right: 2px solid #ccc !important;
        border: 1px solid #ccc;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content>.active {
        /* height: 100%; */
        overflow: visible
    }
    .relation-active td{
        background-color: #a9d18e !important;
    }



    @media(min-width: 1401px) {
        .action-project{
        width:7% !important;
        }
        .action-relProject{
        width:7% !important;
        }
        .action-actions{
        width:7% !important;
        }
    }

    @media(max-width: 1199px){
        .planned-list td,
        .planned-list th,
        .open-action-list th,
        .open-action-list td{
            font-size: 12px;
        }
        .planning-des{
            width:20%;
        }
        .planning-action{
            width:10%;
        }
        
        mwl-calendar .cal-month-box .cal-row-head [class*=cal-cell] {
            max-height: 25px !important;
            min-height: 25px !important;
            font-size: 10px;
        }
        .calender-widget .btn {
            padding: 5px 10px;
        }
        .nav-tabs .nav-item .nav-link {
            min-width: 140px;
        }
    }
    

    @media(max-width:1080px){
        .nav-tabs .nav-item .nav-link {
            min-width: 110px;
        }
    }
</style>
