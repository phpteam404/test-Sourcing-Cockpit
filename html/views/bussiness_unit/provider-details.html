<div class="animated fadeIn">
    <div class="card-group col-lg-12 p0 contract-details">
        <div class="row">
            <div class="col-lg-8 pl0 large-widget provider-tooltip">
                <div class="card col-lg-12 p0">
                    <h5>{{provider.provider_name}}</h5>
                    <div class="card-block border-left-none">
                        <div class="h4 m-b-0">{{'providers.id' | translate}}</div>
                        <span class="widget-span">{{provider.unique_id | checkEmpty}}</span>
                       
                    </div>
                    <div class="card-block">
                        <div class="h4 m-b-0">{{relationLabelnames[0]}}
                        <i class="fa fa-question-circle-o"  style="font-size:14px;" tooltip-placement="bottom" ng-if="provider.label_1_comment" uib-tooltip="{{provider.label_1_comment}}"></i>
                    </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.risk_profile == 'R'">
                            <span class="red-active"></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.risk_profile == 'A'">
                            <span class=""></span>
                            <span class="amber-active"></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.risk_profile == 'G'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class="green-active"></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="!provider.risk_profile">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.risk_profile =='N/A'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>

                    </div>

                    <!-- New open-->
                    <div class="card-block">
                                     <div class="h4 m-b-0">{{relationLabelnames[1]}}
                            <i class="fa fa-question-circle-o" style="font-size:14px;"  tooltip-placement="bottom" ng-if="provider.label_2_comment"  uib-tooltip="{{provider.label_2_comment}}"></i>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.approval_status == 'R'">
                            <span class="red-active"></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.approval_status == 'A'">
                            <span class=""></span>
                            <span class="amber-active"></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.approval_status == 'G'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class="green-active"></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="!provider.approval_status">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <!-- <span class="" ng-if="provider.approval_status == 'N/A'">
                        </span> -->
                        <div class="status-widget font-weight-bold" ng-if="provider.approval_status =='N/A'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>

                    </div>




                     <div class="card-block">
                        <div class="h4 m-b-0">{{relationLabelnames[2]}}
                            <i class="fa fa-question-circle-o" style="font-size:14px;"  tooltip-placement="bottom" ng-if="provider.label_3_comment"  uib-tooltip="{{provider.label_3_comment}}"></i>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.finacial_health == 'R'">
                            <span class="red-active"></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.finacial_health == 'A'">
                            <span class=""></span>
                            <span class="amber-active"></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.finacial_health == 'G'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class="green-active"></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="!provider.finacial_health">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>
                        <div class="status-widget font-weight-bold" ng-if="provider.finacial_health =='N/A'">
                            <span class=""></span>
                            <span class=""></span>
                            <span class=""></span>
                        </div>

                    </div>
                    <!-- New close -->
                      <div class="card-block">
                        <div class="h4 m-b-0">{{'providers.total_value' | translate}}</div>
                        <span class="widget-span "> {{provider.total_spent | currency : provider.currency_name+' ':0 |checkEmpty}}</span>
                       
                    </div>
                   
                </div>
            </div>
           

           
            <div class="col-lg-4 icons-widget pr0">
                <div class="card-group">
                   
                    <div class="card">
                        <div class="card-block" ng-click="goToProviderLogs()">
                            <div class="h2 text-xs-center">
                                <i class="icon-template-manage"></i>
                            </div>
                            <small class="text-center font-weight-bold">{{'contract.log' | translate}}</small>
                        </div>
                    </div>
                 
                    <div class="card" ng-if="provider.status==1">
                        <div class="card-block hand-symbol provider-status-active">
                            <div class="h2 text-xs-center">
                                <i class="fa fa-check-circle"></i>
                            </div>
                            <small class="text-center font-weight-bold">{{'providers.relation_active'|translate}}</small>
                        </div>
                    </div>

                    <div class="card" ng-if="provider.status==0">
                        <div class="card-block hand-symbol provider-status-inactive">
                            <div class="h2 text-xs-center">
                                <i class="fa fa-times-circle"></i>
                            </div>
                            <small class="text-center font-weight-bold">{{'providers.relation_inactive'|translate}}</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-12 p0">
        <div class="row">
            <div class="col-sm-8 col-lg-8 pl0 info-tabs-div custom-scroll-tabs-contract">
                <!-- tabs 1 start -->
                <scrollable-tabset api="scrlTabsApi" tooltip-left-placement="top"
                                   drop-down-header-template-url="menuHeaderTemplate" 
                                   drop-down-header-class="menuHeader">

                <uib-tabset active="active">
                    <uib-tab index="0" heading="{{'providers.relation_info' | translate}}">
                        <div class="card">                            
                            <div class="card-block card-space">                        
                                <div class="clearfix">
                                    <a href="javascript:;" class="edit-card" style="margin-top: 5px;margin-right: 10px;"
                                       ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))" 
                                       ng-click="updateProviderDetails(data,1)"><i class="fa fa-pencil"></i>
                                    </a>
                                    <div class="col-md-12 p0" style="margin-top: 10px;">
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.provider_name' | translate}}</span>
                                                <p>{{provider.provider_name | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.address' | translate}}</span>
                                                <p>{{provider.company_address | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.city' | translate}}</span>
                                                <p class="text-wdgt">{{provider.city | checkEmpty }}
                                                </p>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.country' | translate}}</span>
                                                <p class="text-wdgt ">{{provider.country_name | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.vat' | translate}}</span>
                                                <p>{{provider.vat | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'providers.postal_code' | translate}}</span>
                                                <p class="text-wdgt">{{provider.postal_code  | checkEmpty}}</p>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'contract.status' | translate}}</span>
                                                <p class="text-wdgt" ng-if="provider.status ==1">{{'general.active' | translate}}</p>
                                                <p class="text-wdgt" ng-if="provider.status ==0">{{'general.inactive' | translate}}</p>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <span class="label-control">{{'category-relation.category' | translate}}</span>
                                                <p class="text-wdgt">{{provider.category_name | checkEmpty}}</p>
                                            </div>
                                        </div>
                                       
                                    </div>                                    
                                    <!-- <div class="col-sm-8 discription-hover">
                                        <div class="form-group">
                                            <span class="label-control">{{'providers.description' | translate}}</span>
                                            <p class="text-wdgt ellipsis2" style="word-wrap: break-word;-webkit-box-orient: vertical;">
                                                <i>{{provider.description | checkEmpty}}</i>
                                            </p>
                                        </div>
                                    </div> -->
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <span class="label-control">{{'providers.description' | translate}}</span>
                                            <p class="text-wdgt">
                                                <span style="white-space: pre-wrap;">{{provider.description | checkEmpty}}</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="1" heading="{{'providers.relation_tags' | translate}}">
                        <div class="card">                            
                            <div class="card-block card-space">
                                <div class="clearfix">
                                    <a href="javascript:;" style="margin-top: 5px;margin-right: 10px;"
                                    ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))"
                                        ng-click="updateProviderDetails(providertagsInfo,2)" class="edit-card"><i class="fa fa-pencil"></i></a>
                                        <div class="col-sm-12 tagsGrouping clearfix mb0" ng-repeat="tagDataBusiness in providertagsInfo track by $index" ng-if="!tagDataBusiness.bu_name">
                                            <div class="form-group col-sm-4 clearfix mb0" ng-repeat="tag in tagDataBusiness.tag_details"
                                                  style="margin-bottom: 0px;" ng-if="tag.tag_text =='Risk Profile'">
                                                  <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                                  <p ng-if="(tag.tag_answer==0 || tag.tag_answer==''  || tag.tag_answer==null)">---</p>
                                                       <div ng-repeat ="opt1 in tag.options" ng-if="tag.tag_answer && opt1.id_tag_option == tag.tag_answer">
                                                            <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                                                <span class="red-active"></span>
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                            </p>
                                                            <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                                                <span class=""></span>
                                                                <span class="amber-active"></span>
                                                                <span class=""></span>
                                                            </p>
                                                            <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                                <span class="green-active"></span>
                                                            </p>
                                                            <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                            </p>
                                                            <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name =='N/A'">
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                                <span class=""></span>
                                                                <!-- <span class=""></span> -->
                                                            </p>
                                                       </div>
                                               </div>
                                            <div  class="form-group col-sm-4 clearfix mb0" ng-repeat="tag in tagDataBusiness.tag_details"
                                                style="margin-bottom: 0px;" ng-if="tag.tag_text =='Approval Status'">
                                                <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                                <p ng-if="(tag.tag_answer==0 || tag.tag_answer==''  || tag.tag_answer==null)">---</p>
                                                <div ng-repeat ="opt1 in tag.options" ng-if="tag.tag_answer && opt1.id_tag_option == tag.tag_answer">
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                                        <span class="red-active"></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <!-- <span class=""></span> -->
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                                        <span class=""></span>
                                                        <span class="amber-active"></span>
                                                        <span class=""></span>
                                                        <!-- <span class=""></span> -->
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class="green-active"></span>
                                                        <!-- <span class=""></span> -->
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name =='N/A'">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <!-- <span class=""></span> -->
                                                    </p>
                                               </div>
                                            </div>
                                            <div class="form-group col-sm-4 clearfix mb0" ng-repeat="tag in tagDataBusiness.tag_details"
                                                style="margin-bottom: 0px;" ng-if="tag.tag_text !='Approval Status' && tag.tag_text !='Risk Profile'">
                                                <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                                <p ng-if="tag.tag_type == 'input'">
                                                    <span ng-if="tag.field_type && tag.field_type == 'currency'" title="{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}">
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{contractInfo.currency_name}}</span>
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}</span>
                                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay ==''  || tag.tagAnswerDisplay ==null)">---</span>
                                                    </span>
                                                    <span ng-if="tag.field_type && tag.field_type == 'number'" title="{{tag.tagAnswerDisplay}}">
                                                        <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay}}</span>
                                                        <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay =='' || tag.tagAnswerDisplay ==null)">---</span>
                                                    </span>
                                                    <span ng-if="tag.field_type && tag.field_type == 'text'" title="{{tag.tagAnswerDisplay}}">
                                                        {{tag.tagAnswerDisplay | checkEmpty}}
                                                    </span>
                                                </p>

                                                <!-- <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                                    <div ng-if="opt.name" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}" ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                                </div> -->

                                                <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                                    <div ng-if="opt.name && opt.can_access==1" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}"  ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                                    <div ng-if="opt.name && opt.can_access==0" title="{{opt.name}}">{{opt.name | checkEmpty}}</div>            
                                                </div>


                                                <div ng-if="!tag.selectedOption && tag.selected_field">---</div>
                            
                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'dropdown' && !tag.selected_field">
                                                    <span title="{{tag.tagAnswerDisplay | checkEmpty}}"> {{tag.tagAnswerDisplay | checkEmpty}}</span>
                                                </p>

                                                
                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'date'"  title="{{tag.tagAnswerDisplay | utcToLocal:'date'}}">
                                                    {{tag.tagAnswerDisplay | utcToLocal:'date' | isUndefinedOrNullOrZero}}
                                               </p>

                                                <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'radio'" title="{{tag.tagAnswerDisplay}}">
                                                {{tag.tagAnswerDisplay | checkEmpty}}
                                                </p>

                                               <span ng-if="tag.tag_type=='rag'">
                                                <p ng-if="(tag.tag_answer==0 || tag.tag_answer==''  || tag.tag_answer==null)">---</p>
                                                <div ng-repeat ="opt1 in tag.options" ng-if="tag.tag_answer && opt1.id_tag_option == tag.tag_answer">
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                                        <span class="red-active"></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                                        <span class=""></span>
                                                        <span class="amber-active"></span>
                                                        <span class=""></span>
                                                   
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class="green-active"></span>
                                                        <!-- <span class=""></span> -->
                                                   
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='N/A'">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </p>
                                                    <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </p>
                                               </div>
                                            </span>
                                               
                                            </div>
                                        </div>

                                        <div class="form-group col-sm-12 clearfix mb0 p-0" ng-repeat="tagDataBusiness in providertagsInfo track by $index" style="margin-bottom: 0px;" ng-if="tagDataBusiness.bu_name">
                                            <uib-accordion class="card widget2 inputs-accordion" style="margin-bottom:5px !important;width: 100%;" close-others="oneAtATime">
                                                <div uib-accordion-group class="panel-default" heading="Stakeholders"
                                                    template-url="group-template0.html" ng-init="open=false;" is-open="open">
                                                    <uib-accordion-heading ng-click="open= !open">
                                                        <span style="width: 20px;">
                                                            <i class="glyphicon" 
                                                                ng-class="{'fa-solid fa-caret-down': open,'fa-solid fa-caret-right': !open}" style="color: #000;font-size: 18px;"></i>
                                                        </span>
                                                        <span style="z-index: 2;background-color: #fff;padding-right: 5px;">{{tagDataBusiness.bu_name}} ({{tagDataBusiness.count}})</span>
                                                        <span ng-if="tagDataBusiness.status==0" style="background: #fff;z-index: 1;padding-right: 4px;">({{'general.inactive' | translate}})</span>
                                                    </uib-accordion-heading>
                                                    <div class="card-block" style="padding:7px 15px;">
                                                        <div class="col-md-12 p-0 tagsGrouping">
                                                        <div  class="form-group col-sm-4" ng-repeat="tag in tagDataBusiness.tag_details track by $index">
            
                                            <span class="label-control ellipis w_95" title="{{tag.tag_text}}">{{tag.tag_text | checkEmpty}}</span>
                                            <p ng-if="tag.tag_type == 'input'">
                                                <span ng-if="tag.field_type && tag.field_type == 'currency'" title="{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}">
                                                    <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{contractInfo.currency_name}}</span>
                                                    <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tag_answer !=null)">{{tag.tagAnswerDisplay | currency:' ':0 | checkEmpty}}</span>
                                                    <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay ==''  || tag.tagAnswerDisplay ==null)">---</span>
                                                </span>
                                                <span ng-if="tag.field_type && tag.field_type == 'number'" title="{{tag.tag_answer}}">
                                                    <span ng-if="tag.tagAnswerDisplay && (tag.tagAnswerDisplay!=0 || tag.tagAnswerDisplay !='' || tag.tagAnswerDisplay !=null)">{{tag.tagAnswerDisplay}}</span>
                                                    <span ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay =='' || tag.tagAnswerDisplay ==null)">---</span>
                                                </span>
                                                <span ng-if="tag.field_type && tag.field_type == 'text'" title="{{tag.tagAnswerDisplay}}">
                                                    {{tag.tagAnswerDisplay | checkEmpty}}
                                                </span>
                                            </p>
                                            <!-- <p class="text-wdgt ellipis w_95" ng-if="tag.selected_field" style="margin:0px;"> -->
                                                <!-- <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                                    <div ng-if="opt.name" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}" ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                                </div>
                                                <div ng-if="!tag.selectedOption && tag.selected_field">---</div> -->
                                            <!-- </p> -->
                                            <div ng-repeat="opt in tag.selectedOption" ng-if="tag.selected_field" style="margin:0px;">
                                                <div ng-if="opt.name && opt.can_access==1" style="color:#2196f3;cursor: pointer;" title="{{opt.name}}"  ng-click="detailsPageGo(opt,tag)">{{opt.name | checkEmpty}}</div>
                                                <div ng-if="opt.name && opt.can_access==0" title="{{opt.name}}">{{opt.name | checkEmpty}}</div>            
                                            </div>
                                            <div ng-if="!tag.selectedOption && tag.selected_field">---</div>
            
                                            <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'dropdown' && !tag.selected_field">
                                                <span title="{{tag.tagAnswerDisplay}}"> {{tag.tagAnswerDisplay | checkEmpty}}</span>
                                            </p>
            
                                            <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'date'"
                                                    title="{{tag.tagAnswerDisplay | utcToLocal:'date'}}">
                                                {{tag.tagAnswerDisplay | utcToLocal:'date' | isUndefinedOrNullOrZero}}
                                            </p>
            
                                            <p class="text-wdgt ellipis w_95" ng-if="tag.tag_type == 'radio'" title="{{tag.tagAnswerDisplay}}">
                                                    {{tag.tagAnswerDisplay | checkEmpty}}
                                            </p>
            
                                            <span ng-if="tag.tag_type=='rag'">
                                            <p ng-if="(tag.tagAnswerDisplay==0 || tag.tagAnswerDisplay==''  || tag.tagAnswerDisplay==null)">---</p>
                                            <div ng-repeat ="opt1 in tag.options" ng-if="tag.tagAnswerDisplay && opt1.tag_option_name == tag.tagAnswerDisplay">
                                                <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='R'" >
                                                    <span class="red-active"></span>
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                </p>
                                                <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'A'">
                                                    <span class=""></span>
                                                    <span class="amber-active"></span>
                                                    <span class=""></span>
                                                
                                                </p>
                                                <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name == 'G'">
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                    <span class="green-active"></span>
                                                
                                                </p>
                                                <p class="status-widget font-weight-bold" ng-if="opt1.tag_option_name=='N/A'">
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                </p>
                                                <p class="status-widget font-weight-bold" ng-if="!opt1.tag_option_name">
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                    <span class=""></span>
                                                </p>
                                            </div>
                                        </span>   
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-accordion>            
                            </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="2" heading="{{'providers.relation_users' | translate}} ({{usersListCount>0?usersListCount:0}})">
                      <div class="card">
                            <div class="card-block card-space">                                
                                <div>
                                    <table class="table table-custom table-striped table-hover" st-pipe="getProviderusers" st-table="usersList">
                                        <thead>
                                            <tr>
                                                <td colspan="12">
                                                    <div class="col-sm-12 clearfix p0">
                                                        <div class="action-head mb0">
                                                                <div class="onlyactive1">
                                                                        <span class="mrg-space">{{'general.active_only' | translate}}</span>
                                                                        <div class="onoffswitch">
                                                                            <input type="checkbox" name="onoffswitch_toggle" class="onoffswitch-checkbox"
                                                                                ng-true-value="1" ng-false-value="0"
                                                                                ng-model="req.status"
                                                                                ng-checked="req.status == 1"
                                                                                ng-change="getExtUsersByStatus(req.status)"
                                                                                id="status">
                                                                            <label class="onoffswitch-label assessment-switch mb-0"
                                                                                    for="status">
                                                                                <span class="onoffswitch-inner"></span>
                                                                                <span class="onoffswitch-switch"></span>
                                                                            </label>
                                                                        </div>
                                                                      </div> 
                                                            <span class="pull-right ml-h" ng-show="(user.access=='ca' || user.access=='bo'|| user.access=='bm')">
                                                                <button class="btn btn-sm btn-primary btn-radius" ng-click="addProviderUsers()" type="button">
                                                                    <i class="icon-plus"></i>&nbsp; {{'general.ADD' | translate}}
                                                                </button>
                                                            </span>
                                                            <div class="col-sm-3 p0 table-search pull-right">
                                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}" st-search="search_key" st-input-event="change">
                                                                <i class="fa icon-search"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="name-relation" st-sort="name">{{'customer.admin.name' | translate}}</th>
                                                <th class="company-relation"st-sort="provider_name">{{'contract.company' | translate}}</th>
                                                <th class="email-relation" st-sort="email">{{'user.profile.email' | translate}}</th>
                                                <th class="contribution-relation" st-sort="contribution">{{'contract.contribution' | translate}}</th>
                                                <th class="status-relation" st-sort="user_status">{{'general.status' | translate}}</th>
                                                <th class="action-relation" style="width:10%;">{{'general.actions' | translate}}</th>
                                              
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!isLoading">
                                            <tr ng-repeat="row in usersList">
                                                
                                                <td class="name-relation custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.name}}</span>
                                                </td>
                                                <td class="company-relation custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.provider_name | checkEmpty}}</span>
                                                </td>
                                                 <td class="email-relation custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.email}}</span>
                                                </td>
                                                 <td class="contribution-relation custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.contribution | checkEmpty}}</span>
                                                </td>
                                                <td class="status-relation">
                                                    <span  ng-if="row.user_status == 1 && row.contribution_type!=='2'" class="green">{{'general.active' | translate}}</span>
                                                    <span  ng-if="row.user_status == 0 && row.contribution_type!=='2'" class="red">{{'general.inactive' | translate}}</span>
                                                    <span  ng-if="row.contribution_type =='2'">---</span>
                                                </td>
                                                <td  class="action-relation" style="width:10%;">
                                                    <a href="javascript:;" 
                                                    ng-if = "(user.access!='ro' && user.access!='bd')"
                                                       class="icon-edit gray"
                                                        ng-click="showForm(row)" title="Edit">
                                                    </a>
                                                    <span href="javascript:;" ng-if="(user.access!='ro' && user.access!='bd') && (row.user_status == 0 || row.contribution_type=='2')"
                                                          class="fa fa-trash pointer" ng-click="deleteExternalUser(row)" title="{{'general.delete'|translate}}">
                                                          
                                                    </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="isLoading">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                      
                                        <tbody ng-show="emptyTable1">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}} </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="8">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="usersListCount>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages(displayCount)"
                                                                ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>                                
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="3" heading="{{'user.breadcrumb.action_items' | translate}} ({{reviewListCount>0?reviewListCount:0}})">
                        <div class="card">
                            <div class="card-block card-space">                                
                                <div>
                                    <table class="table table-custom table-striped table-hover contract-details-table" st-pipe="reviewAction"
                                        st-table="contractsList">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-4 p0">
                                                        <!-- <h6 class="">{{'contract.review_action_items' | translate}}
                                                            ({{reviewListCount>0?reviewListCount:0}})
                                                        </h6> -->
                                                    </div>
                                                    <div class="col-sm-8 clearfix p0">
                                                        <div class="action-head mb0 clearfix">
                                                            <div class="pull-right" style="padding-left:5px !important;"
                                                               ng-if ="access !='eu' && user.access !='ro'">
                                                                <a class="" ng-click="createContractReview('','add')">
                                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                                        <i class="icon-plus-circle"></i> &nbsp;{{'general.ADD'|translate}}
                                                                    </button>
                                                                </a>
                                                            </div>
                                                            <div class="col-sm-7 p0 table-search pull-right">
                                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                    st-search="search_key" st-input-event="change">
                                                                <i class="fa icon-search"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th class="module-action" st-sort="module_name">{{'module.module' | translate}}</th>
                                                <th class="item-action"st-sort="action_item">{{'contract.action_item' | translate}}</th>
                                                <th class="response-action"st-sort="user_name">{{'contract.responsible' | translate}}</th>
                                                <th class="duedate-action"st-sort="due_date">{{'contract.due_date' | translate}}</th>
                                                <th class="priority-action"st-sort="priority">{{'contract.priority' | translate}}</th>
                                                <th class="statu-action"st-sort="status">{{'general.status' | translate}}</th>
                                                <th class="action-actions" style="width:10%;">{{'general.actions' |translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!isLoading">
                                            <tr ng-repeat="row in reviewList">
                                                <td class="module-action custom-ellipsis">
                                                    <span class="ellipsis-block" title="{{row.module_name}}">{{row.module_name | checkEmpty}}</span>
                                                </td>
                                                <td class="item-action custom-ellipsis">
                                                    <a ng-if="row.vaav=='itako'" class="ellipsis-block" href="javascript:;"
                                                        ng-click="updateContractReview(row,'view')" title="{{row.action_item}}">{{row.action_item}}</a>
                                                    <span ng-if="row.vaav!='itako'" class="ellipsis-block" title="{{row.action_item}}">{{row.action_item}}</span>
                                                </td>
                                                <td class="response-action custom-ellipsis">
                                                    <span class="ellipsis-block orange" title="{{row.user_name}}">{{row.user_name}}</span>
                                                </td>
                                                <td class="duedate-action custom-ellipsis">
                                                    <span class="ellipsis-block" title="{{row.due_date | utcToLocal:'date'}}" ng-class="(row.overdue=='1') ?'overdue-date': ''">{{row.due_date | utcToLocal:'date' | checkEmpty}}</span>
                                                </td>
                                                <td class="priority-action custom-ellipsis">
                                                    <span class="ellipsis-block">{{row.priority | checkEmpty}}</span>
                                                </td>
                                                <td class="statu-action">
                                                    <span class="green" ng-if="row.status == 'Completed'">{{row.status}}</span>
                                                    <span class="" ng-if="row.status == 'Open'">{{row.status}}</span>
                                                    <span class="red" ng-if="row.status == 'Due'">{{'contract.due' | translate}}</span>
                                                </td>
                                                <!-- <td>
                                                    <a href="#" ng-if="row.daad == 'itako' && user1.iroori != 'itako'" 
                                                    ng-click="deleteContractActionItem(row)"
                                                        title="{{'general.delete' | translate}}">
                                                        <i class="icon-trash"></i>
                                                    </a>
                                                   
                                                </td> -->
                                                <td class="action-actions" style="width:10%;">
                                                    <span ng-if="row.daad == 'itako' && user1.iroori != 'itako'" 
                                                        class="pointer gray" ng-click="deleteContractActionItem(row)"> 
                                                        <i class="fa fa-trash" style="font-size:15px;"></i></span>
                                                        <span ng-if="user1.iroori == 'itako' || row.daad != 'itako'">---</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="isLoading">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="emptyTable">
                                            <tr>
                                                <td colspan="8" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="8">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecords1>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages1(displayCount)"
                                                                ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>                                
                            </div>
                        </div>
                    </uib-tab>              
                    <uib-tab index="4" heading="{{'providers.relation_contracts' | translate}} ({{subContractCount>0?subContractCount:0}}) ">
                        <div class="card">
                            <div class="card-block card-space">                      
                                <div class="" st-pipe="callServerSubContract" st-table="subContractsList">
                                    <table class="table table-custom table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-12 clearfix p0">
                                                        <div class="col-sm-4 p0">
                                                           
                                                        </div>
                                                        <div class="col-sm-8 clearfix p0">
                                                            <div class="action-head clearfix mb0">
                                                                <div class="col-sm-7 p0 table-search pull-right">
                                                                    <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                        st-search="search_key" st-input-event="change">
                                                                    <i class="fa icon-search"></i>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th st-sort="contract_name" class="relation-contract-name">{{'contract.contract_name' | translate}}</th>
                                                <th st-sort="relationship_category_name" class="relation-category-name">{{'contract.category' | translate}}</th>
                                                <th class="hand-symbol" class="relation-owner-name">{{'contract.owner' | translate}}</th>
                                                <th class="hand-symbol" class="relation-delegate-name">{{'contract.delegate' | translate}}</th>
                                                <th class="pointer" st-sort="Projected_value" class="relation-projected-value">{{'contract.contracts_value' | translate}}</th>
                                                <th st-sort="provider_name" class="relation-last-review">{{'contract.last_review' | translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!isSubLoading">
                                            <tr ng-repeat="row in subContractsList">
                                                <td class="relation-contract-name custom-ellipsis">
                                                    <span ng-if="row.is_accessable==1 && (row.is_disable_click==0 || row.is_disable_click==1)" class="ellipsis-block">
                                                        <a href="{{app_url}}/#/all-contracts/view/{{row.contract_name}}/{{row.id_contract| encode}}?type=review"   uib-tooltip="{{row.contract_name}}"
                                                        ng-click="goToContractDetails(row)">{{row.contract_name}}</a>
                                                    </span>
                                                    <!-- <span ng-if="row.is_accessable==1 && row.is_disable_click==1">
                                                        <a href="#" class="skyblue ellipis w150 " title="{{row.contract_name}}">{{row.contract_name}}</a>
                                                    </span> -->
                                                    <span ng-if="row.is_accessable==0 && row.is_disable_click ==0">
                                                        <a href="#" class="skyblue ellipsis-block  gray hand-symbol" uib-tooltip="{{row.contract_name}}">{{row.contract_name}}</a>
                                                    </span>
                                                </td>
                                               
                                                <td class="relation-category-name">
                                                    <span uib-tooltip="{{row.relationship_category_name}}" class="gray" ng-if="row.is_accessable==0">{{row.relationship_category_short_name |  checkEmpty}}</span>
                                                    <span uib-tooltip="{{row.relationship_category_name}}" ng-if="row.is_accessable==1">{{row.relationship_category_short_name |  checkEmpty}}</span>
                                                </td>
                                                <td class="relation-owner-name custom-ellipsis">
                                                    <span class="ellipsis-block gray" uib-tooltip="{{row.bu_owner}}" ng-if="row.is_accessable==0">{{row.bu_owner|  checkEmpty}}</span>
                                                    <span class="ellipsis-block" uib-tooltip="{{row.bu_owner}}" ng-if="row.is_accessable==1">{{row.bu_owner|  checkEmpty}}</span>
                                                </td>
                                                <td class="relation-delegate-name custom-ellipsis">
                                                    <span ng-if="row.is_accessable==0" class="ellipsis-block gray" uib-tooltip="{{row.bu_delegate}}"> {{row.bu_delegate  | checkEmpty}}</span>
                                                    <span ng-if="row.is_accessable==1" class="ellipsis-block" uib-tooltip="{{row.bu_delegate}}">{{row.bu_delegate  | checkEmpty}}</span>
                                                </td>
                                                <td class="relation-projected-value custom-ellipsis">
                                                    <span class="ellipsis-block" uib-tooltip="{{row.Projected_value | currency : row.currency_name+' ':0}}" ng-if="row.is_accessable==1">
                                                        {{row.Projected_value | currency : row.currency_name+' ':0 |checkEmpty}}
                                                    </span>
                                                    <span uib-tooltip="{{row.Projected_value | currency : row.currency_name+' ':0}}" class="gray ellipsis-block" ng-if="row.is_accessable==0">
                                                        {{row.Projected_value | currency : row.currency_name+' ':0 |checkEmpty}}
                                                    </span>
                                                </td>
                                                <td  class="relation-last-review" ng-if="row.score == 'Amber'" style="max-width:100px;min-width: 100px;width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class="amber-active"></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td class="relation-last-review" ng-if="row.score == 'Red'" style="max-width:100px;min-width: 100px;width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class="red-active"></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td  class="relation-last-review" ng-if="row.score == 'Green'" style="max-width:100px;min-width: 100px;width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class="green-active"></span>
                                                    </div>
                                                </td>
                                                <td class="relation-last-review" ng-if="!row.score" style="max-width:100px;min-width: 100px;width: 100px;">
                                                    <div class="status-widget font-weight-bold">
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                        <span class=""></span>
                                                    </div>
                                                </td>
                                                <td class="relation-last-review" ng-if="row.approval_status == 'N/A'">
                                                    <span class="" style="font-size: 16px;">{{row.score}}</span>
                                                </td>
                                               
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="isSubLoading">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="emptySubTable">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="7">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecords2>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages2(displayCount)"
                                                                 ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab index="5" heading="{{'providers.relation_Event_feed' | translate}} ({{totalRecordsEvent}})">
                        <div class="card">
                            <div class="card-block card-space">                      
                                <div class="" st-pipe="getEventFeed" st-table="eventList">
                                    <table class="table table-custom table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <td colspan="10">
                                                    <div class="col-sm-4 p0">
                                                    </div>
                                                    <div class="col-sm-8 clearfix p0">
                                                        <div class="action-head mb0 clearfix">
                                                            <div class="pull-right" style="padding-left:5px !important;"
                                                            ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                                                <a class="" ng-click="createEventFeed()">
                                                                    <button type="button" class="btn btn-sm btn-primary btn-radius ng-scope">
                                                                        <i class="icon-plus-circle"></i> &nbsp;{{'general.ADD'|translate}}
                                                                    </button>
                                                                </a>
                                                            </div>
                                                            <div class="col-sm-7 p0 table-search pull-right">
                                                                <input type="text" class="form-control" placeholder="{{'general.search' | translate}}"
                                                                    st-search="search_key" st-input-event="change">
                                                                <i class="fa icon-search"></i>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <th st-sort="subject" class="event-subject">{{'notification.subject' | translate}}</th>
                                                <th st-sort="type" class="event-type">{{'general.type' | translate}}</th>
                                                <th st-sort="responsible_user_name" class="hand-symbol event-responsible">{{'contract.responsible_user_id' | translate}}</th>
                                                <th st-sort="stakeholders" class="hand-symbol event-stakholders">{{'providers.stake_holders' | translate}}</th>
                                                <th st-sort="date" class="pointer event-date" st-sort="Projected_value">{{'questions.date' | translate}}</th>
                                                <th class="event-actions" style="text-align: right;padding-right: 20px;">{{'tags.actions' | translate}}</th>
                                            </tr>
                                        </thead>
                                        <tbody ng-show="!eventLoading">
                                            <tr ng-repeat="row in eventList">
                                                <td class="event-subject custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.subject}}">{{row.subject | checkEmpty}}</span>
                                                </td>    
                                                <td class="event-type custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.type}}">{{row.type | checkEmpty}}</span>
                                                </td>    
                                                <td class="event-responsible custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.responsible_user_name}}">{{row.responsible_user_name | checkEmpty}}</span>
                                                </td>    
                                                <td class="event-stakholders custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.stakeholders}}">{{row.stakeholders | checkEmpty}}</span>
                                                </td>                                            
                                                <td class="event-date custom-ellipsis" style="padding:0.7rem 0.4rem;;">
                                                    <span class="ellipsis-block" title="{{row.date| utcToLocal:'date'}}">{{row.date| utcToLocal:'date' | checkEmpty}}</span>
                                                </td>                                            
                                                <td class="event-actions pointer" style="text-align: right;padding:0.7rem 0.4rem;;">
                                                            <i ng-if="row.attachment.all_records!=''" class="icon-attachment f13 skyblue" style="position: relative;padding: 0 5px;top: 4px;" title="Add Attachments" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" ng-click="eventAttachment(row)">
                                                                <span class="count" style="top: -15px;right: 2px;" ng-if="row.attachment.all_records.length>0">{{row.attachment.all_records.length}}</span>
                                                            </i>
                                                    <span ng-if="row.description!=null" style="padding-right: 5px; vertical-align: middle;width:20px; display:inline-block;" tooltip-class="customClass" tooltip-placement="top" tooltip-append-to-body="true" uib-tooltip="{{row.description}}">
                                                        <img style="width:16px; margin-bottom: 4px;" src="img/Comments.svg" alt="">
                                                    </span>
                                                    <span style="padding-right: 5px;width:15px; display:inline-block;" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'" title="{{'general.edit' | translate}}" ng-click="createEventFeed(row)">
                                                        <i class="fa fa-pencil pointer"></i>
                                                    </span>
                                                    <span style="display:inline-block;" title="{{'general.delete' | translate}}" ng-click="deleteEventFeed(row)" ng-if ="access =='ca' || access =='bo' || access =='bd' ||access=='bm'">
                                                            <i class="fa fa-trash pointer" style="font-size: 15px;"></i>
                                                    </span>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="eventLoading">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.loading' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tbody ng-show="eventEmptyTable">
                                            <tr>
                                                <td colspan="7" class="text-sm-center">{{'general.no_data' | translate}}</td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td class="text-center" colspan="8">
                                                    <div class="paginator">
                                                        <span class="paginator-num" st-pagination="" st-items-by-page="displayCount" class="text-sm-center"></span>
                                                        <span class="paginator-dropdown" ng-if="totalRecordsEvent>10">
                                                            <label>{{'general.records_per_page' | translate}}&nbsp;</label>
                                                            <select ng-model="displayCount" ng-change="defaultPages(displayCount)"
                                                                ng-options="item for item in pagesNumber" selected>
                                                            </select>
                                                        </span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                </uib-tabset>
            </scrollable-tabset>
                <!-- tabs 1 end -->
            </div>
            <div class="col-sm-4 col-lg-4 pr0">
                <!-- Accordion starts-->
               
               
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders" template-url="group-template.html"
                        ng-init="open1=false;" is-open="open1" is-disabled="(user.access=='eu')">
                        <uib-accordion-heading ng-click="open1= !open1">
                            <i class="glyphicon fa fa-paperclip"></i> {{'providers.relation_Attachments' | translate}}
                            <span uib-dropdown on-toggle="toggled(open1);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-disabled="user.user_type=='external'|| user1.user_type=='external'"
                                    ng-click="$event.stopPropagation();" style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray"  ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))"
                                    ></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown" dropdown-append-to-body="true"
                                    uib-dropdown-menu aria-labelledby="simple-dropdown"  ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))"
                                    >
                                    <!-- <li>
                                        <a href="#" style="border-bottom: 0px !important;padding: 10px;" ng-click="$event.stopPropagation();uploadDoc()">{{'general.manage'
                                            | translate}}</a>
                                    </li> -->
                                    <li>
                                        <a href="#" style="border-bottom: 0px !important;padding: 10px;" ng-click="$event.stopPropagation();updateProviderDetails(data,3)">{{'general.manage'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 0px !important;" ng-class="{'fa fa-chevron-up  pull-right': open1,'fa fa-chevron-down  pull-right': !open1}"></i>
                        </uib-accordion-heading>
                        <div class="card-block  pt-h pb-h attachments_block attach-delete">
                            <!-- <uib-tabset active="active" ng-init="active=0;">
                                <uib-tab index="0" heading="Provider attachments"> -->
                                    <div class="attachment-widget" ng-repeat="a in provider.unique_attachment.all_records"
                                        style="padding-bottom: 0px;">
                                        <!-- <p ng-if="provider.unique_attachment.all_records.length>0">
                                            <a class="ellipis attachment-fileHead f12" href="javascript:;" title="Download"
                                                ng-click="getDownloadAttachmentUrl(a)" ng-if="a.document_type==0">
                                                <i class="icon-arrow-down-circle f16"></i>&nbsp;{{a.document_name}}</a>

                                            <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}" ng-if="a.document_type==1">
                                                <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>
                                            
                                                <span ng-if="user.access == 'ca'">
                                                    <span class="tss-lock"  style="color: red;cursor:pointer; font-size: 20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                                    <span class="tss-unlock" style="color: green;cursor:pointer; font-size: 20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                                                </span>
                                       
                                            <a href="#" class="gray" ng-if="user.access == 'ca'">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="icon-trash m-t-1"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                          
                                            <span style="display: block;font-size: 11px; padding-left: 18px;" class="mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'date' | checkEmpty}}</span>
                                            </span>
                                        </p> -->
                                        <p ng-if="provider.unique_attachment.all_records.length>0" class="f12">
                                            <a class="ellipis attachment-fileHead f12" href="javascript:;" title="Download"
                                                ng-click="getDownloadAttachmentUrl(a)"  ng-if="a.document_type==0">
                                                <!-- <i class="icon-arrow-down-circle f16" style="vertical-align: middle;"></i>&nbsp;{{a.document_name}}</a> -->
                                                <!-- <i class="fa fa-download" style="vertical-align: middle;"></i>&nbsp;{{a.document_name}}</a> -->
                                                <i class="fa fa-download" style="vertical-align: middle;padding-right: 6px;"></i>{{a.document_name}}</a>

                                                <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}" ng-if="a.document_type==1">
                                                <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>
                                            <span ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))">
                                                <span class="tss-lock attach-lock"  style="color: red;cursor:pointer; font-size: 20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                                <span class="tss-unlock attach-lock" style="color: green;cursor:pointer; font-size: 20px;" ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                                            </span>

                                            <a href="#" class="gray" ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1" style="position: relative; top:0px"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                                            </span>
                                        </p>
                                    </div>
                                    <p ng-if="provider.unique_attachment.all_records.length<=0" class="text-sm-center m-0">{{'attachment.no_attachment'
                                        | translate}}</p>
                                </uib-tab>
                                <!-- <uib-tab index="1" heading="Provider links">
                                    <div class="attachment-widget" ng-repeat="a in provider.unique_attachment.links"
                                        style="padding-bottom: 0px;">
                                        <p ng-if="provider.attachment.links.length>0">
                                            <a class="ellipis attachment-fileHead f12" ng-click="redirectUrl(a.document_source)"
                                                href="javascript:;" title="{{a.document_source}}">
                                                <i class="fa fa-link f16"></i>&nbsp;{{a.document_name}}</a>
                                            <a href="#" class="gray">
                                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"
                                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                                </i>
                                            </a>
                                            <span style="display: block;font-size: 11px;" class="pl-1 mr-h">
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.by' | translate}}</span>
                                                    {{a.uploaded_user | checkEmpty}}</span>
                                                <span class="font-italic gray">
                                                    <span style="color:black" class="">{{'general.on' | translate}}</span>
                                                    {{a.uploaded_on | utcToLocal:'date' | checkEmpty}}</span>
                                            </span>
                                        </p>
                                    </div>
                                    <p ng-if="provider.attachment.links.length<=0" class="text-sm-center">{{'links.no_links'
                                        | translate}}</p>
                                </uib-tab> -->
                            <!-- </uib-tabset> -->
                        </div>
                    </div>
                </uib-accordion>
                <uib-accordion class="card widget2" style="margin-bottom:5px !important;" close-others="oneAtATime">
                    <div uib-accordion-group class="panel-default" heading="Stakeholders" template-url="group-template1.html"
                        ng-init="open=false;" is-open="open">
                        <uib-accordion-heading ng-click="open= !open">
                            <i class="glyphicon fa fa-user"></i> {{'contract.contract_parterns' | translate}}
                            <span uib-dropdown on-toggle="toggled(open);" class="c-dropdown width-20 pull-right">
                                <a href uib-dropdown-toggle class="font-sm" ng-click="$event.stopPropagation();" style="padding: 0px 15px">
                                    <span class="fa fa-ellipsis-v gray" ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))"
                                    ></span>
                                </a>
                                <ul class="dropdown-menu dropdown-menu-right madule-dropdown" dropdown-append-to-body="true"
                                    uib-dropdown-menu aria-labelledby="simple-dropdown" ng-if ="((access =='ca') ||( ( user.access=='bo' || user.access == 'bd' ) && ( user.content_administator_relation == 1)))"
                                    >
                                    <!-- <li>
                                        <a href="javascript:;" style="padding: 10px;" ng-click="$event.stopPropagation();addSponsers()">{{'general.update'
                                            | translate}}</a>
                                    </li> -->
                                    <li>
                                        <a href="javascript:;" style="padding: 10px;" ng-click="$event.stopPropagation();updateProviderDetails(data,4)">{{'general.update'
                                            | translate}}</a>
                                    </li>
                                </ul>
                            </span>
                            <i class="glyphicon" style="margin-right: 0px !important;" ng-if="!(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                            <i class="glyphicon" style="margin-right: 0px !important;" ng-if="(user.access=='eu' || user.access=='ro')"
                                ng-class="{'fa fa-chevron-up  pull-right': open,'fa fa-chevron-down  pull-right': !open}"></i>
                        </uib-accordion-heading>
                        <div class="card-block" style="padding-left: 30px;padding-top: 5px;">
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable1 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_contract_sponsor" class="f12">
                                    <span class="f12">{{contractParters.internal_contract_sponsor}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_contract_sponsor">---</p>
                                <p ng-if="contractParters.provider_contract_sponsor" class="f12">
                                    <span class="f12">{{contractParters.provider_contract_sponsor}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_contract_sponsor">---</p>
                            </div>
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable2 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_partner_relationship_manager" class="f12">
                                    <span class="f12">{{contractParters.internal_partner_relationship_manager}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_partner_relationship_manager">---</p>
                                <p ng-if="contractParters.provider_partner_relationship_manager" class="f12">
                                    <span class="f12">{{contractParters.provider_partner_relationship_manager}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_partner_relationship_manager">---</p>
                            </div>
                            <div class="partners-content">
                                <h4 class="f14">{{contractParters.stake_holder_lables.lable3 | checkEmpty}} :</h4>
                                <p ng-if="contractParters.internal_contract_responsible" class="f12">
                                    <span class="f12">{{contractParters.internal_contract_responsible}}</span>
                                    <span class="orange f11">({{'contract.internal' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.internal_contract_responsible">---</p>
                                <p ng-if="contractParters.provider_contract_responsible" class="f12">
                                    <span class="f12">{{contractParters.provider_contract_responsible}}</span>
                                    <span class="orange f11">({{'contract.provider' | translate}})</span>
                                </p>
                                <p ng-if="!contractParters.provider_contract_responsible">---</p>
                            </div>
                        </div>
                    </div>
                </uib-accordion>
                           
                <!-- Accordion ends -->
            </div>
        </div>
    </div>

</div>
<script type="text/ng-template" id="group-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open1, 'fa fa-chevron-up': !open1}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template0.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}" style="display: flex;align-items: center;">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template1.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="group-template2.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen();" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="create-edit-contract-sponsor.html">
    <div class="modal-header">
        <h6 class="modal-title">
                {{title | translate}} {{'contract.contract_parterns' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" ng-submit="form.$valid && update(contractParters)">
            <div class="col-sm-12 mb-2 p0 internal-box form-group">
                <div class="col-sm-12 p0">
                    <div class="col-sm-4"></div>
                    <div class="col-sm-4">
                        <label class="f16">{{'contract.internal' | translate}}</label>
                    </div>
                    <div class="col-sm-4">
                        <label class="f16">{{'contract.provider' | translate}}</label>
                    </div>
                </div>
                <div class="col-sm-12 mb-2 p0">
                    <div class="col-sm-4" ng-init="showLabel=true ;">
                        <a ng-show="showLabel"  href="javascript:;" style="color:#464646 !important;" ng-click="showLabel=false;">
                            <label class="pointer">{{contractParters.stake_holder_lables.lable1 | checkEmpty}}</label> &nbsp;
                            <i class="fa fa-pencil-square-o"></i>
                        </a>
                        <input type="text" ng-show="!showLabel" class="form-control col-sm-6 w90" ng-class="contractParters.stake_holder_lables.lable1?'':'req-filter'"
                                ng-model="contractParters.stake_holder_lables.lable1"/>
                        <span ng-show="!showLabel && contractParters.stake_holder_lables.lable1" class="green pointer" style="padding-left: 3px;"
                            ng-click="showLabel=true" uib-tooltip="Save">
                            <button class="btn btn-success sponser-label-save" type="button"><i class="fa fa-floppy-o"></i></button>
                        </span>
                    </div>
                    <div class="col-sm-4" id="internal_contract_sponsor">
                        <input type="text" class="form-control" autofocus only-text  style="width:90%;display:inline-block;"
                            ng-disabled="disableOne" placeholder="{{'normal.placeholder_text_icon' | translate}}"
                            maxlength="70" name="internal_contract_sponsor" ng-model="contractParters.internal_contract_sponsor">                        
                        <span style="float:left;position: absolute;" ng-if="contractParters.internal_contract_sponsor">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableSponsor('internal_contract_sponsor',1);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.internal_contract_sponsor">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                ng-disabled="contractParters.internal_contract_sponsor"
                                class="btn btn-primary" ng-click="addInternalUsers('internal_contract_sponsor')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>
                    <div class="col-sm-4" id="provider_contract_sponsor">
                        <input type="text" style="width:90%;display:inline-block;" class="form-control" maxlength="70"
                            ng-disabled="disableFour" placeholder="{{'normal.placeholder_text_icon' | translate}} only-text
                            name="provider_contract_sponsor" ng-model="contractParters.provider_contract_sponsor">
                        <span style="float:left;position: absolute;" ng-if="contractParters.provider_contract_sponsor">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableProvider('provider_contract_sponsor',4);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.provider_contract_sponsor">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                class="btn btn-primary"  ng-click="addInternalUsers('provider_contract_sponsor')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>
                    <div class="col-sm-12 p0" ng-show="showInnerDiv && (field == 'internal_contract_sponsor' || field == 'provider_contract_sponsor')">
                        <div class="innerDiv-cls" ng-if="field=='internal_contract_sponsor'">
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="business_unit">{{'user.breadcrumb.business_unit' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen" single allow-single-deselect="false"
                                    on-change="change();"
                                    ng-change="getUserList(contractParters.data.internal_contract_sponsor.business_unit)"
                                    placeholder-text-single="'{{'normal.placeholder_search_business' | translate}}'"
                                    name="business_unit" ng-model="contractParters.data.internal_contract_sponsor.business_unit"
                                    ng-options="item.id_business_unit as item.bu_name for item in businessUnitList">
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.internal_user' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen1" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="internal_contract_sponsor" ng-model="contractParters.data.internal_contract_sponsor.user"
                                    ng-options="item as item.name for item in usersList">
                                </select>
                            </div>
                            <div style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalSponser(contractParters.data.internal_contract_sponsor,'internal_contract_sponsor',1)"><i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                        <div class="innerDiv-cls" ng-if="field=='provider_contract_sponsor'">
                            <div class="form-group col-sm-6 pl-0">
                                <label class="col-sm-12 clearfix p0" >{{'normal.provider' | translate}}</label>
                                <select class="form-control" ng-disabled="true" style="height: 24px;padding: 0;">
                                    <option value=""> {{provider.provider_name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.providers' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen3" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="provider_contract_sponsor" ng-model="contractParters.data.provider_contract_sponsor.user"
                                    ng-options="item as item.name for item in providerUsersList">
                                </select>
                            </div>                            
                            <div class="clearfix" style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalProvider(contractParters.data.provider_contract_sponsor,'provider_contract_sponsor',4)"><i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 mb-2 p0">
                    <div class="col-sm-4" ng-init="showLabel2=true">
                        <a ng-show="showLabel2" class="pointer" href="javascript:;" style="color:#464646 !important;" ng-click="showLabel2=false;">
                            <label class="pointer">{{contractParters.stake_holder_lables.lable2 | checkEmpty}}</label> &nbsp;
                            <i class="fa fa-pencil-square-o"></i>
                        </a>
                        <input type="text" ng-show="!showLabel2" class="form-control col-sm-6 w90" ng-class="contractParters.stake_holder_lables.lable2?'':'req-filter'"
                                ng-model="contractParters.stake_holder_lables.lable2" />
                        <span ng-show="!showLabel2 && contractParters.stake_holder_lables.lable2" class="green pointer" style="padding-left: 3px;"
                            ng-click="showLabel2=true" uib-tooltip="Save">
                            <button class="btn btn-success sponser-label-save" type="button"><i class="fa fa-floppy-o"></i></button>
                        </span>
                    </div>
                    <div class="col-sm-4" id="internal_partner_relationship_manager">
                        <input type="text" style="width:90%;display:inline-block;" class="form-control" only-text maxlength="70"
                            ng-disabled="disableTwo" placeholder="{{'normal.placeholder_text_icon' | translate}}"
                            name="relationship_manager" ng-model="contractParters.internal_partner_relationship_manager">
                        <span style="float:left;position: absolute;" ng-if="contractParters.internal_partner_relationship_manager">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableSponsor('internal_partner_relationship_manager',2);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.internal_partner_relationship_manager">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                class="btn btn-primary"  ng-click="addInternalUsers('internal_partner_relationship_manager')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>
                     <div class="col-sm-4" id="provider_partner_relationship_manager">
                        <input type="text" style="width:90%;display:inline-block;" class="form-control"  only-text maxlength="70"
                            ng-disabled="disableFive" placeholder="{{'normal.placeholder_text_icon' | translate}}"
                            name="partner_contract" ng-model="contractParters.provider_partner_relationship_manager">
                        <span style="float:left;position: absolute;" ng-if="contractParters.provider_partner_relationship_manager">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableProvider('provider_partner_relationship_manager',5);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.provider_partner_relationship_manager">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                class="btn btn-primary"  ng-click="addInternalUsers('provider_partner_relationship_manager')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>
                    <div class="col-sm-12 p0" ng-show="showInnerDiv && (field == 'internal_partner_relationship_manager' || field == 'provider_partner_relationship_manager')">
                        <div class="innerDiv-cls" ng-if="field=='internal_partner_relationship_manager'">
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="business_unit">{{'user.breadcrumb.business_unit' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen4" single allow-single-deselect="false"
                                    on-change="change();"
                                    ng-change="getUserList(contractParters.data.internal_partner_relationship_manager.business_unit)"
                                    placeholder-text-single="'{{'normal.placeholder_search_business' | translate}}'"
                                    name="business_unit" ng-model="contractParters.data.internal_partner_relationship_manager.business_unit"
                                    ng-options="item.id_business_unit as item.bu_name for item in businessUnitList">
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.internal_user' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen5" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="internal_partner_relationship_manager" ng-model="contractParters.data.internal_partner_relationship_manager.user"
                                    ng-options="item as item.name for item in usersList">
                                </select>
                            </div>
                            <div style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalSponser(contractParters.data.internal_partner_relationship_manager,'internal_partner_relationship_manager',2)"><i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                        <div class="innerDiv-cls" ng-if="field=='provider_partner_relationship_manager'">
                            <div class="form-group col-sm-6 pl-0">
                                <label class="col-sm-12 clearfix p0" >{{'normal.provider' | translate}}</label>
                                <select class="form-control" ng-disabled="true" style="height: 24px;padding: 0;">
                                    <option value="">{{provider.provider_name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.providers' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen3" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="provider_partner_relationship_manager" ng-model="contractParters.data.provider_partner_relationship_manager.user"
                                    ng-options="item as item.name for item in providerUsersList">
                                </select>
                            </div>                            
                            <div class="clearfix" style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalProvider(contractParters.data.provider_partner_relationship_manager,'provider_partner_relationship_manager',5)">
                                    <i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="col-sm-12 p0">
                    <div class="col-sm-4" ng-init="showLabel3=true">
                        <a ng-show="showLabel3" class="pointer" href="javascript:;" style="color:#464646 !important;" ng-click="showLabel3=false;">
                            <label class="pointer">{{contractParters.stake_holder_lables.lable3 | checkEmpty}}</label>&nbsp;
                            <i class="fa fa-pencil-square-o"></i>
                        </a>
                        <input type="text" ng-show="!showLabel3"  class="form-control col-sm-6 w90" ng-class="contractParters.stake_holder_lables.lable3?'':'req-filter'"
                                    maxlength="30" ng-model="contractParters.stake_holder_lables.lable3" />
                        <span ng-show="!showLabel3 && contractParters.stake_holder_lables.lable3" class="green pointer" style="padding-left: 3px;"
                                ng-click="showLabel3=true" uib-tooltip="Save">
                            <button class="btn btn-success sponser-label-save" type="button"><i class="fa fa-floppy-o"></i></button>
                        </span>
                    </div>
                    <div class="col-sm-4" id="internal_contract_responsible">
                        <input type="text" style="width:90%;display:inline-block;" class="form-control" maxlength="70" only-text
                            ng-disabled="disableThree" placeholder="{{'normal.placeholder_text_icon' | translate}}"
                            name="contract_responsible" ng-model="contractParters.internal_contract_responsible">
                        <span style="float:left;position: absolute;" ng-if="contractParters.internal_contract_responsible">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableSponsor('internal_contract_responsible',3);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.internal_contract_responsible">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                    class="btn btn-primary" ng-click="addInternalUsers('internal_contract_responsible')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>
                    <div class="col-sm-4" id="provider_contract_responsible">
                        <input type="text" style="width:90%;display:inline-block;" class="form-control" maxlength="70"
                            only-text ng-disabled="disableSix" placeholder="{{'normal.placeholder_text_icon' | translate}}"
                            name="provider_contract_responsible" ng-model="contractParters.provider_contract_responsible">
                        <span style="float:left;position: absolute;" ng-if="contractParters.provider_contract_responsible">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Clear"
                                class="btn btn-primary" ng-click="enableProvider('provider_contract_responsible',6);">
                                <span class="icon-times f12"></span>
                            </button>
                        </span>
                        <span style="float:left;position: absolute;" ng-if="!contractParters.provider_contract_responsible">
                            <button type="button" style="padding:0.5rem;" uib-tooltip="Manage"
                                class="btn btn-primary"  ng-click="addInternalUsers('provider_contract_responsible')">
                                <span class="icon-plus-circle"></span>
                            </button>
                        </span>
                    </div>  
                     <div class="col-sm-12 p0"
                        ng-show="showInnerDiv && (field == 'internal_contract_responsible' || field == 'provider_contract_responsible')">
                        <div class="innerDiv-cls" ng-if="field=='internal_contract_responsible'">
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="business_unit">{{'user.breadcrumb.business_unit' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen6" single allow-single-deselect="false"
                                    on-change="change();"
                                    ng-change="getUserList(contractParters.data.internal_contract_responsible.business_unit)"
                                    placeholder-text-single="'{{'normal.placeholder_search_business' | translate}}'"
                                    name="business_unit" ng-model="contractParters.data.internal_contract_responsible.business_unit"
                                    ng-options="item.id_business_unit as item.bu_name for item in businessUnitList">
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.internal_user' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen7" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="internal_contract_responsible" ng-model="contractParters.data.internal_contract_responsible.user"
                                    ng-options="item as item.name for item in usersList">
                                </select>
                            </div>
                            <div style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalSponser(contractParters.data.internal_contract_responsible,'internal_contract_responsible',3)"><i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                        <div class="innerDiv-cls" ng-if="field=='provider_contract_responsible'">
                            <div class="form-group col-sm-6 pl-0">
                                <label class="col-sm-12 clearfix p0" >{{'normal.provider' | translate}}</label>
                                <select class="form-control" ng-disabled="true" style="height: 24px;padding: 0;">
                                    <option value="">{{provider.provider_name}}</option>
                                </select>
                            </div>
                            <div class="form-group col-md-6 clearfix col-sm-6">
                                <label for="internal-user">{{'user.breadcrumb.providers' | translate}}</label>
                                <select chosen class="form-control chosen-choices"
                                    id="add-chosen3" single allow-single-deselect="true"
                                    placeholder-text-single="'{{'normal.placeholder_user_name' | translate}}'"
                                    name="provider_contract_responsible" ng-model="contractParters.data.provider_contract_responsible.user"
                                    ng-options="item as item.name for item in providerUsersList">
                                </select>
                            </div>                            
                            <div class="clearfix" style="text-align: center;">
                                <button type="button" class="btn btn-success"
                                    ng-click="addInternalProvider(contractParters.data.provider_contract_responsible,'provider_contract_responsible',6)">
                                    <i class="fa fa-dot-circle-o"></i>&nbsp;{{'general.ok' | translate}}</button>
                                <button type="button" class="btn btn-sm btn-info" ng-click="removeAfterIcon();"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-sm btn-primary">
                    <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                    <i class="fa fa-ban"></i>&nbsp; {{'general.cancel' | translate}}</button>
            </div>
        </form>
</script>
<script type="text/ng-template" id="create-edit-provider-doc.html">
    <div class="modal-header">
        <h6 class="modal-title">
                {{'general.add' | translate}} {{'links.attachments_links' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f18"></a>
        </h6>
    </div>
    <form novalidate name="contractForm">
        <uib-tabset active="active" class="clearfix" style="padding: 10px;" ng-init="active=0;">
            <uib-tab index="0" heading="{{'links.ad_attachment' | translate}}">
                <div class="col-sm-12 m-t-3 form-group p0">
                    <attachment-files ng-model="attachments"></attachment-files>
                </div>
                <div class="p-b-1">
                    <p ng-if="provider.unique_attachment.documents.length>0" ng-repeat="a in provider.unique_attachment.documents">
                        <a download="{{a.document_name}}" target="_blank" href="#" ng-click="getDownloadUrl(a)" download="{{a.document_name}}">
                            <i class="icon-arrow-down-circle f16"></i> {{a.document_name}}</a>
                            <span ng-if="user.access == 'ca'">
                                <span class="tss-lock"  style="color: red; position:absolute; right:50px;font-size: 20px;cursor:pointer;
                                " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                                <span class="tss-unlock" style="color: green; position:absolute; right:50px; font-size: 20px;;cursor:pointer;
                                " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                            </span>
                            <a href="#" class="gray" ng-if="user.access == 'ca'">
                                <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1" style="position:relative; top:2px "
                                    title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                                </i>
                            </a>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'attachment.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user}}</span>
                            <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="provider.unique_attachment.documents.length==0" class="text-sm-center">{{'attachment.no_files' | translate}}</p>
                </div>                
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit"
                            ng-click="uploadAttachment(attachments,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
            <uib-tab index="1"  class="clearfix" heading="{{'links.ad_link' | translate}}">
                <div class="clearfix" style="background: #EEEDF5; padding: 10px;">
                    <ng-form name="linkForm" class="modalUniqCls">
                        <div class="col-md-5 pl-0">
                            <input type="text" class="form-control" name="title" placeholder="{{'normal.placeholder_title' | translate}}" ng-model="contractLink.title" required>
                        </div>
                        <div class="col-md-7 pl-0" style="display:-webkit-inline-box; padding-right: 5px;">
                            <input type="text" style="width:86.5%" class="form-control" ng-model="contractLink.url" required placeholder="{{'normal.placeholder_add_link_url' | translate}}">
                            <span style="/* float:left; *//* position: absolute; */">
                                <button style="padding: 0.03rem 0.5rem;" type="button" title="{{'contract.verify_link' | translate}}" ng-disabled="!linkForm.$valid" class="btn btn-success" ng-click="verifyLink(contractLink)">
                                    <span class="fa fa-plus"></span><p style="font-size:12px;margin-bottom:0px;">{{'links.ad_link' | translate}}</p></button>
                            </span>
                        </div>
                    </ng-form>
                    <div class="col-sm-12 p0 mt-1" ng-if="contractLinks.length" style="overflow-y: scroll;">
                        <div class="list-header clearfix">
                            <label class="text-capitalize f14">{{'links.attached_links' | translate}}</label>
                        </div>
                        <div class="list-table mt5 mb5" style="max-height:250px;" ng-scrollbars="">
                            <ul class="list-items files-list">
                                <li class="clearfix" ng-repeat="link in contractLinks track by $index">        
                                    <div class="col-sm-11 p0">
                                        <p class="f12 text-line m-0 p-h" title="{{link.url}}">{{link.title}}
                                        <span class="pl-h skyblue">( {{link.url}} )</span></p>
                                    </div>
                                    <div class="col-sm-1 pull-right">
                                        <a href="javascript:;" class="display-inline-block p-h" title="Remove" ng-click="removeLink($index)"> <i class="icon-trash gray"></i> </a>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>                    
                </div>
                <div class="clearfix"></div>
                <div class="p-b-1" style="padding-top: 25px;">
                    <p ng-if="provider.unique_attachment.links.length>0" ng-repeat="a in provider.unique_attachment.links">
                        <a  ng-click="redirectUrl(a.document_source)" href="javascript:;" class="ellipis" title="{{a.document_source}}"
                            style="cursor: pointer;width:95%"><i class="fa fa-link f16"></i> {{a.document_name}}</a>
                        <span ng-if="user.access == 'ca'">
                            <span class="tss-lock"  style="color: red; right:50px; font-size: 20px;cursor:pointer;
                            " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==1"></span>
                            <span class="tss-unlock" style="color: green; right:50px; font-size: 20px;cursor:pointer;
                            " ng-click="changeLockingStatus(a)" ng-if="a.is_lock==0"></span>
                        </span>
                        <a href="#" class="gray" ng-if="user.access == 'ca'">
                            <i ng-if="a.daad == 'itako' && user1.iroori != 'itako'" class="pull-right icon-trash m-t-1"  style="position:relative; top:0px "
                                title="{{'general.delete' | translate}}" ng-click="deleteAttachment(a.id_document,a.document_name)">
                            </i>
                        </a>
                        <span class="display-block f12 pl20">
                            <span class="gray">{{'links.uploaded_by' | translate}}:</span>&nbsp;<span>{{a.uploaded_user_name}}</span>
                            <span class="gray">{{'general.on' | translate}}:</span>&nbsp;<span>{{a.uploaded_on | utcToLocal:'toLocalDate'}}</span>
                        </span>
                    </p>
                    <p ng-show="provider.unique_attachment.links.length==0" class="text-sm-center pt20">{{'links.no_links' | translate}}</p>
                </div>      
                <div class="modal-footer">
                    <button class="btn btn-sm btn-primary" type="submit"
                            ng-click="contractLinks && uploadLinks(contractLinks,data)">
                        <i class="icon-plus"></i>&nbsp;{{'general.save' | translate}}
                    </button>
                    <button class="btn btn-sm btn-danger" type="button" ng-click="cancel()">
                        <i class="icon-times f12"></i>&nbsp;{{'general.cancel' | translate}}
                    </button>
                </div>
            </uib-tab>
        </uib-tabset>
    </form>
</script>
<script type="text/ng-template" id="create-edit-spend-management.html">
    <div class="modal-header">
        <h6 class="modal-title">
                {{title | translate}} {{'contract.spend_management' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" ng-submit="form.$valid && update(contractInfo)">
        <div class="form-group col-sm-12">
            <div class="form-group col-sm-6">                
                <label>{{'contract.po_number' | translate}}</label>
                <input type="text" class="form-control" maxlength="50" autofocus name="po_number" ng-model="contractInfo.po_number">
                <!-- <span class="error-message" ng-if="form.po_number.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
            </div>
        </div>
        <div class="form-group col-sm-12">
            <div class="clearfix col-sm-12"><label>{{'contract.projected_value' | translate}} *</label></div>
            <div class="clearfix">
                <div class="form-group col-sm-4">
                    <select class="form-control" name="contract_value_period" ng-model="contractInfo.contract_value_period" required>
                        <option value="">-- {{'general.select' |translate}} --</option>
                        <option value="total">{{'contract.total' | translate}}</option>
                        <option value="year">{{'contract.yearly' | translate}}</option>
                    </select>
                    <span class="error-message" ng-if="form.contract_value_period.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-8 pl-0">
                    <input type="text" class="form-control" maxlength="30" name="contract_value" ui-number-mask="0"
                            ng-model="contractInfo.contract_value" required ui-number-mask="0">
                    <span class="error-message" ng-if="form.contract_value.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
                </div>
            </div>
        </div>        
        <div class="form-group col-sm-12">
            <div class="clearfix col-sm-12"><label>{{'contract.add_recurr_fees' | translate}}</label></div>
            <div class="clearfix">
                <div class="form-group col-sm-4">
                    <select class="form-control" name="additional_recurring_fees_period" ng-model="contractInfo.additional_recurring_fees_period" >
                        <option value="">-- {{'general.select' |translate}} --</option>
                        <option value="month">{{'contract.monthly' | translate}}</option>
                        <option value="quarter">{{'contract.quarter' | translate}}</option>
                        <option value="year">{{'contract.yearly' | translate}}</option>
                    </select>
                    <!-- <span class="error-message" ng-if="form.additional_recurring_fees_period.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
                </div>
                <div class="form-group col-sm-8 pl-0">
                    <input type="text" class="form-control" maxlength="30" ui-number-mask="0" name="additional_recurring" ng-model="contractInfo.additional_recurring_fees"  ui-number-mask="0">
                    <!-- <span class="error-message" ng-if="form.additional_recurring.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
                </div>
            </div>            
        </div>
        <div class="form-group col-sm-12">
            <div class="form-group col-sm-6">
                <label>{{'contract.add_one_fees' | translate}}</label>
                <input type="text" class="form-control" maxlength="30" name="additonal_one_off_fees" ui-number-mask="0" ng-model="contractInfo.additonal_one_off_fees" ui-number-mask="0">
                <!-- <span class="error-message" ng-if="form.additonal_one_off_fees.$error.required && form.$submitted">{{'general.required_field' |translate}}</span> -->
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
            <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                <i class="fa fa-ban"></i>&nbsp; {{'general.cancel' | translate}}</button>
        </div>
    </form>    
</script>
<script type="text/ng-template" id="create-edit-spend-lines.html">
    <div class="modal-header">
        <h6 class="modal-title">
                {{title | translate}} {{'contract.actual_spend' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" ng-submit="update(spendLine)">
        <div class="form-group col-sm-12">
            <div class="form-group col-sm-6 pt-h">
                <label> {{'reports.from' | translate}} </label>
                <div class="input-group clearfix form-group-custom">
                    <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false"
                        data-ng-model="spendLine.from_date"  name="from_date" is-open="openCal"
                        datepicker-options="{showWeeks:false}" show-button-bar="false"  />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default border" ng-click="openCal = true">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>                
            </div>
            <div class="form-group col-sm-6 pt-h">                
                <label> {{'reports.to' | translate}} </label>
                <div class="input-group clearfix form-group-custom">
                    <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" date-disabled="false"
                        data-ng-model="spendLine.to_date"  name="to_date" is-open="openCal1"
                        datepicker-options="{showWeeks:false}" show-button-bar="false"  />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                            <i class="fa fa-calendar"></i>
                        </button>
                    </span>
                </div>                
            </div>
            <div class="clearfix"></div>
            <div class="form-group col-sm-6 pt-h">
                <label>{{'contract.spent_amount' | translate}} *</label>
                <input type="text" class="form-control" maxlength="30" name="spent_amount" ui-number-mask="0" ng-model="spendLine.spent_amount" required ui-number-mask="0">
                <span class="error-message" ng-if="form.spent_amount.$error.required && form.$submitted">{{'general.required_field' |translate}}</span>
            </div>
            <div class="form-group col-sm-6 pt-h">
                <label>{{'contract.comment' | translate}}</label>
                <input type="text" class="form-control" ng-maxlength="128" name="comment" ng-model="spendLine.comment">
                <span class="error-message" ng-if="form.comment.$error.maxlength && form.$submitted">{{'general.maximim_128_chars' |translate}}</span>
            </div>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary">
                <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
            <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                <i class="fa fa-ban"></i>&nbsp; {{'general.cancel' | translate}}</button>
        </div>
    </form>    
</script>
<script type="text/ng-template" id="add-edit-stackholders.html">
    <div class="modal-header">
        <h6 class="modal-title">
            {{'Search' | translate}} {{'contract.contributor' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="actionItemForm" ng-submit="actionItemForm.$valid && saveContributors(data)">
        <div class="modal-body clearfix">
            <uib-tabset active="active">
                <uib-tab index="0">
                    <uib-tab-heading>
                        <i class="glyphicon glyphicon-bell"></i> {{'normal.expert' | translate}}
                    </uib-tab-heading>
                    <div class="form-group col-md-12 clearfix">
                        <label for="business_unit">{{'user.breadcrumb.business_unit' | translate}}</label>
                        <select id="business_unit"
                                ng-model="data.expert.business_unit"
                                name="business_unit"
                                class="chosen-choices"
                                ng-change="getContributorsByBusinessUnit(data.expert.business_unit,'expert')"
                                ng-options="item.id_business_unit as item.bu_name for item in businessUnitList.expert">
                                <option value="">-- {{'normal.select_busines_unit' | translate}} --</option>
                        </select>
                    </div>
                    <div class="col-md-12 clearfix drp-search" style="padding-bottom: 20px;">                        
                        <div class="input-group" ng-init="expert.searchContracts=''">
                            <input type="text" class="form-control" placeholder="{{'normal.placeholder_contributors' | translate}}"
                                    ng-focus="showContractList1=true;" ng-model="expert.searchContracts"/>
                            <span class="input-group-addon" ng-click="showContractList1=false;" style="cursor:pointer;">
                                <i class="fa fa-times" uib-tooltip="Close"></i>
                            </span>
                        </div>
                        <div class="form-group col-md-12 constribute-opt" ng-show="showContractList1">
                            <div ng-repeat="contract in expertList | filter:expert.searchContracts">
                                <div ng-click="addExpertContributer(contract)">{{contract.name}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 clearfix contributor-list"
                            ng-if="data.expert.contributors.length>0" style="border: 1px solid #ccc;padding-top: 8px;">
                        <span class="bold f14 pt-h pb2">{{'normal.selected_Expert_contributors' | translate}} : </span>
                        <div class="clearfix selectedExpertText">
                            <ul class="pt-h">
                                <li ng-repeat="contributor in data.expert.contributors" ng-if="contributor.id_user" title="{{contributor.name}}">
                                    {{contributor.name}}
                                    <span class="fa fa-times-circle" ng-click="removeExpert($index)"></span>
                                </li>
                            </ul>
                        </div>                        
                    </div>
                </uib-tab>
                <uib-tab index="1">
                    <uib-tab-heading>
                        <i class="glyphicon glyphicon-bell"></i> {{'general.validator' | translate}}
                    </uib-tab-heading>
                    <div class="form-group col-md-12 clearfix">
                        <label for="business_unit1">{{'user.breadcrumb.business_unit' | translate}}</label>
                        <select id="business_unit1"
                                ng-model="data.validator.business_unit"
                                name="business_unit1"
                                class="chosen-choices"
                                ng-change="getContributorsByBusinessUnit(data.validator.business_unit,'validator')"
                                ng-options="item.id_business_unit as item.bu_name for item in businessUnitList.validator">
                                <option value="">-- {{'normal.select_busines_unit' | translate}} --</option>
                        </select>
                    </div>
                    <div class="form-group col-sm-12">
                        <label>{{'contract.contributor' | translate}}</label>
                        <select
                            single
                            chosen
                            placeholder-text-single="'{{'normal.placeholder_contributors' | translate}}'"
                            ng-change="addValidatorContributer(data.validator.searchValidatorContracts,'validator');chosen();"
                            ng-model="data.validator.searchValidatorContracts"
                            ng-options="contract as contract.name for contract in validatorList">
                            <option value="">-- Select Contributor--</option>
                        </select>
                    </div>  
                    <div class="form-group col-md-12 clearfix contributor-list" ng-if="data.validator.searchValidatorContracts"
                        style="border: 1px solid #ccc; padding-top: 8px;">
                        <span class="bold f14 pt-h pb2" >{{'normal.select_validator_contributors' | translate}} : </span>
                        <ul>
                            <li ng-repeat="row in data.validator" ng-if="row.id_user==data.validator.searchValidatorContracts.id_user">
                                {{row.name}}
                                <span class="fa fa-times-circle" ng-click="removeValidator($index)"></span>
                            </li>
                        </ul>
                    </div>                    
                </uib-tab>
                <uib-tab index="2">
                    <uib-tab-heading>
                    <i class="glyphicon glyphicon-bell"></i> {{'normal.provider' | translate}}
                    </uib-tab-heading>
                    <div class="col-md-12 clearfix">
                        <label class="form-group col-md-12 clearfix p0" >{{'normal.preselect_provider' | translate}}:
                            <select class="form-control" ng-disabled="true">
                                <option value="">{{contractModuleTopics.contract_details[0].provider_name_show}}</option>
                            </select>
                        </label>
                    </div>
                    <div class="col-md-12 clearfix drp-search" style="padding-bottom: 20px;">                        
                        <div class="input-group" ng-init="provider.searchProviderContracts=''">
                            <input type="text" class="form-control" placeholder="{{'normal.placeholder_contributors' | translate}}"
                                    ng-focus="showContractList2=true;" ng-model="provider.searchProviderContracts"/>
                            <span class="input-group-addon" ng-click="showContractList2=false;" style="cursor:pointer;">
                                <i class="fa fa-times" uib-tooltip="Close"></i>
                            </span>
                        </div>
                        <div class="form-group col-md-12 constribute-opt"  ng-show="showContractList2">
                            <div ng-repeat="contract in providerList | filter:provider.searchProviderContracts">
                                <div ng-click="addProviderContributer(contract,'provider')">{{contract.name}}</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group col-md-12 clearfix contributor-list"  
                            style="border: 1px solid #ccc; padding-top: 8px;" ng-if="data.provider.contributors.length>0">
                        <span class="bold f14 pt-h pb2">{{'normal.select_provider_contributors' | translate}} : </span>
                        <div class="selectedExpertText clearfix">
                            <ul>
                                <li ng-repeat="contributor in data.provider.contributors" ng-if="contributor.id_user" title="{{contributor.name}}">
                                    {{contributor.name}}
                                    <span class="fa fa-times-circle" ng-click="removeProvider($index)"></span>
                                </li>
                            </ul>
                        </div>                        
                    </div>
                </uib-tab>
            </uib-tabset>
        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-sm btn-primary" ng-disabled="showBtn">
                <i class="fa fa-dot-circle-o"></i> {{'general.save' | translate}}</button>
            <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger"><i class="fa fa-ban"></i> &nbsp;{{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="group-template5.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title" ng-click="toggleOpen()" style="cursor:pointer;">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading" >
                    <span uib-accordion-header ng-class="{'text-muted': isDisabled}">
                            {{heading}}
                        <i class="glyphicon" ng-class="{'fa fa-chevron-down': open, 'fa fa-chevron-up': !open}"></i>
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude></div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="manage-stored-modules.html">
    <div class="modal-header">
        <h6 class="modal-title">
                    {{title | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form">
       
        <div class="modal-body Contract-modal calender-custom-modal manage-form-modal clearfix">
                <div class="col-sm-12 clearfix text-center after-line" ng-if="storedModulesList.review.length>0"><span>Reviews</span></div>
                <div class="clearfix" ng-if="storedModulesList.review.length>0"></div>
                <div class=" clearfix switch-lbl" ng-if="storedModulesList.review.length>0">
                    <label class="ng-binding f12" style="margin-top: 3px;">{{'normal.re-active' | translate}}</label>
                </div>
            <div class="clearfix form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.review">
                <div class="col-sm-4 p0"><span class="">{{module.module_name}}</span></div>
                <div class="col-sm-4 p0">
                    <p style="font-size: 10px;" class="mr-h">
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.last_review_by' | translate}}</span>
                                <span class="f12">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                            <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <div class="form-group col-sm-4 switch-view p0" ng-init="contract.auto_renewal=contract.auto_renewal1==1?1:0">
                    <div class="onoffswitch form-inline">
                        <div class="form-group">
                            <input type="checkbox" name="onoffswitch_toggle" ng-model="module.activate_in_next_review"
                            id="{{module.id_module}}" ng-change="updateStoredModules(module)"
                            ng-true-value="'1'" ng-false-value="'0'"
                                class="onoffswitch-checkbox  ng-pristine ng-untouched ng-valid ng-not-empty">
                                <label class="onoffswitch-label assessment-switch" for="{{module.id_module}}">
                                <span class="onoffswitch-inner"></span>
                                <span class="onoffswitch-switch"></span>
                            </label>
                        </div>
                    </div>
                </div>              
            </div>
            <div class="clearfix" ng-if="storedModulesList.workflow.length>0"></div>
                <div class="clearfix text-center after-line" ng-if="storedModulesList.workflow.length>0"><span>Tasks</span></div>
            <div class="switch-lbl" ng-if="storedModulesList.workflow.length>0">
                <label class="ng-binding f12" style="margin-top: 3px;text-align: right;">{{'contract.re_workflow_by' | translate}}</label>
            </div>
            <div class="form-group col-sm-12 p0 clearfix" ng-repeat="module in storedModulesList.workflow">
                <div class="col-sm-4 p0"><span class="">{{module.module_name}}</span></div>
                <div class="col-sm-4 p0">
                    <p style="font-size: 10px;" class="mr-h">
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.last_workflow_by' | translate}}</span>
                                <span class="f12">{{module.updated_by}}</span>
                        </span>
                        <span class="font-italic gray" style="display: block;">
                            <span style="color:black" class="">{{'contract.stored_on' | translate}}</span>
                            <span class="f12">{{module.created_on | utcToLocal:'toLocalDate' | checkEmpty}}</span>
                        </span>
                    </p>
                </div>
                <div class="form-group col-sm-4">
                    <div class="input-group clearfix form-group-custom">
                        <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" ng-disabled="module.date"
                                data-ng-model="module.date" datepicker-options="{showWeeks:false}" ng-change="updateStoredModules(module)"
                                name="review_by" is-open="openCal1" show-weeks="false" show-button-bar="false" readonly/>
                        <span class="input-group-btn ">
                            <button type="button" class="btn btn-default border" ng-click="openCal1 = true">
                                <i class="fa fa-calendar"></i>
                            </button>
                        </span>
                    </div>
                </div>          
            </div>
        </div>
        <div ng-if="storedModulesList.review.length==0 && storedModulesList.workflow.length==0" class="text-xs-center">
            <span class="text-center f12">{{'contract.no_stored_module' | translate}}</span>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.close' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="open-unanswered-questions.html">
    <div class="modal-header">
        <h6 class="modal-title">
                    {{module.module_name}}
                    <span class="progress-cls f12" ng-if="!isStored">{{'contract.module_questions.progress' | translate}} : {{module.progress}} %</span>
                    <span class="completion-cls f12" ng-if="!isStored">{{'contract.completion' | translate}} : {{module.question_count}} </span>
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times"></a>
        </h6>
    </div>
    <form novalidate name="form" >
        <div class="modal-body Contract-modal clearfix">
            <uib-accordion close-others="oneAtATime">
                <div uib-accordion-group class="panel-default mb-h"
                        ng-repeat="topic in unAnsweredTopics"  heading="Selection Process"
                        ng-init="topic.open=false;
                        showData['topic'][topic.topic_id]['open'] =  showData['topic'][topic.topic_id]['open'] ?
                                                                    showData['topic'][topic.topic_id]['open'] : false;"
                        is-open="showData['topic'][topic.topic_id]['open']"
                        template-url="topic-template.html" is-disabled="true"
                        style="border: 1px solid #ccc;">
                    <uib-accordion-heading>
                        <i class="glyphicon"
                            ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']"
                            ng-class="{'fa fa-minus-square-o': showData['topic'][topic.topic_id]['open'],
                                        'fa fa-plus-square-o': !showData['topic'][topic.topic_id]['open']}"></i>
                        <span class="pl14" ng-click="showData['topic'][topic.topic_id]['open'] = !showData['topic'][topic.topic_id]['open']">{{topic.topic_name | capitalize}}</span>                                    
                    </uib-accordion-heading>
                    <table class="table table-custom table-striped table-hover">
                        <thead><tr></tr></thead>
                        <tbody>
                            <tr ng-repeat="row in topic.questions">
                                <td style="width:63%"><a href="javascript:;" ng-click="goToReview(row,topic)">{{row.question_text}}</a></td>
                                <td style="width:25%" ng-if="row.question_type != 'rag' && row.question_type != 'date'">
                                    {{row.question_answer | checkEmpty}}
                                </td>    
                                <td style="width:25%" ng-if="row.question_type == 'date'">
                                    {{row.question_answer | utcToLocal:'date' | checkEmpty}}
                                </td>                                    
                                <td style="width:25%" ng-if="row.question_type == 'rag'">
                                    <div class="radio_widget">
                                        <span ng-if="!row.question_answer">{{row.question_answer | checkEmpty}}</span>
                                        <a ng-if="row.question_answer == 'G'" class="f18"><i class="fa fa-check-circle green mr-h"></i></a>
                                        <a ng-if="row.question_answer == 'A'" class="f18"><i class="fa fa-exclamation-circle orange mr-h"></i></a>
                                        <a ng-if="row.question_answer == 'R'" class="f18"><i class="fa fa-times-circle red"></i></a>
                                        <a ng-if="row.question_answer == 'N/A'" class="f18"><i class="fa fa-minus-circle gray mr-h"></i></a>
                                    </div>
                                </td>
                                <!-- <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback) && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback) && !(row.discussion!='')"></td> -->
                                <td style="width:4%;">
                                    <i class="fa fa-commenting-o pointer f12" ng-click="showfeedback(row)"  ng-if="row.question_feedback"></i>
                                </td>
                                <!-- <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && (row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && (row.discussion!='')"></td> -->
                                <td style="width:4%">
                                    <span ng-if="row.discussion!='' && row.validator!=1">
                                        <a href="javascript:;">
                                            <img style="padding-bottom: 8px; width: 13px;" ng-click="showdiscussion(row)"
                                                src="img/discussion.png"/>
                                        </a>
                                    </span>
                                </td>
                                <!-- <td style="width:4%" ng-if="(row.attachments.length>0) && (row.question_feedback =='') && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length>0) && (row.question_feedback =='') && !(row.discussion!='')"></td> -->
                                <td style="width:4%">
                                    <span  ng-if="row.attachments.length>0">
                                        <a href="#" style="position: relative; top: 4px;" ng-click="showAttachments(row)">
                                            <i class="icon-attachment f11 skyblue pointer" title="Attachments"></i>
                                            <span class="count-small">{{row.attachments.length}}</span>
                                        </a>
                                    </span>
                                </td>
                                <!-- <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && !(row.discussion!='')"></td>
                                <td style="width:4%" ng-if="(row.attachments.length==0) && (row.question_feedback =='') && !(row.discussion!='')"></td> -->
                            </tr>
                        </tbody>
                        <tbody ng-if="!load && topic.questions.length == 0">
                            <tr><td colspan="6" class="text-sm-center">{{'general.no_data' | translate}}</td></tr>
                        </tbody>
                        <tbody ng-if="load">
                            <tr><td colspan="6" class="text-sm-center">{{'general.loading' | translate}}</td></tr>
                        </tbody>
                    </table>
                </div>
            </uib-accordion>
        </div>
        <div class="modal-footer">
            <button type="reset" class="btn btn-sm btn-danger" ng-click="cancel()"><i class="fa fa-ban"></i>&nbsp;{{'general.cancel' | translate}}</button>
        </div>
    </form>
</script>
<script type="text/ng-template" id="topic-template.html">
    <div class="accordion-default accordian_list_style">
        <div class="panel-heading">
            <h4 class="panel-title cursor-pointer" ng-click="toggleOpen()" style="cursor: pointer">
                <a href tabindex="0" class="accordion-toggle" uib-accordion-transclude="heading">
                    <span uib-accordion-header>
                        <i class="glyphicon" ng-class="{'fa fa-minus-square-o': status.show, 'fa fa-plus-square-o': !status.show}"></i>
                        {{heading}}
                    </span>
                </a>
            </h4>
        </div>
        <div class="panel-collapse collapse" uib-collapse="!isOpen">
            <div class="panel-body" ng-transclude style="padding:7px;"></div>
        </div>
    </div>
</script>
<!-- parvathi code starts-->
<script type="text/ng-template" id="show-feedback.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title">{{'contract.module_questions.feedback' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        {{selectedRow}}
    </div>
</script>
<script type="text/ng-template" id="show-question-attachments.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'attachment.attachments' | translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <form novalidate name="tableForm">
            <table class="table table-custom table-striped table-hover">
                <thead>
                    <tr>
                        <!--<th>{{'module.module' | translate}}</th>-->
                            <th>{{'questions.question' | translate}}</th>
                            <th>{{'links.attachments_links' | translate}}</th>
                            <th>{{'contract.created_by' | translate}}</th>
                            <th>{{'contract.created_on' | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat ="row in attachments">
                        <!-- <td>{{row.module_name}}</td>-->
                        <td>{{question_text}} </td>
                        <td ng-if="row.document_type==0">
                            <span class="ellipis" style="width: 230px" title="{{row.document_name}}">
                                <a href="javascript:;" ng-click="getDownloadUrl(row)">
                                    <span class="fa fa-download"></span>&nbsp;{{row.document_name | checkEmpty}}</a>
                            </span>
                        </td>
                        <td ng-if="row.document_type==1">
                            <span class="ellipis" style="width: 230px" title="{{row.document_source}}">
                                <a ng-click="redirectUrl(row.document_source)" href="javascript:;">
                                    <span class="fa fa-link"></span>&nbsp;{{row.document_name | checkEmpty}}</a>
                            </span>
                        </td>
                        <!-- <td class="fa fa-link skyblue">  {{row.document_source}}  </td> -->
                        <td>{{row.uploaded_by}}</td>
                        <td>{{row.created_on | utcToLocal:'toLocalDate'}}</td>
                    </tr>
                </tbody>
            </table>
        </form>
    </div>
</script>
<script type="text/ng-template" id="discussion-show.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'normal.discussion_detail' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix"> <!-- modal body div open-->
    <i class="glyphicon"></i>
        <div class="col-sm-12 p0 form-group discussionAnswerParent">
            <div class="col-sm-12 p0 discussionAnswer" style="padding-left: 18px;">
                <div class="col-sm-6 p0" style="margin-bottom: 10px;color: #080808;">
                    <label class="hand-symbol">{{'contract.current_value' | translate}} :</label>
                    <span ng-if="question.question_type == 'input'">
                        <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' |translate}}" ng-model="question.question_answer">
                    </span>
                    <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.question_answer" name="question_answer" is-open="false" readonly/>
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </span>
                    <span ng-if="question.question_type == 'dropdown' || question.question_type == 'radio'">
                        <select class="form-control" ng-disabled="true">
                                <option value="">{{question.question_answer}}</option>
                        </select>
                    </span>
                    <span ng-if="question.question_type == 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio1_{{$index}}_{{question.id_question}}" name="same_{{question.id_question}}" value="{{question.question_answer}}"
                                    checked ng-model="question.question_answer" disabled>
                                <label disabled ng-if="question.question_answer == 'G'" for="radio1_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.question_answer == 'A'" for="radio1_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.question_answer == 'R'" for="radio1_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.question_answer == 'N/A'" for="radio1_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
                        </div>
                    </span>
                </div>
                <div class="col-sm-6" style="margin-bottom: 10px;">
                    <label class="hand-symbol" style="padding-left: 10px;color: #080808;">{{'contract.second_opinion' | translate}} :</label>
                    <span ng-if="question.question_type == 'input'">
                            <input type="text" class="form-control" readonly placeholder="{{'contract.module_questions.answer' |translate}}" ng-model="question.second_opinion">
                    </span>
                    <span ng-if="question.question_type === 'dropdown' || question.question_type === 'radio'">
                        <select class="form-control" ng-disabled="true">
                            <option value="">{{question.second_opinion}}</option>
                        </select>
                    </span>
                    <span ng-if="question.question_type == 'date'">
                        <div class="input-group clearfix form-group-custom">
                            <input type="text" class="form-control white-bg bg-white" uib-datepicker-popup="dd-MM-yyyy" style="padding:8px 5px !important"
                                data-ng-model="question.second_opinion" name="date_question" is-open="false" readonly/>
                            <span class="input-group-btn ">
                                <button type="button" class="btn btn-default border">
                                    <i class="fa fa-calendar"></i>
                                </button>
                            </span>
                        </div>
                    </span>
                    <span ng-if="question.question_type === 'rag'">
                        <div class="radio_widget">
                            <span>
                                <input type="radio" id="radio2_{{$index}}_{{question.id_question}}" name="same1_{{question.id_question}}"
                                    value="{{question.second_opinion}}" checked ng-model="question.second_opinion" disabled>
                                <label disabled ng-if="question.second_opinion == 'G'" for="radio2_{{$index}}_{{question.id_question}}" class="first_label" uib-tooltip="Green"></label>
                                <label disabled ng-if="question.second_opinion == 'A'" for="radio2_{{$index}}_{{question.id_question}}" class="sec_label" uib-tooltip="Amber"></label>
                                <label disabled ng-if="question.second_opinion == 'R'" for="radio2_{{$index}}_{{question.id_question}}" class="third_label" uib-tooltip="Red"></label>
                                <label disabled ng-if="question.second_opinion == 'N/A'" for="radio2_{{$index}}_{{question.id_question}}" class="fourth_label" uib-tooltip="Not Applicable"></label>
                            </span>
                        </div>
                    </span>
                </div>
            </div>
        </div>
        <div class="clearfix"> </div>        
        <div class="col-sm-12 form-group">
            <label>Comments:</label>
            <div class="black pl-1 f14 discussion_by" ng-if="question.discussion.log" ng-repeat="log in question.discussion.log">
                <div class="black font-italic" ng-if="log.comments">{{log.comments}}</div>
                <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'general.by' | translate}}</span>&nbsp; {{log.created_by}}
                </span>
                <span style="font-size: 11px;" class="font-italic gray" ng-if="log.created_by">
                    <span style="color:black" class="">{{'discussion.date' | translate}}</span>&nbsp;
                        {{log.created_on | utcToLocal:'toLocalDate'|checkEmpty}}
                </span>
            </div>
        </div>
    </div> <!-- modal-body div close-->
</script>

<script type="text/ng-template" id="create-provider-user.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'user.breadcrumb.create_external_user' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block">
            <form novalidate name="customUserForm" ng-submit="customUserForm.$valid && addUser(customUser)">
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.f_name' | translate}} *</label>
                    <input type="text" class="form-control" name="first_name" ng-model="customUser.first_name" placeholder="{{'general.enter' | translate}} {{'user.profile.f_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.first_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.l_name' | translate}} *</label>
                    <input type="text" class="form-control" name="last_name" ng-model="customUser.last_name" placeholder="{{'general.enter' | translate}} {{'user.profile.l_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.last_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'links.link' | translate}} </label>
                    <input type="text" class="form-control" name="link" ng-model="customUser.link"
                           maxlength="256"
                           placeholder="{{'general.enter' | translate}} {{'links.link' | translate}}">
                 </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.email' |translate}} *</label>
                    <input type="email" class="form-control" name="email" ng-model="customUser.email" 
                           placeholder="{{'general.enter' | translate}} {{'user.profile.email' | translate}}"
                           required>
                    <span class="error-message" ng-if="customUserForm.email.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                    <span ng-if="customUserForm.email.$error.email && customUserForm.$submitted" class="error-message">{{'general.enter_valid_email' |translate}}</span>
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'normal.function' | translate}} </label>
                    <input type="text" class="form-control" name="function" ng-model="customUser.function" 
                           maxlength="128"
                      placeholder="{{'general.enter' | translate}} {{'normal.function' | translate}}">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'normal.notes' | translate}} </label>
                    <input type="text" class="form-control" name="notes" ng-model="customUser.notes" 
                           maxlength="128"
                      placeholder="{{'general.enter' | translate}} {{'normal.free_text_notes' | translate}}">
                </div>
                <div class="clearfix"></div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.offi_phone' | translate}}</label>
                    <input type="text" class="form-control" name="office_phone"  ng-model="customUser.office_phone">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.sec_phone' | translate}}</label>
                    <input type="text" class="form-control" name="secondary_phone" ng-model="customUser.secondary_phone">
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.fax_num' | translate}}</label>
                    <input type="text" class="form-control" name="fax_number" ng-model="customUser.fax_number">
                </div>
                <div class="clearfix"></div>

                <div class="form-group col-sm-12">
                    <label>{{'user.profile.address' | translate}}</label>
                    <input type="text" class="form-control" name="address" ng-model="customUser.address">
                </div>

                <div class="clearfix"></div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.postal_code' | translate}}</label>
                    <input type="text" class="form-control" name="postal_code" ng-model="customUser.postal_code">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.city' | translate}}</label>
                    <input type="text" class="form-control" name="city" ng-model="customUser.city">
                </div>

                <div class="form-group col-sm-4">
                    <label >{{'customer.country' | translate}}</label>
                    <select class="form-control" name="country" ng-model="customUser.country_id"
                            ng-options="item.id_country as item.country_name for item in countriesList">
                        <option value="">--{{'general.select_country' | translate}}--</option>
                    </select>
                </div>
                
                <div class="clearfix"></div>


                <div class="form-group col-sm-6">
                    <label>{{'contract.provider_name' | translate}} *</label>
                    <select chosen class="form-control chosen-choices"
                        id="add-chosen"
                        onchange="chosen()"
                        allow-single-deselect="true"
                        placeholder-text-single="'{{'normal.placeholder_relations' | translate}}'"
                        name="provider_name" ng-model="customUser.provider_name" 
                       ng-disabled = true>
                        <option value="">{{provider.provider_name}}</option>
                    </select>
                   
                </div>
                <!-- <div class="form-group col-sm-6">
                    <label>{{'general.status' | translate}} *</label>
                    <select class="form-control" ng-model="customUser.user_status" 
                    ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                        required>
                        <option value="">-{{'general.select' | translate}}--</option>
                        <option value="1">{{'general.active' | translate}}</option>
                        <option value="0">{{'general.inactive' | translate}}</option>
                    </select>
                </div> -->
                <div class="clearfix"></div>
                <!-- <div class="col-sm-6" >
                    <div class="col-sm-12 p0">
                        <label class="checkbox" for="contribution_type"> 
                            <input type="checkbox" name="inline-checkbox1" id="contribution_type" 
                             ng-model="customUser.contribution_type" ng-true-value="1"
                                ng-false-value="0">{{'customer.admin.provider_role' | translate}}
                        </label>
                    </div>
                </div> -->
                <div class="clearfix"></div>
                
                    <div class="form-group col-sm-12">
                        <label class="form-control-label">{{'user.profile.gender'| translate}}</label>
                        <div class="" style="display:flex; align-items:center;" ng-init="customUser.gender = (customUser.gender=='')?'female':'male'">
                            <label class="radio-inline mr-1">
                                <input type="radio" ng-model="customUser.gender" name="gender" value="male" ng-change="getValue(customUser.gender)"> {{'user.profile.male' | translate}}
                            </label>
                            <label class="radio-inline">
                                <input type="radio" ng-model="customUser.gender" name="gender" value="female" ng-change="getValue(customUser.gender)"> {{'user.profile.female' | translate}}
                            </label>
                            <label class="radio-inline otherGender pl-1">
                                <input type="radio"  name="gender" value="other" ng-model="customUser.gender" 
                                ng-change="getValue(customUser.gender)">
                            </label>
                            <span>
                                <input type="text" class="form-control" 
                                ng-disabled="disableField" ng-required="customUser.gender=='other'" value="other"  name="otherGender"  ng-model="customUser.other_gender_value">
                                <span class="error-message" ng-if="customUserForm.otherGender.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                            </span>
                        </div>
                    </div>
                <div class="clearfix"></div>

                <div class="col-sm-10">
                    <div class="col-sm-12 p0">
                        <label class="checkbox" for="is_external_user_login">
                            <input type="checkbox" name="inline-checkbox2" id="is_external_user_login" 
                                    ng-click="changeStatus(customUser.contribution_type)" 
                                   ng-model="customUser.contribution_type" ng-true-value="1" ng-false-value="0">
                            {{'normal.external_user_login' | translate}}
                        </label>
                    </div>
                    <div  class="form-group col-sm-7 p0">
                        <label class="form-control-label">{{'user.profile.status' | translate}} *</label>
                        <select class="form-control" ng-model="customUser.user_status" 
                              ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                             ng-disabled="!customUser.contribution_type" name="external_user_status">
                            <option value="">-- {{'general.select' | translate}} --</option>
                            <option value="1">{{'general.active' | translate}}</option>
                            <option value="0">{{'general.inactive' | translate}}</option>
                        </select>
                    </div>
                </div> 

                <div class="clearfix"></div>
                <div class="col-sm-6">
                    <div class="col-sm-5 p0">
                        <label class="checkbox" for="is_manual">
                            <input type="checkbox" name="inline-checkbox1" id="is_manual" 
                                   ng-model="customUser.is_manual"
                                   ng-disabled="!customUser.contribution_type" 
                                   ng-true-value="1" ng-false-value="0">
                            {{'obligations.manual_password' | translate}}
                        </label>
                    </div>
                    <div ng-show="customUser.is_manual && !hidefield" class="form-group col-sm-7 p0">
                        <label class="form-control-label">{{'user.profile.password' | translate}} *</label>
                        <input type="text" class="form-control" name="password2010" ng-model="customUser.password" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                            placeholder="{{'user.profile.password' | translate}}" maxlength="20" ng-required="customUser.is_manual">
                        <span ng-if="customUserForm.password2010.$error.required && customUserForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                        <div ng-if="!customUserForm.password2010.$error.required && customUserForm.password2010.$error.pattern" class="error-message">
                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                        </div>
                    </div>
                </div>                       
                <div class="clearfix"></div>
                <div class="form-group col-sm-12 text-center">
                    <button type="submit" class="btn btn-sm btn-primary">
                        <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                    <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                        <i class="fa fa-ban"></i> {{'general.cancel' | translate}}</button>
                </div>
               

            
                   
              
            </form>
        </div>
    </div>
</script>

<script type="text/ng-template" id="edit-provider-user.html">
    <div class="modal-header">
        <h6 class="modal-title" id="modal-title"> {{'user.breadcrumb.edit_external_user' |translate}}
            <a ng-click="cancel()" title="{{'general.close' | translate}}" class=" pull-right icon-times f16"></a>
        </h6>
    </div>
    <div class="modal-body clearfix">
        <div class="card-block">
            <form novalidate name="customUserForm" ng-submit="customUserForm.$valid && addUser(customUser)">
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.f_name' | translate}}*</label>
                    <input type="text" class="form-control" name="first_name" ng-model="customUser.first_name" placeholder="{{'general.enter' | translate}} {{'user.profile.f_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.first_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.l_name' | translate}} *</label>
                    <input type="text" class="form-control" name="last_name" ng-model="customUser.last_name" placeholder="{{'general.enter' | translate}} {{'user.profile.l_name' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.last_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'links.link' | translate}} </label>
                    <input type="text" class="form-control" name="link" ng-model="customUser.link" 
                           maxlength="256"
                           placeholder="{{'general.enter' | translate}} {{'links.link' | translate}}">

                           <span ng-if="selectedRow" style="display: block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"
                           class="fa fa-link skyblue pointer custom-ellipsis" ng-click="goToLink(customUser.link)">{{customUser.link}}</span>
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.email' |translate}} *</label>
                    <input type="email" class="form-control" name="email" ng-model="customUser.email" placeholder="{{'general.enter' | translate}} {{'user.profile.email' | translate}}"
                        required>
                    <span class="error-message" ng-if="customUserForm.email.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                    <span ng-if="customUserForm.email.$error.email && customUserForm.$submitted" class="error-message">{{'general.enter_valid_email' |translate}}</span>
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'normal.function' | translate}} </label>
                    <input type="text" class="form-control" name="function" ng-model="customUser.function" 
                           maxlength="128"
                      placeholder="{{'general.enter' | translate}} {{'normal.function' | translate}}">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'normal.notes' | translate}} </label>
                    <input type="text" class="form-control" name="notes" ng-model="customUser.notes" 
                           maxlength="128"
                      placeholder="{{'general.enter' | translate}} {{'normal.free_text_notes' | translate}}">
                </div>

                
                <div class="clearfix"></div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.offi_phone' | translate}}</label>
                    <input type="text" class="form-control" name="office_phone" ng-model="customUser.office_phone">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.sec_phone' | translate}}</label>
                    <input type="text" class="form-control" name="secondary_phone" ng-model="customUser.secondary_phone">
                </div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.fax_num' | translate}}</label>
                    <input type="text" class="form-control" name="fax_number" ng-model="customUser.fax_number">
                </div>
                <div class="clearfix"></div>

                <div class="form-group col-sm-12">
                    <label>{{'user.profile.address' | translate}}</label>
                    <input type="text" class="form-control" name="address" ng-model="customUser.address">
                </div>

                <div class="clearfix"></div>

                <div class="form-group col-sm-4">
                    <label>{{'user.profile.postal_code' | translate}}</label>
                    <input type="text" class="form-control" name="postal_code" ng-model="customUser.postal_code">
                </div>
                <div class="form-group col-sm-4">
                    <label>{{'user.profile.city' | translate}}</label>
                    <input type="text" class="form-control" name="city" ng-model="customUser.city">
                </div>

                <div class="form-group col-sm-4">
                    <label >{{'customer.country' | translate}}</label>
                    <select class="form-control" name="country" ng-model="customUser.country_id"
                            ng-options="item.id_country as item.country_name for item in countriesList">
                        <option value="">--{{'general.select_country' | translate}}--</option>
                    </select>
                </div>

                <div class="clearfix"></div>
                


                <div class="form-group col-sm-6">
                    <label>{{'contract.provider_name' | translate}} *</label>
                    <select   chosen class="form-control chosen-choices" id="add-chosen" onchange="chosen()"
                       allow-single-deselect="true" placeholder-text-single="'{{'normal.placeholder_relations' | translate}}'"
                        name="provider_name" ng-model="provider.provider_name" 
                        ng-options="item.id_provider as item.provider_name for item in providers | orderBy:'provider_name'"
                        required 
                        ng-disabled="true" style="display:block;" >
                    <option value="">{{provider.provider_name}}</option>
                </select>
                    <span class="error-message" ng-if="customUserForm.provider_name.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>
                </div>
              
                <!-- <div class="form-group col-sm-6">
                    <label>{{'general.status' | translate}} *</label>
                    <select class="form-control" ng-model="customUser.user_status" ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                        required>
                        <option value="">-{{'general.select' | translate}}--</option>
                        <option value="1">{{'general.active' | translate}}</option>
                        <option value="0">{{'general.inactive' | translate}}</option>
                    </select>
                </div> -->
                <div class="clearfix"></div>
                <!-- <div class="col-sm-6" >
                    <div class="col-sm-12 p0">
                        <label class="checkbox" for="contribution_type"> 
                            <input type="checkbox" name="inline-checkbox1" id="contribution_type" ng-model="customUser.contribution_type" ng-true-value="1"
                                ng-false-value="0">{{'customer.admin.provider_role' | translate}}
                        </label>
                    </div>
                </div> -->
                <div class="clearfix"></div>

                <div class="form-group col-sm-12">
                    <label class="form-control-label">{{'user.profile.gender'| translate}}</label>
                    <div class="" style="display:flex; align-items:center;" ng-init="customUser.gender = (customUser.gender=='')?'female':'male'">
                        <label class="radio-inline mr-1">
                            <input type="radio" ng-model="customUser.gender" name="gender" value="male" ng-change="getValue(customUser.gender)"> {{'user.profile.male' | translate}}
                        </label>
                        <label class="radio-inline">
                            <input type="radio" ng-model="customUser.gender" name="gender" value="female" ng-change="getValue(customUser.gender)"> {{'user.profile.female' | translate}}
                        </label>
                        <label class="radio-inline otherGender pl-1">
                            <input type="radio"  name="gender" value="other" ng-model="customUser.gender" ng-change="getValue(customUser.gender)">
                        </label>
                        <span>
                            <input type="text" class="form-control" ng-disabled="disableField"  value="Other"  name="otherGneder"  ng-model="customUser.other_gender_value" ng-required="customUser.gender=='other'">
                            <span class="error-message" ng-if="customUserForm.otherGneder.$error.required && customUserForm.$submitted">{{'general.required_field' |translate}}</span>

                        </span>
                    </div>
                </div>

                <div class="clearfix"></div>

                <div class="col-sm-12">
                    <div class="col-sm-12 p0">
                        <label class="checkbox" for="is_external_user_login">
                            <input type="checkbox" name="inline-checkbox2" 
                                   ng-click="changeStatus(customUser.contribution_type)" id="is_external_user_login" 
                                   ng-model="customUser.contribution_type" ng-true-value="1" ng-false-value="0">
                            {{'normal.external_user_login' | translate}}
                        </label>
                    </div>
                    <div  class="form-group col-sm-7 p0">
                        <label class="form-control-label">{{'user.profile.status' | translate}} *</label>
                        <select class="form-control" ng-model="customUser.user_status" 
                                ng-init="customUser.user_status = (customUser.user_status =='')?'0':'1'"
                                ng-disabled="!customUser.contribution_type" name="external_user_status">
                            <option value="">-- {{'general.select' | translate}} --</option>
                            <option value="1">{{'general.active' | translate}}</option>
                            <option value="0">{{'general.inactive' | translate}}</option>
                        </select>
                    </div>
                </div> 
                <div class="clearfix"></div>
                <div class="col-sm-12">
                    <div class="col-sm-5 p0" ng-if="!hideManual">
                        <label class="checkbox" for="is_manual">
                            <input type="checkbox" name="inline-checkbox1" id="is_manual" 
                                ng-disabled="!customUser.contribution_type"
                                ng-model="customUser.is_manual" ng-true-value="1" ng-false-value="0">
                            {{'obligations.manual_password' | translate}}
                        </label>
                    </div>
                    <div ng-show="customUser.is_manual && hidePasswordfield" class="form-group col-sm-7 p0">
                        <label class="form-control-label">{{'user.profile.password' | translate}} *</label>
                        <input type="text" class="form-control" name="password2010" ng-model="customUser.password" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                            placeholder="{{'user.profile.password' | translate}}" maxlength="20" ng-required="customUser.is_manual">
                        <span ng-if="customUserForm.password2010.$error.required && customUserForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                        <div ng-if="!customUserForm.password2010.$error.required && customUserForm.password2010.$error.pattern" class="error-message">
                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                        </div>
                    </div>
                </div>                    
                <div class="clearfix"></div>
                <div class="form-group col-sm-12 text-center">
                    <button type="submit" class="btn btn-sm btn-primary">
                        <i class="fa fa-dot-circle-o"></i> {{bottom | translate}}</button>
                    <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                        <i class="fa fa-ban"></i> {{'general.cancel' | translate}}</button>
                </div>
            </form>
        </div>
    </div>

                         
      
    <div class="card"  ng-if="!hidefield"> 
        <div class="card-header">
            <strong>{{'user.cpassword.change_password' | translate}}</strong>
        </div>
        <div class="card-block">
            <form name="passwordForm" novalidate ng-submit="passwordForm.$valid && resetPassword(userPwd)">
                <div class="col-sm-12 p0 reset-psd">
                    <div class="form-group col-sm-4">
                        <label class="form-control-label">{{'user.cpassword.npassword' | translate}} *</label>
                        <input type="password" class="form-control" name="npassword" ng-model="userPwd.npassword" ng-pattern="/^(?=.*[A-Z])(?=.*\d)(?=.*[a-z])(?=.*\d)(?=.*[$@$!%*#?&()\-_.=+])[A-Za-z\d$@$!%*#?&()\-_.=+]{8,}$/"
                            placeholder="{{'user.cpassword.npassword' | translate}}" maxlength="20" minlength="8" required>
                        <span ng-if="passwordForm.npassword.$error.required && passwordForm.$submitted" class="error-message">{{'general.required_field'|translate}}</span>
                        <div ng-if="!passwordForm.npassword.$error.required && passwordForm.npassword.$error.pattern" class="error-message">
                            <span class="clearfix">{{'user.cpassword.password_pattern'|translate}}</span>
                        </div>
                    </div>
                    <div class="form-group col-sm-4">
                        <label class="form-control-label">{{'user.cpassword.cpassword' | translate}} *</label>
                        <input type="password" class="form-control" name="cpassword" ng-model="userPwd.cpassword" placeholder="Confirm Password"
                            maxlength="20" minlength="8" required>
                        <span ng-if="passwordForm.cpassword.$error.required && passwordForm.$submitted" class="error-message">{{'general.required_field' |translate}}</span>
                    </div>
                    <div class="clearfix"></div>
                    <div class="form-group col-sm-4">
                        <button type="submit" class="btn btn-sm btn-primary">
                            <i class="fa fa-dot-circle-o"></i> {{'general.reset'|translate}}
                        </button>
                        <button type="button" ng-click="cancel()" class="btn btn-sm btn-danger">
                            <i class="fa fa-ban"></i> {{'general.cancel'|translate}}</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</script>
<script type="text/ng-template" id="menuHeaderTemplate">
    <div></div>
</script>
<!-- <script type="text/javascript" src="plugins/angular-fusionchart/src/fusioncharts.js"></script>
<script type="text/javascript" src="plugins/angular-fusionchart/src/fusioncharts.theme.fint.js"></script>
<script type="text/javascript" src="plugins/angular-fusionchart/src/angular-fusioncharts.js"></script> -->

<!-- parvathi code ends-->
<style>
    
  .relation-contract-name{
       width:20%;
  }
  .relation-category-name{
      width:10%;
  }
  .relation-owner-name{
       width:20%;
  }
  .relation-delegate-name{
       width:20%;
  }
  .relation-projected-value{
      width:20%;
  }
  .relation-last-review{
       width:10%;
  }
    .modal-dialog {
        max-width: 800px !important;
        margin: 30px auto;
    }
    .accordion-default .panel-body {
        padding: 0;
    }

    .panel-body .attachments_block {
        padding: 10px !important;
    }
  .icon-arrow-down-circle{
      vertical-align: middle;
  }
  .icon-trash{
      font-size: 20px;
  }
    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: #ccc;
        border-bottom: 1px solid #ccc;
    }

    .nav-tabs .nav-item {
        margin-bottom: 0px;
        padding: 0;
    }

    .tab-content .tab-pane {
        padding: 10px;
        min-height: 55px;
    }

    .nav-tabs .nav-item .nav-link {
        background: #FFF;
        color: #464646;
        text-align: center;
        min-width: 140px;
        border: 1px solid #ccc;
        border-bottom: none;
    }

    .nav-tabs .nav-item.active .nav-link {
        background: #efefef5e;
        border-bottom-color: #FFF;
        border: 1px solid #ccc;
        border-bottom: 1px solid #f9f9f9;
        margin-bottom: -1px;
        position: relative;
    }

    .name-relation{
        width:25%;
    }
    .company-relation{
        width:15%;
    }
    .email-relation{
        width:25%;
    }
    .contribution-relation{
        width:15%;
    }
    .status-relation{
        width:10%;
    }
    .action-relation{
        width:10%;
    }
    
    .module-action{
        width:20%;
    }
    .item-action{
        width:19%;
    }
    .response-action{
        width:20%;
    }
    .duedate-action{
        width:13%;
    }
    .priority-action{
        width:10%;
    }
    .statu-action{
        width:10%;
    }
    .action-actions{
        width:8%;
    }

    .accordion-default .panel-body ul {
        background: #fff;
    }

    .nav.nav-tabs li:last-child {
        padding-right: 0px;
        margin: 0;
        margin-left: 0.2rem;
    }

    .accordion-default .panel-body ul {
        padding: 0;
        list-style: none;
        background: #fff;
    }

    .accordion-default .panel-body ul li {
        padding: 0;
        border-color: transparent;
        border-bottom: transparent;
    }

    .modal-dialog .nav-tabs {
        background: #fff;
    }

    .modal-dialog .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .modal-dialog .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .modal-dialog .tab-content {
        border: 1px solid #ccc;
    }

    .nav-tabs .nav-item .nav-link {
        box-shadow: none;
    }

    .nav-tabs .nav-item {
        box-shadow: none;
        margin-bottom: 0px;
    }

    .tab-content {
        border: 1px solid #ccc !important;
        background-color: #f9f9f9;
    }

    .card-block .tab-content {
        margin-top: 0;
        height: 194px;
        overflow-y: auto;
    }

    .alternate-div-bag>div:nth-of-type(odd) {
        background: #e0e0e047;
    }

    .pl5 {
        padding-left: 5px;
    }

    .pr5 {
        padding-right: 5px;
    }

    .hover-show-icon {
        display: none;
    }

    .hover-icon-cls:hover .hover-show-icon {
        display: inline;
    }
    .review-content {
        margin-bottom: 8px !important;
        padding-bottom: 5px !important;
    }
    .custom-row{
        display: flex;
        flex-wrap: wrap;
    }

    .provider-tooltip.large-widget .card{
        padding: 0 5px 5px !important;

    }

    .attach-delete .icon-trash:before {
            position: relative;
            top: 3px;
    }

    .otherGender{
        padding: 0 5px;
    }

    .attach-lock.tss-lock:before, .attach-lock.tss-unlock:before  {
    position: relative;
    top: 3px;
    }




    .ui-tabs-scrollable>.nav-button.left-nav-button:before {
        content: "\f053";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.nav-button.right-nav-button:before {
        content: "\f054";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable>.dropdown>.dropdown-toggle:before {
        content: "\f078";
        font: normal normal normal 14px/1 FontAwesome;
    }

    .ui-tabs-scrollable .dropdown-toggle::after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs>li>a {
        height: 36px;
    }

    .dropdown-menu li.active a,
    .ui-tabs-scrollable>.nav-button {
        color: #000;
    }

    .ui-tabs-scrollable>.nav-button {
        height: 36px;
        line-height: 36px;
    }




    .custom-scroll-tabs-contract .nav-tabs .nav-item.current .nav-link {
        background: #ffffff;
        color: #000;
    }

    .custom-scroll-tabs-contract .nav-tabs .current.nav-item .nav-link {
        border-bottom: 0px solid #cccccc;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link {
        border-bottom: 1px solid #cccccc;
        min-width: auto;
        position: relative;
        background: #fff;
        color: #464646;
        margin-right: 4px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item .nav-link:after {
        content: '';
        position: absolute;
        width: 4px;
        height: 1px;
        background: #ccc;
        bottom: -1px;
        right: -5px;
    }

    .custom-scroll-tabs-contract .nav-tabs .nav-item:last-child .nav-link:after {
        display: none;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.nav-tabs {
        border-bottom: 0px solid #cccccc;
        /* z-index: 999999; */
        position: relative;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content {
        margin-top: -2px;
        border-top: 1px solid #ddd;
    }

    .custom-scroll-tabs-contract>ul {
        width: calc(100% - 4px);
    }

    .ui-tabs-scrollable.show-drop-down>.nav-button.right-nav-button {
        /* right: 30px; */
        right: 0px;
        border-left: 2px solid #d0d0d0;
    }

    .ui-tabs-scrollable .nav.nav-tabs {
        width: calc(100% + 25px);
    }

    .ui-tabs-scrollable>.dropdown {
        /* right: 35px; */
        display: none;
    }

    .ui-tabs-scrollable>.nav-button.left-nav-button {
        border-right: 2px solid #ccc !important;
        border: 1px solid #ccc;
    }

    .ui-tabs-scrollable>.spacer>div:first-child>.tab-content>.active {
        /* height: 100%; */
        overflow: visible
    }



    @media(max-width: 1330px){
    .nav-tabs .nav-item .nav-link {
        min-width: 100px;
        padding: 0.5em 0.3rem;
    }
   }
   @media(max-width: 1080px){
    .nav-tabs .nav-item .nav-link {
        font-size: 12.3px;
    }
   }

</style>
